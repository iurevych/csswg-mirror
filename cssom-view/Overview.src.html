<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en-US">
 <head>
  <title>CSSOM View Module</title>

  <style type="text/css">
   pre.idl { border:solid thin; background:#eee; color:#000; padding:0.5em }
   pre.idl :link, pre.idl :visited { color:inherit; background:transparent }
   dfn { font-weight:bold; font-style:normal }
   div.example { margin-left:1em; padding-left:1em; border-left:double; color:#222; background:#fcfcfc }
   div.example code { color:inherit }
   p.note {  margin-left:2em; color:green; font-style:italic; font-weight:bold }
   p.note::before { content:"Note: " }
   .XXX { padding:.5em; border:solid red }
   .XXX::before { content:"Issue: " }
   em.ct { font-weight:bold; font-style:normal }
   code { color:orangered }
   code :link, code :visited { color:inherit }
  </style>

  <link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/W3C-[STATUS]">
 </head>

 <body class="draft">
  <div class="head">
   <!--logo-->

   <h1 id="cssom-view-module">CSSOM View Module</h1>

   <h2 class="no-num no-toc" id="w3c-doctype">[LONGSTATUS] [DATE: 3 August 2002]</h2>

   <dl>

    <dt>This Version:</dt>
    <dd><a href="[VERSION]/">http://www.w3.org/TR/[YEAR]/ED-cssom-view-[CDATE]/</a></dd>

    <dt>Latest Version:</dt>
    <dd><a href="http://www.w3.org/TR/cssom-view/">http://www.w3.org/TR/cssom-view/</a></dd>

    <dt>Latest Editor Version:</dt>
    <dd><a href="http://dev.w3.org/csswg/cssom-view/">http://dev.w3.org/csswg/cssom-view/</a></dd>

    <dt>Previous Versions:</dt>
    <dd><a href="http://www.w3.org/TR/2009/WD-cssom-view-20090804/">http://www.w3.org/TR/2009/WD-cssom-view-20090804/</a></dd>
    <dd><a href="http://www.w3.org/TR/2008/WD-cssom-view-20080222/">http://www.w3.org/TR/2008/WD-cssom-view-20080222/</a></dd>

    <dt>Editor:</dt>
    <dd><a href="http://annevankesteren.nl/">Anne van Kesteren</a>
    (<a href="http://www.opera.com/">Opera Software ASA</a>)
    &lt;<a href="mailto:annevk@opera.com">annevk@opera.com</a>&gt;</dd>
   </dl>

   <!-- copyright -->
  </div>

  <hr>

  <h2 id="abstract" class="no-num no-toc">Abstract</h2>

  <p>The APIs introduced by this specification provide authors with a way to
  inspect and manipulate the visual view of a document. This includes
  getting the position of element layout boxes, obtaining the width
  of the viewport through script, and also scrolling an element.</p>



  <h2 id="sotd" class="no-num no-toc">Status of this Document</h2>

  <!-- status -->



  <h2 id="toc" class="no-num no-toc">Table of Contents</h2>

  <!-- toc -->


  <h2 id="background">Background</h2>

  <p>Many of the features defined in this specification have been supported
  by browsers for a long period of time. The goal of this specification is
  to define these features in such a way that they can be implemented by all
  browsers in an interoperable manner. The specification also defines a
  couple of new features that will hopefully be useful to authors. (If they
  are not you can bug us!)</p>


  <h2 id="conformance">Conformance Criteria</h2>

  <p>Everything in this specification is normative except for diagrams,
  examples, notes and sections marked non-normative.</p>

  <!--<p>The key word <em class="ct">must</em>, <em class="ct">must not</em>,
  <em class="ct">should</em> and <em class="ct">may</em> in this document
  are to be interpreted as described in RFC 2119.-->
  <p>The key word <em class="ct">must</em> in this document is to be
  interpreted as described in RFC 2119.
  [<cite><span>RFC2119</span></cite>]</p>

  <p>A conforming user agent implements all the requirements made by this
  specification.</p>


  <h3 id="webidl">Web IDL</h3>

  <p>The IDL fragments in this specification <em class="ct">must</em> be
  interpreted as required for conforming IDL fragments, as described in the
  Web IDL specification. [<cite><span>WebIDL</span></cite>]</p>


  <h3 id="terminology">Terminology</h3>

  <p><dfn><code>Document</code></dfn> and <dfn><code>Element</code></dfn>
  are defined by DOM Level 3 Core. [<cite><span>DOM3Core</span></cite>]</p>

  <p><dfn><code>Range</code></dfn> is defined in
  DOM Level 2 Traversal and Range. [<cite><span>DOM2TR</span></cite>]</p>

  <p><dfn><code>MouseEvent</code></dfn> is defined in DOM Level 2 Events.
  [<cite><span>DOM2Events</span></cite>]</p>

  <p>
   <dfn>Serialize a media query list</dfn> and
   <dfn>parse a media query list</dfn>
  are defined by the CSSOM. [<cite><span>CSSOM</span></cite>]</p>

  <p>
   <dfn id="fire-a-simple-event" title="Fire a simple event">Firing a simple event named <var title="">e</var></dfn>,
   <dfn>HTML element</dfn>,
   <dfn><code>HTMLElement</code></dfn>,
   <dfn>queue a task</dfn>,
   <dfn>quirks mode</dfn>,
   <dfn>task</dfn>, and
   <dfn><code>Window</code></dfn>
  are defined by HTML5. [<cite><span>HTML5</span></cite>]</p>

  <p><dfn>The HTML <code>body</code> element</dfn> is the first
  <code>body</code> <span>HTML element</span> child of the root
  <span>HTML element</span> <code>html</code>.</p>

  <p><dfn id="content-edge">Content edge</dfn>,
  <dfn id="padding-edge">padding edge</dfn>,
  <dfn id="border-edge">border edge</dfn>, and
  <dfn id="canvas">canvas</dfn> are defined by CSS 2.1.
  [<cite><span>CSS21</span></cite>]</p>

  <p><dfn id="viewport">Viewport</dfn> and
  <dfn id="initial-containing-block">initial containing block</dfn> are
  defined by CSS 2.1 unless there is an ancestor <code>foreignObject</code>
  element in the <code>http://www.w3.org/2000/svg</code> namespace in which
  case that element acts as viewport and initial containing block.
  [<cite><span>CSS21</span></cite>]
  [<cite><span>SVG</span></cite>]</p>

  <p>The term <dfn>content</dfn> refers to the dimensions of the element's
  content area, including overflown content.
  [<cite><span>CSS21</span></cite>]</p>

  <p>The term <dfn>document content</dfn> refers to the area on the
  <span>canvas</span> that is rendered upon, excluding content on negative
  axis.</p>


  <h3>CSS pixels</h3>

  <p>All coordinates and dimensions for the APIs defined in this
  specification are in CSS pixels. [<cite><span>CSS21</span></cite>]</p>

  <p class="note">This does not apply to e.g.
  <code title="dom-Window-matchMedia">matchMedia()</code> as the units
  are explicitly given there.</p>



  <h2 id="extensions-to-the-window-interface">Extensions to the <code title="">Window</code> Interface</h2>

  <pre class="idl">[Supplemental] interface <span>Window</span> {
  <span>MediaQueryList</span> <span title="dom-Window-matchMedia">matchMedia</span>(DOMString <var title="">media_query_list</var>);
  readonly attribute <span>Screen</span> <span title="dom-Window-screen">screen</span>;

  // viewport
  readonly attribute long <span>innerWidth</span>;
  readonly attribute long <span>innerHeight</span>;

  // viewport scrolling
  readonly attribute long <span title="dom-Window-scrollX">scrollX</span>;
  readonly attribute long <span title="dom-Window-pageXOffset">pageXOffset</span>;
  readonly attribute long <span title="dom-Window-scrollY">scrollY</span>;
  readonly attribute long <span title="dom-Window-pageYOffset">pageYOffset</span>;
  void <span title="dom-Window-scroll">scroll</span>(long <var title="">x</var>, long <var title="">y</var>);
  void <span title="dom-Window-scrollto">scrollTo</span>(long <var title="">x</var>, long <var title="">y</var>);
  void <span title="dom-Window-scrollby">scrollBy</span>(long <var title="">x</var>, long <var title="">y</var>);

  // client
  readonly attribute long <span>screenX</span>;
  readonly attribute long <span>screenY</span>;
  readonly attribute long <span>outerWidth</span>;
  readonly attribute long <span>outerHeight</span>;
};</pre>


  <p>When the
  <dfn id="dom-window-matchmedia" title="dom-Window-matchMedia"><code>matchMedia(<var title="">media_query_list</var>)</code></dfn>
  method is invoked these steps must be run:</p>

  <ol>
   <li><p>Let <var title="">parsed_media_query_list</var> be the result of
   <span title="parse a media query list">parsing</span>
   <var title="">media_query_list</var>.</p></li>

   <li><p>Return a <em>new</em> <code>MediaQueryList</code> object,
   associated with the <code>Window</code> object, with
   <var title="">parsed_media_query_list</var> as its associated
   media query list.</p></li>
  </ol>

  <p>The
  <dfn id="dom-window-screen" title="dom-Window-screen"><code>screen</code></dfn>
  attribute <em class="ct">must</em> return the <code>Screen</code> object
  associated with the <code>Window</code> object. It always returns the same
  object.</p>

  <p class="note">Accessing <code title="dom-Window-screen">screen</code> through a <code>WindowProxy</code> object might yield different results
  when the <code>Document</code> is navigated.</p>


  <p>The <dfn id="dom-window-innerwidth"><code>innerWidth</code></dfn>
  attribute <em class="ct">must</em> return the
  <span>viewport</span> width including the size of a rendered scroll bar
  (if any).</p>

  <div class="example">
   <p>The following snippet shows how to obtain the width of the
   viewport:</p>

   <pre><code>var viewportWidth = innerWidth</code></pre>
  </div>

  <p>The <dfn id="dom-window-innerheight"><code>innerHeight</code></dfn>
  attribute <em class="ct">must</em> return the
  <span>viewport</span> height including the size of a rendered scroll bar
  (if any).</p>

  <p>The
  <dfn id="dom-window-scrollx" title="dom-Window-scrollX"><code>scrollX</code></dfn> and
  <dfn id="dom-window-pagexoffset" title="dom-Window-pageXOffset"><code>pageXOffset</code></dfn>
  attributes <em class="ct">must</em> return the x-coordinate,
  relative to the <span>initial containing block</span> origin, of the left
  of the <span>viewport</span>.</p>

  <p>The
  <dfn id="dom-window-scrolly" title="dom-Window-scrollY"><code>scrollY</code></dfn> and
  <dfn id="dom-window-pageyoffset" title="dom-Window-pageYOffset"><code>pageYOffset</code></dfn>
  attributes <em class="ct">must</em> return the y-coordinate,
  relative to the <span>initial containing block</span> origin, of the top
  of the <span>viewport</span>.</p>

  <p>When the
  <dfn id="dom-window-scroll" title="dom-Window-scroll"><code>scroll(<var title="">x</var>,<var title="">y</var>)</code></dfn>
  method is invoked these steps <em class="ct">must</em> be run:</p>

  <ol>
   <li><p>If either <var title="">x</var> or <var title="">y</var> is
   infinite or NaN stop this algorithm.</p></li>

   <li>
    <dl>
     <dt>If <span>document content</span> can have overflow to the right

     <dd>
      <ol>
       <li><p>Let <var title="">x</var> be min(<var title="">x</var>,
       <span>content</span> width - <span>content edge</span>
       width).</p></li>

       <li><p>If <var title="">x</var> is negative let it be zero.</p></li>
      </ol>

     <dt>If <span>document content</span> can have overflow to the left
     (under right-to-left conditions)

     <dd>
      <ol>
       <li><p>Let <var title="">x</var> be max(<var title="">x</var>,
       <span>content edge</span> width - <span>content</span>
       width).</p></li>

       <li><p>If <var title="">x</var> is non-negative let it be
       zero.</p></li>
      </ol>
    </dl>

   <li><p>Let <var title="">y</var> be min(<var title="">y</var>,
   <span>document content</span> height - <span>viewport</span>
   height excluding the size of a rendered scroll bar (if any)).</p></li>

   <li><p>If <var title="">y</var> is negative let it be zero.</p></li>

   <li><p>Align the x-coordinate <var title="">x</var> of the
   <span>document content</span> with the left of the <span>viewport</span>
   and align the y-coordinate <var title="">y</var> of the <span>document
   content</span> with the top of the <span>viewport</span>.</p></li>

   <li><p>If the aligning caused content to move <span>queue a task</span>
   to <span>fire a simple event</span> named
   <code title="event-scroll">scroll</code> that bubbles at the
   <code>Document</code> object, unless a
   <span>task</span> to fire that event at the <code>Document</code> object
   was already <span title="queue a task">queued</span>.</p></li>
  </ol>

  <p>When the
  <dfn id="dom-window-scrollto" title="dom-Window-scrollto"><code>scrollTo(<var title="">x</var>,<var title="">y</var>)</code></dfn>
  method is invoked, the user agent <em class="ct">must</em> act as if the
  <code title="dom-Window-scroll">scroll()</code> method was invoked with
  the same arguments.</p>

  <p>When the
  <dfn id="dom-window-scrollby" title="dom-Window-scrollby"><code>scrollBy(<var title="">x</var>,<var title="">y</var>)</code></dfn>
  method is invoked, the user agent <em class="ct">must</em> act as if the
  <code title="dom-Window-scroll">scroll()</code> method was invoked with
  <var title="">x</var> plus <code title="dom-Window-scrollX">scrollX</code>
  as first argument and <var title="">y</var> plus
  <code title="dom-Window-scrollY">scrollY</code> as second argument.</p>

  <p>The <dfn id="dom-window-screenx"><code>screenX</code></dfn>
  attribute <em class="ct">must</em> return the x-coordinate,
  relative to the origin of the screen of the output device, of the top of
  the client window as number of pixels, or zero if there is no such
  thing.</p>

  <p>The <dfn id="dom-window-screeny"><code>screenY</code></dfn>
  attribute <em class="ct">must</em> return the y-coordinate,
  relative to the origin of the screen of the output device, of the left of
  the client window as number of pixels, or zero if there is no such
  thing.</p>

  <p>The <dfn id="dom-window-outerwidth"><code>outerWidth</code></dfn>
  attribute <em class="ct">must</em> return the width of the
  client window. If there is no client window this
  attribute <em class="ct">must</em> return zero.</p>

  <p>The <dfn id="dom-window-outerheight"><code>outerHeight</code></dfn>
  attribute <em class="ct">must</em> return the height of the
  client window. If there is no client window
  this attribute <em class="ct">must</em> return zero.</p>



  <h3 id="the-mediaquerylist-interface">The <code title="">MediaQueryList</code> Interface</h3>

  <p>A <code>MediaQueryList</code> object has an associated media query list
  set on creation and an associated
  <dfn>list of media query list listeners</dfn>, which is initially
  empty.</p>

  <p>If the associated media query list changes in evaluation then, for each
  listener in the <span>list of media query list listeners</span> &mdash; in
  appending order, <span>queue a task</span> that invokes the listener,
  passing as argument the <code>MediaQueryList</code> object.</p>

  <div class="example">
   <p>A simple piece of code that detects changes in the orientation of the
   viewport can be written as follows:</p>
   <pre><code>function handleOrientationChange(mql) {
  if(mql.matches) // landscape
    &hellip;
  else
    &hellip;
}
var mql = matchMedia("(orientation:landscape)")
mql.addListener(handleOrientationChange)</code></pre>
  </div>

  <pre class="idl">interface <dfn id="mediaquerylist">MediaQueryList</dfn> {
  readonly attribute DOMString <span title="dom-MediaQueryList-media">media</span>;
  readonly attribute DOMString <span title="dom-MediaQueryList-matches">matches</span>;
  void <span title="dom-MediaQueryList-addListener">addListener</span>(<span>MediaQueryListListener</span> <var title="">listener</var>);
  void <span title="dom-MediaQueryList-removeListener">removeListener</span>(<span>MediaQueryListListener</span> <var title="">listener</var>);
};

[Callback=FunctionOnly, NoInterfaceObject]
interface <dfn id="mediaquerylistlistener">MediaQueryListListener</dfn> {
  void <span>handleChange</span>(<span>MediaQueryList</span> <var title="">mql</var>);
};</pre>

  <p>The
  <dfn id="dom-MediaQueryList-media" title="dom-MediaQueryList-media"><code>media</code></dfn>
  <em class="ct">must</em> return the
  <span title="serialize a media query list">serialized</span> form of the associated media query list.</p>

  <p>The
  <dfn id="dom-MediaQueryList-matches" title="dom-MediaQueryList-matches"><code>matches</code></dfn>
  <em class="ct">must</em> return true if the associated media query list
  matches the state of the rendered <code>Document</code> and false if it
  does not.</p>

  <p>When the
  <dfn id="dom-mediaquerylist-addlistener" title="dom-MediaQueryList-addListener"><code>addListener(<var title="">listener</var>)</code></dfn>
  is invoked <var title="">listener</var> <em class="ct">must</em> be
  appended to the <span>list of media query list listeners</span>, unless
  it is already in the <span>list of media query list listeners</span>.</p>

  <p>When the
  <dfn id="dom-mediaquerylist-removelistener" title="dom-MediaQueryList-removeListener"><code>removeListener(<var title="">listener</var>)</code></dfn>
  is invoked <var title="">listener</var> <e class="ct">must</em> be removed
  from the <span>list of media query list listeners</span>.</p>



  <h3 id="the-screen-interface">The <code title="">Screen</code> Interface</h3>

  <p>As its name suggests, the <code>Screen</code> interface represents
  information about the screen of the output device.</p>

  <pre class="idl">interface <dfn id="screen">Screen</dfn> {
  readonly attribute unsigned long <span>availWidth</span>;
  readonly attribute unsigned long <span>availHeight</span>;
  readonly attribute unsigned long <span>width</span>;
  readonly attribute unsigned long <span>height</span>;
  readonly attribute unsigned long <span>colorDepth</span>;
  readonly attribute unsigned long <span>pixelDepth</span>;
};</pre>

  <p>The <dfn id="dom-screen-availwidth"><code>availWidth</code></dfn>
  attribute <em class="ct">must</em> return the available width of the
  rendering surface of the output device.</p>

  <p>The <dfn id="dom-screen-availheight"><code>availHeight</code></dfn>
  attribute <em class="ct">must</em> return the available height of the
  rendering surface of the output device.</p>

  <p>The <dfn id="dom-screen-width"><code>width</code></dfn> attribute
  <em class="ct">must</em> return the width of the output device.</p>

  <p>The <dfn id="dom-screen-height"><code>height</code></dfn> attribute
  <em class="ct">must</em> return the height of the output device.</p>

  <p>The <dfn id="dom-screen-colordepth"><code>colorDepth</code></dfn> and
  <dfn id="dom-screen-pixeldepth"><code>pixelDepth</code></dfn> attributes
  <em class="ct">must</em> both return the number of bits allocated to
  colors (i.e. excluding the alpha channel) in the output device. If the
  output device does not support colors these attributes
  <em class="ct">must</em> return zero.</p>
  <!-- pixelDepth is not supported by Internet Explorer 7 -->


  <h2 id="extensions-to-the-document-interface">Extensions to the <code title="">Document</code> Interface</h2>

  <pre class="idl">[Supplemental] interface <span>Document</span> {
  Element <span>elementFromPoint</span>(float <var title="">x</var>, float <var title="">y</var>);
  <span>CaretPosition</span> <span>caretPositionFromPoint</span>(float <var title="">x</var>, float <var title="">y</var>);
};</pre>

  <p>The
  <dfn id="dom-document-elementfrompoint" title="elementfrompoint"><code>elementFromPoint(<var title="">x</var>,
  <var title="">y</var>)</code></dfn> method, when invoked,
  <em class="ct">must</em> return the element at coordinates
  <var>x</var>,<var>y</var> in the <span>viewport</span>. The element to be
  returned is determined through hit testing. If either argument is
  negative, <var title="">x</var> is greater than the <span>viewport</span>
  width excluding the size of a rendered scroll bar (if any), or
  <var title="">y</var> is greather than the <span>viewport</span> height
  excluding the size of a rendered scroll bar (if any), the method
  <em class="ct">must</em> return <code>null</code>. If there is no element
  at the given position the method <em class="ct">must</em> return the root
  element, if any, or <code>null</code> otherwise.</p>

  <p>The
  <dfn id="dom-document-caretpositionfrompoint" title="caretpositionfrompoint"><code>caretPositionFromPoint(<var title="">x</var>,
  <var title="">y</var>)</code></dfn> method, when invoked,
  <em class="ct">must</em> return the result of running these steps:</p>

  <ol>
   <li><p>If either argument is negative, <var title="">x</var> is greater
   than the <span>viewport</span> width excluding the size of a rendered
   scroll bar (if any), <var title="">y</var> is greather than the
   <span>viewport</span> height excluding the size of a rendered scroll bar
   (if any) return null.</p></li>

   <li><p>If at the coordinates <var title="">x</var>,<var title="">y</var>
   in the <span>viewport</span> no text insertion point indicator would have
   been inserted return null.</p></li>

   <li>
    <p>If at the coordinates <var title="">x</var>,<var title="">y</var>
    in the <span>viewport</span> a text insertion point indicator would have
    been inserted in a text entry widget which is also a replaced element
    return a <span>caret position</span> with its properties set as
    follows:</p>

    <dl>
     <dt><span>caret node</span></dt>
     <dd><p>The node corresponding to the text entry widget.</p></dd>

     <dt><span>caret offset</span></dt>
     <dd><p>The amount of 16-bit units to the left of where the
     text insertion point indicator would have inserted.</p></dd>

     <dt><span>caret range</span></dt>
     <dd><p>null</p></dd>
    </dl>
   </li>

   <li>
    <p>Otherwise, return a <span>caret position</span> where the
    <span>caret range</span> is a collapsed <code>Range</code> object for
    the position where the text insertion point indicator would have been
    inserted and the other properties are set as follows:</p>

    <dl>
     <dt><span>caret node</span></dt>
     <dd><p>The <code title="dom-Range-startContainer">startContainer</code>
     of the <span>caret range</span>.</p></dd>

     <dt><span>caret offset</span></dt>
     <dd><p>The <code title="dom-Range-startOffset">startOffset</code> of
     the <span>caret range</span>.</p>
    </dl>
   </li>
  </ol>

  <p class="note">The specifics of hit testing are out of scope of this
  specification and therefore the exact details of
  <code>elementFromPoint()</code> and <code>caretPositionFromPoint()</code>
  are therefore too. Hit testing will hopefully be defined in a future
  revision of CSS or HTML.</p>



  <h3 id="the-caretposition-interface">The <code title="">CaretPosition</code> Interface</h3>

  <p>A <dfn>caret position</dfn> gives the position of a
  text insertion point indicator. It always has an associated
  <dfn>caret node</dfn>, <dfn>caret offset</dfn>, and
  <dfn>caret range</dfn>. It is represented by a <code>CaretPosition</code>
  object.</p>

  <pre class="idl">interface <dfn id="caretposition">CaretPosition</dfn> {
  readonly attribute <span>Node</span> <span title="dom-CaretPosition-offsetNode">offsetNode</span>;
  readonly attribute unsigned long <span title="dom-CaretPosition-offset">offset</span>;
  readonly attribute <span>Range</span> <span title="dom-CaretPosition-range">range</span>;
};</pre>

  <p>The
  <dfn id="dom-caretposition-offsetnode" title="dom-CaretPosition-offsetNode"><code>offsetNode</code></dfn>
  attribute <em class="ct">must</em> return the <span>caret node</span>.</p>

  <p>The
  <dfn id="dom-caretposition-offset" title="dom-CaretPosition-offset"><code>offset</code></dfn>
  attribute <em class="ct">must</em> return the <span>caret offset</span>.</p>

  <p>The
  <dfn id="dom-caretposition-range" title="dom-CaretPosition-range"><code>range</code></dfn>
  attribute <em class="ct">must</em> return the <span>caret range</span>.</p>

  <!-- https://bugs.webkit.org/show_bug.cgi?id=27046 -->


  <h2 id="extensions-to-the-element-interface">Extensions to the <code title="">Element</code> Interface</h2>

  <pre class="idl">[Supplemental] interface <span>Element</span> {
  <span>ClientRectList</span> <span>getClientRects</span>();
  <span>ClientRect</span> <span>getBoundingClientRect</span>();

           attribute long <span>scrollTop</span>;   // scroll on setting
           attribute long <span>scrollLeft</span>;  // scroll on setting
  readonly attribute long <span>scrollWidth</span>;
  readonly attribute long <span>scrollHeight</span>;

  readonly attribute long <span>clientTop</span>;
  readonly attribute long <span>clientLeft</span>;
  readonly attribute long <span>clientWidth</span>;
  readonly attribute long <span>clientHeight</span>;
};</pre>


  <h3>The <code title="">getClientRects()</code> and
  <code title="">getBoundingClientRect()</code> methods</h3>

  <p>The <code>getClientRects()</code> and <code>getBoundingClientRect()</code>
  methods provide information about the position of the border box edges of
  an element relative to the viewport. The objects these methods return
  <em class="ct">must</em> be static. That is, changes to the underlying
  document are not reflected in the objects.</p>

  <p>The
  <dfn id="dom-element-getclientrects"><code>getClientRects()</code></dfn>
  method, when invoked, <em class="ct">must</em> return the result of the
  following algorithm:</p>

  <ol>
   <li><p>If the element on which it was invoked does not have an associated
   CSS layout box and is not in the <code>http://www.w3.org/2000/svg</code>
   namespace return an empty <code>ClientRectList</code> object and stop
   this algorithm.</p></li>

   <li><p>If the element does not have an associated CSS layout box and is
   in the <code>http://www.w3.org/2000/svg</code> namespace return a
   <code>ClientRectList</code> object containing a single
   <code>ClientRect</code> object that describes the bounding box of the
   element as defined by the SVG specification.
   [<cite><span>SVG</span></cite>]</p></li>

   <li>
    <p>Return a <code>ClientRectList</code> object containing a list of
    <code>ClientRect</code> objects in content order describing the border
    boxes (including those with a height or width of zero) with the
    following constraints:</p>

    <ul>
     <li><p>If the element on which the method was invoked has a computed
     value for <code>display</code> property of <code>table</code> or
     <code>inline-table</code> include both the table box and the caption
     box, if any, but not the anonymous container box.
     [<cite><span>CSS21</span></cite>]</p></li>

     <li><p>Replace each
     <a href="http://www.w3.org/TR/CSS21/visuren.html#anonymous-block-level">anonymous
     block box</a> with its child box(es) and repeat this until no anonymous
     block boxes are left in the final list.
     [<cite><span>CSS21</span></cite>]</p></li>
    </ul>
   </li>
  </ol>

  <p>The
  <dfn id="dom-element-getboundingclientrect"><code>getBoundingClientRect()</code></dfn>
  method, when invoked, <em class="ct">must</em> return the result of the
  following algorithm:</p>

  <ol>
   <li><p>Let <var>list</var> be the result of invoking
   <code>getClientRects()</code> on the same element this method was invoked
   on.</p></li>

   <li><p>If the <var>list</var> is empty return a <code>ClientRect</code>
   object whose <code title="dom-clientrect-top">top</code>,
   <code title="dom-clientrect-right">right</code>,
   <code title="dom-clientrect-bottom">bottom</code> and
   <code title="dom-clientrect-left">left</code> members are zero.</p></li>

   <li><p>Otherwise, return a <code>ClientRect</code> object describing the
   smallest rectangle that includes the first rectangle in <var>list</var>
   and all of the remaining rectangles of which the height or width is not
   zero.</p></li>
  </ol>

  <div class="example">
   <p>The following snippet gets the dimensions of the first
   <code>div</code> element in a document:</p>

   <pre><code>var example = document.getElementsByTagName("div")[0].getBoundingClientRect();
var exampleWidth = example.width;
var exampleHeight = example.height;</code></pre>
  </div>


  <h3 id="scroll-attributes">The <code title="">scrollTop</code>,
  <code title="">scrollLeft</code>, <code title="">scrollWidth</code>, and
  <code title="">scrollHeight</code> attributes</h3>

  <p>The <dfn id="dom-element-scrolltop"><code>scrollTop</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element does not have any associated CSS layout box or the
   element is the root element and the <code>Document</code> is in
   <span>quirks mode</span> return zero and terminate these steps.</p></li>

   <li><p>If the element is the root element return the value of
   <code title="dom-Window-scrollY">scrollY</code>.</p></li>

   <li><p>If the element is <span>the HTML <code>body</code> element</span>,
   the <code>Document</code> is in <span>quirks mode</span>, and the element
   does not have any overflow, return the value of
   <code title="dom-Window-scrollY">scrollY</code>.</p></li>

   <li><p>Return the y-coordinate of the <span>content</span> at the
   alignment point with the top of the <span>content edge</span> of the
   element.</p></li>
  </ol>

  <p>When setting the <code>scrollTop</code> attribute these steps
  <em class="ct">must</em> be run:</p>

  <ol>
   <li><p>Let <var title="">y</var> be the given value.</p></li>

   <li><p>If the element does not have any associated CSS layout box, the
   element is the root element and the <code>Document</code> is in
   <span>quirks mode</span>, or the element has no overflow, terminate these
   steps.</p></li>

   <li><p>If the element is the root element invoke
   <code title="dom-Window-scroll">scroll()</code> with zero as first
   argument and <var title="">y</var> as second.</p></li>

   <li><p>If the element is <span>the HTML <code>body</code> element</span>,
   the <code>Document</code> is in <span>quirks mode</span>, and the element
   does not have any vertical overflow, invoke
   <code title="dom-Window-scroll">scroll()</code> with
   <code title="dom-Window-scrollX">scrollX</code> as first
   argument and <var title="">y</var> as second.</p></li>

   <li><p>If <var title="">y</var> is infinite or NaN stop this
   algorithm.</p>

   <li><p>Let <var title="">y</var> be max(0, min(<var title="">y</var>,
   <span>content</span> height - <span>content edge</span> height)).</p></li>

   <li><p>Align <span>content</span> y-coordinate <var title="">y</var> with
   the top of the <span>content edge</span> of the element.</p></li>

   <li><p>If the aligning caused content to move <span>queue a task</span>
   to <span>fire a simple event</span> named
   <code title="event-scroll">scroll</code> at the element, unless a
   <span>task</span> to fire that event at the element was already
   <span title="queue a task">queued</span>.</p></li>
  </ol>

  <p>The <dfn id="dom-element-scrollleft"><code>scrollLeft</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element does not have any associated CSS layout box or the
   element is the root element and the <code>Document</code> is in
   <span>quirks mode</span> return zero and terminate these steps.</p></li>

   <li><p>If the element is the root element return the value of
   <code title="dom-Window-scrollX">scrollX</code>.</p></li>

   <li><p>If the element is <span>the HTML <code>body</code> element</span>,
   the <code>Document</code> is in <span>quirks mode</span>, and the element
   does not have any overflow, return the value of
   <code title="dom-Window-scrollX">scrollX</code>.</p></li>

   <li><p>Return the x-coordinate of the <span>content</span> at the
   alignment point with the left of the <span>content edge</span> of the
   element.</p></li>
  </ol>

  <p>When setting the <code>scrollLeft</code> attribute these steps
  <em class="ct">must</em> be run:</p>

  <ol>
   <li><p>Let <var title="">x</var> be the given value.</p></li>

   <li><p>If the element does not have any associated CSS layout box, the
   element is the root element and the <code>Document</code> is in
   <span>quirks mode</span>, or the element has no overflow, terminate these
   steps.</p></li>

   <li><p>If the element is the root element invoke
   <code title="dom-Window-scroll">scroll()</code> with
   <var title="">x</var> as first argument and zero as second.</p></li>

   <li><p>If the element is <span>the HTML <code>body</code> element</span>,
   the <code>Document</code> is in <span>quirks mode</span>, and the element
   does not have any vertical overflow, invoke
   <code title="dom-Window-scroll">scroll()</code> with
   <var title="">x</var> as first argument and
   <code title="dom-Window-scrollY">scrollY</code> as second.</p></li>

   <li><p>If <var title="">x</var> is infinite or NaN stop this
   algorithm.</p>

   <li>
    <dl>
     <dt>If the element can have overflow to the right</dt>

     <dd><p>Let <var title="">x</var> be max(0, min(<var title="">x</var>,
     <span>content</span> width -
     <span>content edge</span> width)).</p></dd>

     <dt>If the element can have overflow to the left (under right-to-left
     conditions)</dt>

     <dd><p>Let <var title="">x</var> be min(0, max(<var title="">x</var>,
     <span>content edge</span> width -
     <span>content</span> width)).</p></dd>
    </dl>
   </li>

   <li><p>Align <span>content</span> x-coordinate <var title="">x</var> with
   the left of the <span>content edge</span> of <var>A</var>.</p></li>

   <li><p>If the aligning caused content to move <span>queue a task</span>
   to <span>fire a simple event</span> named
   <code title="event-scroll">scroll</code> at the element, unless a
   <span>task</span> to fire that event at the element was already
   <span title="queue a task">queued</span>.</p></li>
  </ol>

  <p>The <dfn id="dom-element-scrollwidth"><code>scrollWidth</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element does not have any associated CSS layout box return
   zero and terminate these steps.</p></li>

   <li><p>If the element is the root element and the <code>Document</code>
   is not in <span>quirks mode</span> return the value of
   <code>innerWidth</code>.</p></li>

   <li><p>If the element is <span>the HTML <code>body</code> element</span>
   and the <code>Document</code> is in <span>quirks mode</span> return the
   value of <code>innerWidth</code>.</p></li>

   <li><p>Return the computed value of the '<code>padding-left</code>'
   property, plus the computed value of the '<code>padding-right</code>',
   plus the <span>content</span> width of the element.</p></li>
  </ol>

  <p>The <dfn id="dom-element-scrollheight"><code>scrollHeight</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element does not have any associated CSS layout box return
   zero and terminate these steps.</p></li>

   <li><p>If the element is the root element and the <code>Document</code>
   is not in <span>quirks mode</span> return the value of
   <code>innerHeight</code>.</p></li>

   <li><p>If the element is <span>the HTML <code>body</code> element</span>
   and the <code>Document</code> is in <span>quirks mode</span> return the
   value of <code>innerHeight</code>.</p></li>

   <li><p>Return the computed value of the '<code>padding-top</code>'
   property, plus the computed value of the '<code>padding-bottom</code>',
   plus the <span>content</span> height of the element.</p></li>
  </ol>

  <!-- for inline boxes offsetWidth and offsetHeight are identical to offset* -->


  <h3 id="client-attributes">The <code title="">clientTop</code>,
  <code title="">clientLeft</code>, <code title="">clientWidth</code>, and
  <code title="">clientHeight</code> attributes</h3>

  <p>The <dfn id="dom-element-clienttop"><code>clientTop</code></dfn>,
  <dfn id="dom-element-clientleft"><code>clientLeft</code></dfn>,
  <dfn id="dom-element-clientwidth"><code>clientWidth</code></dfn>, and
  <dfn id="dom-element-clientheight"><code>clientHeight</code></dfn>
  attributes <em class="ct">must</em> return zero if the element does not
  have any associated CSS layout box or if the CSS layout box is inline.
  Otherwise, these attributes <em class="ct">must</em> behave as defined in
  the remainder of this section.</p>

  <p>The <code>clientTop</code> attribute returns the computed value of the
  '<code>border-top-width</code>' property plus the width of any scrollbar
  rendered between the top <span>padding edge</span> and the top
  <span>border edge</span>.</p>

  <p>The <code>clientLeft</code> attribute returns the computed
  value of the '<code>border-left-width</code>' property plus the width of
  any scrollbar rendered between the left <span>padding edge</span> and the
  left <span>border edge</span>.

  <p>The <code>clientWidth</code> attribute returns the
  <span>viewport</span> width excluding the size of a rendered scroll bar
  (if any) if the element is the root element and the
  width of the <span>padding edge</span> (excluding the width of any
  rendered scrollbar between the <span>padding edge</span> and the
  <span>border edge</span>) otherwise.</p>

  <p>The <code>clientHeight</code> attribute returns the
  <span>viewport</span> height excluding the size of a rendered scroll bar
  (if any) if the element is the root element and the
  height of the <span>padding edge</span> (excluding the width of any
  rendered scrollbar between the <span>padding edge</span> and the
  <span>border edge</span>) otherwise.</p>



  <h2 id="extensions-to-the-htmlelement-interface">Extensions to the <code title="">HTMLElement</code> Interface</h2>

  <pre class="idl">[Supplemental] interface <span>HTMLElement</span> {
  readonly attribute Element <span>offsetParent</span>;
  readonly attribute long <span>offsetTop</span>;
  readonly attribute long <span>offsetLeft</span>;
  readonly attribute long <span>offsetWidth</span>;
  readonly attribute long <span>offsetHeight</span>;
};</pre>


  <h3 id="offset-attributes">The <code title="">offsetParent</code>,
  <code title="">offsetTop</code>, <code title="">offsetLeft</code>,
  <code title="">offsetWidth</code>, and <code title="">offsetHeight</code>
  attributes</h3>

  <p>The
  <dfn id="dom-htmlelement-offsetparent"><code>offsetParent</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li>
    <p>If any of the following holds true return null and terminate this
    algorithm:</p>

    <ul>
     <li>The element does not have an associated CSS layout box.</li>

     <li>The element is the root element.</li>

     <li>The element is
     <span>the HTML <code>body</code> element</span>.</li>

     <li>The element's computed value of the '<code>position</code>'
     property is <code>fixed</code>.</li>
    </ul>
   </li>

   <li>
    <p>Return the nearest ancestor element of the element for which at least
    one of the following is true and stop this algorithm if such an ancestor
    is found:</p>

    <ul>
     <li>The computed value of the '<code>position</code>' property is not
     <code>static</code>.</li>

     <li>It is <span>the HTML <code>body</code> element</span>.</li>

     <li>The computed value of the '<code>position</code>' property of
     the element is <code>static</code> and the ancestor is one of the
     following <span title="HTML element">HTML elements</span>:
     <code>td</code>, <code>th</code>, or <code>table</code>.</li>
    </ul>
   </li>

   <li><p>Return null.</p></li>
  </ol>

  <p>The <dfn id="dom-htmlelement-offsettop"><code>offsetTop</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element is <span>the HTML <code>body</code> element</span>
   or does not have any associated CSS layout box return zero and terminate
   this algorithm.</p></li>

   <li><p>If the <code>offsetParent</code> of the element is null return the
   y-coordinate of the top <span>border edge</span> of the first
   CSS layout box associated with the element, relative to the
   <span>initial containing block</span> origin, and terminate this
   algorithm.</p></li>

   <li>
    <p>Return the result of subtracting the y-coordinate of the top
    <span>padding edge</span> of the first CSS layout box associated with
    the <code>offsetParent</code> of the element from the y-coordinate of
    the top <span>border edge</span> of the first CSS layout box associated
    with the element, relative to the <span>initial containing block</span>
    origin.</p>

    <p class="note">An inline element that consists of multiple line boxes
    will only have its first CSS layout box considered.</p>
   </li>
  </ol>

  <p>The <dfn id="dom-htmlelement-offsetleft"><code>offsetLeft</code></dfn>
  attribute  <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element is <span>the HTML <code>body</code>
   element</span> or does not have any associated CSS layout box return zero
   and terminate this algorithm.</p></li>

   <li><p>If the <code>offsetParent</code> of the element is null return the
   x-coordinate of the left <span>border edge</span> of the first
   CSS layout box associated with the element, relative to the
   <span>initial containing block</span> origin, and terminate this
   algorithm.</p></li>

   <li>
    <p>Return the result of subtracting the x-coordinate of the left
    <span>padding edge</span> of the first CSS layout box associated with
    the <code>offsetParent</code> of the element from the x-coordinate of
    the left <span>border edge</span> of the first CSS layout box associated
    with the element, relative to the <span>initial containing block</span>
    origin.</p>
   </li>
  </ol>

  <p>The
  <dfn id="dom-htmlelement-offsetwidth"><code>offsetWidth</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element does not have any associated CSS layout box return
   zero and terminate this algorithm.</p></li>

   <li><p>Return the <span>border edge</span> width of the first
   CSS layout box associated with the element.</p></li>
  </ol>

  <p>The
  <dfn id="dom-htmlelement-offsetheight"><code>offsetHeight</code></dfn>
  attribute <em class="ct">must</em> return the result of running these
  steps:</p>

  <ol>
   <li><p>If the element does not have any associated CSS layout box return
   zero and terminate this algorithm.</p></li>

   <li><p>Return the <span>border edge</span> height of the first
   CSS layout box associated with the element.</p></li>
  </ol>


  <h2 id="extensions-to-the-range-interface">Extensions to the <code title="">Range</code> Interface</h2>

  <pre class="idl">[Supplemental] interface <span>Range</span> {
  <span>ClientRectList</span> <span title="dom-range-getclientrects">getClientRects</span>();
  <span>ClientRect</span> <span title="dom-range-getboundingclientrect">getBoundingClientRect</span>();
};</pre>

  <p>The objects the methods described below return <em class="ct">must</em>
  be static.</p>

  <p>The
  <dfn id="dom-range-getclientrects" title="dom-range-getclientrects"><code>getClientRects()</code></dfn>
  method, when invoked, <em class="ct">must</em> return an empty
  <code>ClientRectList</code> object if the range is not in the document and
  otherwise a <code>ClientRectList</code> object containing a list of
  <code>ClientRect</code> objects in content order that matches the
  following constraints:</p>

  <ul>
   <li>For each element selected by the range, whose parent is not selected
   by the range, include the border boxes returned by invoking
   <code>getClientRects()</code> on the element.</li>

   <li>For each <code>Text</code> node selected or partially selected by the
   range (including when the boundary-points are identical), include a
   <code>ClientRect</code> object (for the part that is selected, not the
   whole line box). The bounds of these <code>ClientRect</code> objects are
   computed using font metrics; thus, for horizontal writing, the vertical
   dimension of each box is determined by the font ascent and descent, and
   the horizontal dimension by the text advance width.</li>
  </ul>

  <p>The
  <dfn id="dom-range-getboundingclientrect" title="dom-range-getboundingclientrect"><code>getBoundingClientRect()</code></dfn>
  method, when invoked, <em class="ct">must</em> return the result of the
  following algorithm:</p>

  <ol>
   <li><p>Let <var>list</var> be the result of invoking
   <code title="dom-range-getclientrects">getClientRects()</code> on the
   same range this method was invoked on.</p></li>

   <li><p>If <var>list</var> is empty return a
   <code>ClientRect</code> object whose
   <code title="dom-clientrect-top">top</code>,
   <code title="dom-clientrect-right">right</code>,
   <code title="dom-clientrect-bottom">bottom</code> and
   <code title="dom-clientrect-left">left</code> members are zero.</p></li>

   <li><p>Otherwise, return a <code>ClientRect</code> object describing the
   smallest rectangle that includes the first rectangle in <var>list</var>
   and all of the remaining rectangles of which the height or width is not
   zero.</p></li>
  </ol>




  <h2 id="extensions-to-the-mouseevent-interface">Extensions to the <code title="">MouseEvent</code> Interface</h2>

  <pre class="idl">[Supplemental] interface <span>MouseEvent</span> {
  readonly attribute long <span title="dom-mouseevent-screenx">screenX</span>;
  readonly attribute long <span title="dom-mouseevent-screeny">screenY</span>;

  readonly attribute long <span>pageX</span>;
  readonly attribute long <span>pageY</span>;

  readonly attribute long <span>clientX</span>;
  readonly attribute long <span>clientY</span>;
  readonly attribute long <span title="dom-mouseevent-x">x</span>;
  readonly attribute long <span title="dom-mouseevent-y">y</span>;

  readonly attribute long <span>offsetX</span>;
  readonly attribute long <span>offsetY</span>;
};</pre>

  <p class="XXX">The object IDL fragment redefines some members. Can we
  resolve this somehow?</p>

  <p>The
  <dfn id="dom-mouseevent-screenx" title="dom-mouseevent-screenx"><code>screenX</code></dfn>
  attribute <em class="ct">must</em> return the x-coordinate of
  the position where the event occurred relative to the origin of the
  screen.</p>

  <p>The
  <dfn id="dom-mouseevent-screeny" title="dom-mouseevent-screeny"><code>screenY</code></dfn>
  attribute <em class="ct">must</em> return the y-coordinate of
  the position where the event occurred relative to the origin of the
  screen.</p>

  <p>The <dfn id="dom-mouseevent-pagex"><code>pageX</code></dfn> attribute
  <em class="ct">must</em> return the horizontal coordinate of
  the position where the event occurred relative to
  the origin of the <span>initial containing block</span>.</p>

  <p>The <dfn id="dom-mouseevent-pagey"><code>pageY</code></dfn> attribute
  <em class="ct">must</em> return the y-coordinate of the
  position where the event occurred relative to the origin of the
  <span>initial containing block</span>.</p>

  <p>The <dfn id="dom-mouseevent-clientx"><code>clientX</code></dfn>
  attribute <em class="ct">must</em> return the x-coordinate of
  the position where the event occurred relative to the origin of the
  <span>viewport</span>.</p>

  <p>The <dfn id="dom-mouseevent-clienty"><code>clientY</code></dfn>
  attribute <em class="ct">must</em> return the y-coordinate of
  the position where the event occurred relative to the origin of the
  <span>viewport</span>.</p>

  <p>The
  <dfn id="dom-mouseevent-x" title="dom-mouseevent-x"><code>x</code></dfn>
  attribute <em class="ct">must</em> return the value of
  <code>clientX</code>.</p>

  <p>The
  <dfn id="dom-mouseevent-y" title="dom-mouseevent-y"><code>y</code></dfn>
  attribute <em class="ct">must</em> return the value of
  <code>clientY</code>.</p>

  <!-- x/y do not match IE in the position:relative case but do match other
  browsers -->


  <p>The <dfn id="dom-mouseevent-offsetx"><code>offsetX</code></dfn>
  attribute <em class="ct">must</em> return the x-coordinate of
  the position where the event occurred relative to the origin of the
  <span>padding edge</span> of the target node.</p>

  <p>The <dfn id="dom-mouseevent-offsety"><code>offsetY</code></dfn>
  attribute <em class="ct">must</em> return the y-coordinate of
  the position where the event occurred relative to the origin of the
  <span>padding edge</span> of the target node.</p>

  <!-- XXX layerX/layerY -->



  <h2>Rectangles</h2>


  <h3 id="the-clientrectlist-interface">The <code title="">ClientRectList</code> Interface</h3>

  <p>The <code>ClientRectList</code> object consists of an ordered list
  of <code>ClientRect</code> objects.</p>

  <pre class="idl">interface <dfn>ClientRectList</dfn> {
  readonly attribute unsigned long <span title="dom-clientrectlist-length">length</span>;
  getter <span>ClientRect</span> <span title="dom-clientrectlist-item">item</span>(unsigned long <var title="">index</var>);
};</pre>

  <p>The
  <dfn id="dom-clientrectlist-length" title="dom-clientrectlist-length"><code>length</code></dfn>
  attribute <em class="ct">must</em> return the total number of
  <code>ClientRect</code> objects associated with the object.</p>

  <p>The
  <dfn id="dom-clientrectlist-item" title="dom-clientrectlist-item"><code>item(<var title="">index</var>)</code></dfn>
  method, when invoked, <em class="ct">must</em> raise an
  <code>INDEX_SIZE_ERR</code> exception when <var title="">index</var> is
  negative or greater than the number of <code>ClientRect</code> objects
  associated with the object. Otherwise, the <code>ClientRect</code>
  object at <var title="">index</var> <em class="ct">must</em> be
  returned.</p>


  <h3 id="the-clientrect-interface">The <code title="">ClientRect</code> Interface</h3>

  <p>Objects implementing the <code>ClientRect</code> interface represent
  a rectangular box. The type of box is specified by the method that returns
  a <code>ClientRect</code> object.</p>

  <pre class="idl">interface <dfn>ClientRect</dfn> {
  readonly attribute float <span title="dom-clientrect-top">top</span>;
  readonly attribute float <span title="dom-clientrect-right">right</span>;
  readonly attribute float <span title="dom-clientrect-bottom">bottom</span>;
  readonly attribute float <span title="dom-clientrect-left">left</span>;
  readonly attribute float <span title="dom-clientrect-width">width</span>;
  readonly attribute float <span title="dom-clientrect-height">height</span>;
};</pre>

  <p>The
  <dfn id="dom-clientrect-top" title="dom-clientrect-top"><code>top</code></dfn>
  attribute <em class="ct">must</em> return the y-coordinate,
  relative to the <span>viewport</span> origin, of the top of the rectangle
  box.</p>

  <p>The
  <dfn id="dom-clientrect-right" title="dom-clientrect-right"><code>right</code></dfn>
  attribute <em class="ct">must</em> return the x-coordinate,
  relative to the <span>viewport</span> origin, of the right of the
  rectangle box.</p>

  <p>The
  <dfn id="dom-clientrect-bottom" title="dom-clientrect-bottom"><code>bottom</code></dfn>
  attribute <em class="ct">must</em> return the y-coordinate,
  relative to the <span>viewport</span> origin, of the bottom of the
  rectangle box.</p>

  <p>The
  <dfn id="dom-clientrect-left" title="dom-clientrect-left"><code>left</code></dfn>
  attribute <em class="ct">must</em> return the x-coordinate,
  relative to the <span>viewport</span> origin, of the left of the rectangle
  box.</p>

  <p>The
  <dfn id="dom-clientrect-width" title="dom-clientrect-width"><code>width</code></dfn>
  attribute <em class="ct">must</em> return the width of the
  rectangle box.</p>

  <p class="note">This is identical to
  <code title="dom-clientrect-right">right</code> minus
  <code title="dom-clientrect-left">left</code>.</p>

  <p>The
  <dfn id="dom-clientrect-height" title="dom-clientrect-height"><code>height</code></dfn>
  attribute <em class="ct">must</em> return the height of the
  rectangle box.</p>

  <p class="note">This is identical to
  <code title="dom-clientrect-bottom">bottom</code> minus
  <code title="dom-clientrect-top">top</code>.</p>


  <h2 class="no-num">References</h2>

  <p>All references are normative<!--, unless stated otherwise-->.</p>

  <dl>
   <dt>[<dfn id="ref-css21">CSS21</dfn>]</dt>
   <dd><cite><a href="http://www.w3.org/TR/CSS2/">Cascading Style Sheets
   Level 2 Revision 1</a></cite>, B. Bos, T. &Ccedil;elik, I. Hickson, H.
   Wium Lie. W3C.</dd>

   <dt>[<dfn id="ref-cssom">CSSOM</dfn>]</dt>
   <dd><cite><a href="http://dev.w3.org/csswg/cssom/">CSSOM</a></cite>
   (work in progress), A. van Kesteren. W3C.</dd>

   <dt>[<dfn id="ref-dom2events">DOM2Events</dfn>]</dt>
   <dd><cite><a href="http://www.w3.org/TR/DOM-Level-2-Events/">Document
   Object Model (DOM) Level 2 Events Specification</a></cite>, T. Pixley.
   W3C.</dd>

   <dt>[<dfn id="ref-dom2tr">DOM2TR</dfn>]</dt>
   <dd><cite><a href="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/">Document
   Object Model (DOM) Level 2 Traversal and Range Specification</a></cite>,
   J. Kesselman, J. Robie, M. Champion, P. Sharpe, V. Apparao, L. Wood.
   W3C.</dd>

   <dt>[<dfn id="ref-dom3core">DOM3Core</dfn>]</dt>
   <dd><cite><a href="http://www.w3.org/TR/DOM-Level-3-Core">Document Object
   Model (DOM) Level 3 Core Specification</a></cite>, A. Le Hors, P. Le
   H&eacute;garet, L. Wood, G. Nicol, J. Robie, M. Champion, S. Byrne.
   W3C.</dd>

   <dt>[<dfn id="ref-html5">HTML5</dfn>]</dt>
   <dd><cite><a href="http://dev.w3.org/html5/spec/">HTML5</a></cite>
   (work in progress), I. Hickson. W3C.</dd>
   <dd><cite><a href="http://www.whatwg.org/specs/web-apps/current-work/">HTML5</a></cite>
   (work in progress), I. Hickson. WHATWG.</dd>

   <dt>[<dfn id="ref-rfc2119">RFC2119</dfn>]</dt>
   <dd><cite><a href="http://ietf.org/rfc/rfc2119">Key words for use in RFCs to
   Indicate Requirement Levels</a></cite>, S. Bradner. IETF.</dd>

   <dt>[<dfn id="ref-svg">SVG</dfn>]</dt>
   <dd><cite><a href="http://www.w3.org/TR/SVG11/">Scalable Vector Graphics
   (SVG) 1.1 Specification</a></cite>, J. Ferraiolo, &#34276;&#27810;
   &#28147;, D. Jackson. W3C.</dd>

   <dt>[<dfn id="ref-webidl">WebIDL</dfn>]</dt>
   <dd><cite><a href="http://dev.w3.org/2006/webapi/WebIDL/">Web
   IDL</a></cite> (work in progress), C. McCormack. W3C.</dd>
  </dl>

  <h2 class="no-num">Acknowledgments</h2>

  <p>The editor would like to thank

  Alexey Feldgendler,
  Bj&ouml;rn H&ouml;hrmann,
  David Vest,
  Garrett Smith,
  Hallvord R. M. Steen,
  Luiz Agostini,
  Maciej Stachowiak,
  Michael Dyck,
  Mike Wilson,
  Morten Stenshorne,
  Peter-Paul Koch,
  Rachel Kmetz,
  Robert O'Callahan,
  Sam Weinig,
  Simon Pieters,
  Sylvain Galineau,
  Tarquin Wilton-Jones,
  Thomas Moore, and
  Xiaomei Ji<!-- should actually use real name here -->

  for their contributions to this document.</p>

  <p>Special thanks to the Microsoft employees who first implemented many of
  the features specified in this draft, which were first widely deployed by
  the Windows Internet Explorer browser.</p>
 </body>
</html>

