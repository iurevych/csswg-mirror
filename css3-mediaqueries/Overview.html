<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html lang=en-US>
 <head>
  <title>Media Queries</title>

  <style type="text/css">
    blockquote { 
      background: #eef;
      padding: 0.5em;
      margin: 1em 0;
      border: thin solid black; }   
    pre { font-family: courier, monospace; font-weight: bold; white-space: pre-wrap }
    .example pre em { font-style: normal }
    span.label { font-style: italic }
</style>
  <link href="../default.css" rel=stylesheet>
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED" rel=stylesheet>

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1 id=media-queries>Media Queries</h1>

   <h2 class="no-num no-toc" id=w3c-working>Editor's Draft 4 April 2008</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://www.w3.org/TR/2008/ED-css3-mediaqueries-20080404/">http://www.w3.org/TR/2008/ED-css3-mediaqueries-20080404/</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-mediaqueries/">http://www.w3.org/TR/css3-mediaqueries/</a>

    <dt>Previous version:

    <dd><a
     href="http://www.w3.org/TR/2007/CR-css3-mediaqueries-20070606/">http://www.w3.org/TR/2007/CR-css3-mediaqueries-20070606/</a>

    <dt>Editors:

    <dd class=vcard><a class="url fn n"
     href="http://people.opera.com/howcome/" lang=no> <span
     class=given-name>H&aring;kon</span> <span
     class=additional-name>Wium</span> <span class=family-name>Lie</span></a>
     &lt;<span class=email>howcome&nbsp;@opera.com</span>&gt;

    <dd class=vcard><a class="url fn" href="http://tantek.com/"
     lang=tr>Tantek &Ccedil;elik</a> &lt;<span
     class=email>tantek&nbsp;@cs.stanford.edu</span>&gt;

    <dd class=vcard><span class=given-name>Daniel</span> <span
     class=family-name>Glazman</span> &lt;<span
     class=email>daniel.glazman&nbsp;@disruptive-innovations.com</span>&gt;

    <dd class=vcard><a class="url fn n" href="http://annevankesteren.nl/"
     lang=nl>Anne van Kesteren</a> &lt;<span
     class=email>annevk@opera.com</span>&gt;
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2008 <a
    href="http://www.w3.org/"><acronym title="World Wide Web
    Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute
    of Technology">MIT</acronym></a>, <a
    href="http://www.ercim.org/"><acronym title="European Research Consortium
    for Informatics and Mathematics">ERCIM</acronym></a>, <a
    href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>HTML4 and CSS2 currently support media-dependent style sheets tailored
   for different <em>media types</em>. For example, a document may use
   sans-serif fonts when displayed on a screen and serif fonts when printed.
   "Screen" and "print" are two media types that have been defined. <em>Media
   queries</em> extend the functionality of media types by allowing more
   precise labeling of style sheets.

  <p>A media query consists of a media type and one or more expressions to
   limit the scope of style sheets. Among the <em>media features</em> that
   can be used in media queries are "width", "height", and "color". By using
   media queries, presentations can be tailored to a specific range of output
   devices without changing the content itself.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. It probably contains errors.
   Its publication here does not imply endorsement of its contents by W3C.
   <!--end-status-->

  <p>For this specification to exit the CR stage, the following conditions
   shall be met:

  <ol>
   <li>
    <p>There must be at least two interoperable implementations. For the
     purposes of this criterion, we define the following terms:</p>

    <dl>
     <dt>interoperable

     <dd>
      <p>passing the respective test case(s) in the CSS test suite, or, if
       the implementation is not a Web browser, an equivalent test. Every
       relevant test in the test suite should have an equivalent test created
       if such a user agent (UA) is to be used to claim interoperability. In
       addition if such a UA is to be used to claim interoperability, then
       there must one or more additional UAs which can also pass those
       equivalent tests in the same way for the purpose of interoperability.
       The equivalent tests must be made publicly available for the purposes
       of peer review.

     <dt>implementation

     <dd>
      <p>a user agent which:</p>

      <ol>
       <li>implements the specification.

       <li>is available (i.e. publicly downloadable or available through some
        other public point of sale mechanism). This is the "show me"
        requirement.

       <li>is shipping (i.e. development, private or unofficial versions are
        insufficient).

       <li>is not experimental (i.e. is intended for a wide audience and
        could be used on a daily basis.)
      </ol>
    </dl>

   <li>
    <p>A minimum of another three months of the CR period must elapse. That
     is, this specification will not exit CR before 01 September 2007. When
     the specification exits CR, an implementation report will be published.
     At this point, no such report exists.

   <li>
    <p>The specified technology must not be harmful for accessibility.
  </ol>

  <p>W3C Members can also send comments directly to the CSS Working Group.
   The <a
   href="http://www.w3.org/Style/css3-updates/css3-mediaqueries-comments">
   comments received on the last working draft</a> are still available.

  <h3 class="no-num no-toc" id=features>Features at risk</h3>

  <p>The CSS WG has identified the aspect ratio media features
   ('aspect-ratio' and 'device-aspect-ratio') to be at risk due to poor
   support in UAs. The 'orientation' media feature is also marked as risk as
   it has been added since the last Candidate Recommendation.

  <h2 class="no-num no-toc" id=contents>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#background"><span class=secno>1. </span>Background</a>

   <li><a href="#media0"><span class=secno>2. </span>Media Queries</a>

   <li><a href="#syntax"><span class=secno>3. </span>Syntax</a>
    <ul class=toc>
     <li><a href="#error"><span class=secno>3.1 </span>Error Handling</a>
    </ul>

   <li><a href="#media1"><span class=secno>4. </span>Media features</a>
    <ul class=toc>
     <li><a href="#width"><span class=secno>4.1 </span>width</a>

     <li><a href="#height"><span class=secno>4.2 </span>height</a>

     <li><a href="#device-width"><span class=secno>4.3
      </span>device-width</a>

     <li><a href="#device-height"><span class=secno>4.4
      </span>device-height</a>

     <li><a href="#orientation"><span class=secno>4.5 </span>orientation</a>

     <li><a href="#aspect-ratio"><span class=secno>4.6
      </span>aspect-ratio</a>

     <li><a href="#device-aspect-ratio"><span class=secno>4.7
      </span>device-aspect-ratio</a>

     <li><a href="#color"><span class=secno>4.8 </span>color</a>

     <li><a href="#color-index"><span class=secno>4.9 </span>color-index</a>

     <li><a href="#monochrome"><span class=secno>4.10 </span>monochrome</a>

     <li><a href="#resolution"><span class=secno>4.11 </span>resolution</a>

     <li><a href="#scan"><span class=secno>4.12 </span>scan</a>

     <li><a href="#grid"><span class=secno>4.13 </span>grid</a>
    </ul>

   <li><a href="#units"><span class=secno>5. </span>Units</a>
    <ul class=toc>
     <li><a href="#resolution0"><span class=secno>5.1 </span>Resolution</a>
    </ul>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>
  </ul>
  <!--end-toc-->

  <h2 id=background><span class=secno>1. </span>Background</h2>

  <p>(This section is not normative.)

  <p>HTML4 <a href="#HTML401" rel=biblioentry>[HTML401]<!--{{HTML401}}--></a>
   and CSS2 <a href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>
   currently support media-dependent style sheets tailored for different
   media types. For example, a document may use different style sheets for
   screen and print. In HTML4, this can be written as:

  <div class=example>
   <pre>
&lt;link rel="stylesheet" type="text/css" media="screen" href="sans-serif.css"&gt;
&lt;link rel="stylesheet" type="text/css" media="print" href="serif.css"&gt;
</pre>
  </div>

  <p>Inside a CSS style sheet, one can declare that sections apply to certain
   media types:

  <div class=example>
   <pre>
@media screen {
  * { font-family: sans-serif }
}
</pre>
  </div>

  <p>The "print" and "screen" media types are defined in HTML4. The complete
   list of media types in HTML4 is: "aural", "braille", "handheld", "print",
   "projection", "screen", "tty", "tv". CSS2 defines the same list, removes
   "aural" and adds "embossed" and "speech". Also, "all" is used to indicate
   that the style sheet applies to all media types.

  <p>Media-specific style sheets are supported by several user agents. The
   most commonly used feature is to distinguish between "screen" and "print".

  <p>There have been requests for ways to describe in more detail what type
   of output devices a style sheet applies to. Fortunately HTML4 foresaw
   these requests and defined a forward-compatible syntax for media types.
   Here is a quote from <a
   href="http://www.w3.org/TR/1998/REC-html40-19980424/types.html#h-6.13">HTML4,
   section 6.13</a>:

  <blockquote
   cite="http://www.w3.org/TR/1998/REC-html40-19980424/types.html#h-6.13">
   <p>Future versions of HTML may introduce new values and may allow
    parameterized values. To facilitate the introduction of these extensions,
    conforming user agents must be able to <span class=index-inst id=parse
    title="media descriptor::parsing of"><a id=idx-media-descriptor-1
    name=idx-media-descriptor-1>parse</a></span> the <a class=noxref
    href="http://www.w3.org/TR/html40/present/styles.html#adef-media"><samp
    class=ainst>media</samp></a> attribute value as follows:

   <ol>
    <li>The value is a comma-separated list of entries. For example,
     <pre>
media="screen, 3d-glasses, print and resolution &gt; 90dpi"
</pre>

     <p>is mapped to:</p>

     <pre>
"screen"
"3d-glasses"
"print and resolution &gt; 90dpi"
</pre>

    <li>Each entry is truncated just before the first character that isn't a
     US ASCII letter [a-zA-Z] (Unicode decimal 65-90, 97-122), digit [0-9]
     (Unicode hex 30-39), or hyphen (45). In the example, this gives:
     <pre>
"screen"
"3d-glasses"
"print"
</pre>
   </ol>
  </blockquote>

  <p>Media queries, as described in this specification, build on the
   mechanism outlined in HTML4. The syntax of media queries fit into the
   media type syntax reserved in HTML4. The <code class=html>media</code>
   attribute of HTML4 also exists in XHTML and generic XML. The same syntax
   can also be used inside in the ''@media'' and ''@import'' rules of CSS.

  <p>However, the parsing rules for media queries are incompatible with those
   of HTML4 so that they are consistent with those of media queries used in
   CSS. It is expected that future versions of HTML refer to the media
   queries specification directly so that this difference is resolved.

  <h2 id=media0><span class=secno>2. </span>Media Queries</h2>

  <p>A media query consists of a media type and one or more <span class=index
   id=expressions>expressions</span> involving <span class=index
   id=media>media features</span>. If the media type is omitted it is assumed
   to be "all".

  <div class=example>
   <p>Here is a simple example written in HTML:</p>

   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="screen and (color)" href="example.css" /&gt;</span>
</pre>

   <p>This example expresses that a certain style sheet
    (<code>example.css</code>) applies to devices of a certain media type
    (''screen'') with certain feature (it must be a color screen).</p>

   <p>Here is a simple example written in HTML that applies to all devices
    that support colors:</p>

   <pre><span class=html-example>&lt;link rel="stylesheet" media="(color)" href="example.css" /&gt;</span>
</pre>
  </div>

  <div class=example>
   <p>Here the same media query written in an @import-rule in CSS:</p>

   <pre>
<span class=css-example>@import url(color.css) screen and (color);</span>
</pre>
  </div>

  <p>A media query is a logical expression that is either true or false. A
   media query is true if the media type of the media query matches the media
   type of the device where the user agent is running, and all expressions in
   the media query are true. Also, a media query which is otherwise false
   becomes true if the "not" keyword is present.

  <p>When a media query is true, the corresponding style sheet is applied as
   per the normal cascading rules.

  <p>Several media queries can be combined in a comma-separated list. If one
   or more of the media queries in the comma-separated list is true, the
   associated style sheet is applied, otherwise the associated style sheet is
   ignored.

  <div class=example>
   <p>Here is an example of several media queries in a comma-separated list
    using the an @media-rule in CSS:</p>

   <pre>
<span class=css-example>@media <em>screen and (color), projection and (color)</em> { ... }</span>
</pre>
  </div>

  <p>In the media queries syntax, the comma expresses a logical OR, while the
   ''and'' keyword expresses a logical AND.

  <p>The logical NOT can be expressed through the ''not'' keyword.

  <div class=example>
   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="<em>not screen and (color)</em>" href="example.css" /&gt;</span>
</pre>
  </div>

  <p>The presence of the keyword ''not'' at the beginning of the query
   negates the result. I.e., if the media query had been true without the
   ''not'' keyword it will become false, and vice versa. User agents that
   only support media types (as described in HTML4) will not recognize the
   ''not'' keyword and the associated style sheet is therefore not applied.

  <p>The keyword ''only'' can also be used to hide style sheets from older
   user agents. User agents must process media queries starting with ''only''
   as if the ''only'' keyword was not present.

  <div class=example>
   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="<em>only screen and (color)</em>" href="example.css" /&gt;</span>
</pre>
  </div>

  <p>The media queries syntax can be used with HTML, XHTML, XML <a
   href="#XMLSTYLE" rel=biblioentry>[XMLSTYLE]<!--{{XMLSTYLE}}--></a> and the
   @import and @media rules of CSS.

  <div class=example>
   <p>Here is the same example written in HTML, XHTML, XML, @import and
    @media:</p>

   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="<em>screen and (color), projection and (color)</em>" rel="stylesheet" href="example.css"&gt;</span>

<span class=html-example>&lt;link rel="stylesheet" media="<em>screen and (color), projection and (color)</em>" rel="stylesheet" href="example.css" /&gt;</span>

<span class=xml-example>&lt;?xml-stylesheet media="<em>screen and (color), projection and (color)</em>" rel="stylesheet" href="example.css" ?&gt;</span>

<span class=css-example>@import url(example.css) screen and (color), projection and (color);</span>

<span class=css-example>@media screen and (color), projection and (color) { ... }</span>
</pre>
  </div>

  <p>If a media feature does not apply to the device where the UA is running,
   expressions involving the media feature will be false.

  <div class=example>
   <p>The media feature ''device-aspect-ratio'' only applies to visual
    devices. On an aural device, expressions involving
    ''device-aspect-ratio'' will therefore always be false:</p>

   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="aural and (device-aspect-ratio: 16/9)" href="example.css" /&gt;</span>
</pre>
  </div>

  <p>Expressions will always be false if the unit of measurement does not
   apply to the device.

  <div class=example>
   <p>The ''px'' unit does not apply to ''tty''devices so the following media
    query is always false:</p>

   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="tty and (min-device-width: 800px)" href="example.css" /&gt;</span>
</pre>

   <p>Note that the media queries in this example would have been true if the
    keyword ''not'' had been added to the beginning of the media query.</p>
  </div>

  <p>A shorthand syntax is offered for media queries that apply to all media
   types; the keyword ''all'' can be left out (along with the trailing
   ''and'').

  <div class=example>
   <p>These two media queries are equivalent:</p>

   <pre>
@media all and (orientation: portrait) { ... }
@media (orientation: portrait) { ... }
</pre>
  </div>

  <p>Expressions with with negative length values are always false.

  <div class=example>
   <p>This media query is false:

   <pre>
@media (min-width: -100px) { ... }
</pre>
  </div>

  <p>To avoid circular dependencies, it is never necessary to apply the style
   sheet in order to evaluate expressions. For example, the aspect ratio of a
   printed document may be influenced by a style sheet, but expressions
   involving ''device-aspect-ratio'' will be based on the default aspect
   ratio of the user agent.

  <p class=note>User Agents agents are expected, but not required, to
   re-evaluate and re-layout the page in response to changes in the user
   environment, for example if the device is tilted from landscape to
   portrait mode.

  <h2 id=syntax><span class=secno>3. </span>Syntax</h2>

  <p>The media query syntax is described in terms of the <a
   href="http://www.w3.org/TR/CSS21/grammar.html">CSS2 grammar</a> and <a
   href="http://www.w3.org/TR/CSS21/syndata.html#syntax">CSS2 syntax</a>. As
   such, rules not defined here are defined in CSS2. The
   <code>media_query_list</code> production defined below replaces the
   <code>medium</code> production from CSS2. <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>

  <pre>media_query_list
 : S* media_query [ ',' S* media_query]*
 ;
media_query
 : [ONLY | NOT] S* media_type [ AND S* expression ]*
 | expression [ AND S* expression ]*
 ;
media_type
 : IDENT S*
 ;
expression
 : '(' S* media_feature S* [':' S* value]? ')' S*
 ;
media_feature
 : IDENT
 ;</pre>

  <p>The following new definitions are introduced:

  <pre>
L  l|\\0{0,4}(4c|6c)(\r\n|[ \t\r\n\f])?|\\l
Y  y|\\0{0,4}(59|79)(\r\n|[ \t\r\n\f])?|\\y</pre>

  <p>The following new tokens are introduced:

  <pre>
{O}{N}{L}{Y}      {return ONLY;}
{N}{O}{T}         {return NOT;}
{A}{N}{D}         {return AND;}
{num}{D}{P}{I}    {return RESOLUTION;}
{num}{D}{P}{C}{M} {return RESOLUTION;}</pre>

  <p><code>RESOLUTION</code> is to be added to the CSS2 <code>term</code>
   production.

  <p>CSS style sheets are generally case-insensitive, and this is also the
   case for media queries.

  <p>In addition to conforming to the syntax, each media query needs to use
   media types and media features according to their respective specification
   in order to be considered conforming.

  <div class=example>
   <p>Only the first media query is conforming in the example below because
    the "example" media type does not exist.</p>

   <pre>
@media all { body { background:lime } }
@media example { body { background:red } }
</pre>
  </div>

  <h3 id=error><span class=secno>3.1 </span>Error Handling</h3>

  <p>For media queries that are not conforming user agents need to follow the
   rules described in this section.

  <ul>
   <li>
    <p><strong>Unknown media types.</strong> User agents are to ignore a
     media query when the specified media type is unknown.</p>

    <div class=example>
     <p>The media query "<code>example, all</code>" is treated as if
      "<code>all</code>" was specified. Similarly, "<code>not example,
      screen</code> is treated as if "<code>screen</code>" was specified.</p>
    </div>

   <li>
    <p><strong>Unknown media features.</strong> User agents are to ignore a
     media query when one of the specified media features is unknown.</p>

    <div class=example>
     <pre><span class=html-example>&lt;link rel="stylesheet" media="screen and (max-weight: 3kg) and (color), (color)" href="example.css" /&gt;</span></pre>

     <p>In this example, the first media query is rejected due to an unknown
      media feature and unknown value, but the second media query is
      evaluated as if the first had not been specified.</p>
    </div>

   <li>
    <p><strong>Unknown media feature values.</strong> As with unknown media
     features, user agents are to ignore a media query when one of the
     specified media feature values is unknown.</p>

    <div class=example>
     <p>The media query <code>(color:20example)</code> specifies an unknown
      value for the ''color'' media feature and is therefore ignored.</p>
    </div>

   <li>
    <p><strong>Malformed media query.</strong> User agents are to handle
     unexpected tokens encountered while parsing a media query by reading
     until the end of the media query, while observing <a
     href="http://www.w3.org/TR/CSS21/syndata.html#block">the rules for
     matching pairs</a> of (), [], {}, "", and '', and correctly handling
     escapes. <a href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>

    <div class=example>
     <pre>
@media (example, all,), speech { /* only applicable to speech devices */ }
@media &amp;test, screen       { /* only applicable to screen devices */ }</pre>
    </div>
    <!--
 Removed as this might cause the wrong style sheet to apply if a part of the
 media query is missing. This will now cause the respective media query to
 be ignored per the previous rule.
 
 <li>
  <p><strong>Unexpected end of media query.</strong> User agents are to
  close all open constructs (such as parenthesis and curly braces) upon
  encountering an unexpected end of a media query.</p>

  <p class="note">This error handling condition is only meaningful outside
  of CSS.</p>
 -->
    
  </ul>

  <h2 id=media1><span class=secno>4. </span>Media features</h2>

  <p>Syntactically, media features resemble CSS properties: they have names
   and accept certain values. There are, however, several important
   differences between properties and media features:

  <ul>
   <li>Properties are used in <em>declarations</em> to give information about
    how to present a document. Media features are used in
    <em>expressions</em> to describe requirements of the output device.

   <li>Most media features accept optional "min-" or "max-" prefixes to
    express "greater or equal to" and "smaller or equal to" constraints. This
    syntax is used to avoid "&lt;" and "&gt;" characters which may conflict
    with HTML and XML. Those media features that accept prefixes will most
    often be used with prefixes, but can also be used alone.

   <li>Properties always require a value to form a declaration. Media
    features, on the other hand, can also be used without a value in which
    case the expression will be true if the media feature's value in the
    output device is different from zero.

   <li>Properties may accept more complex values, e.g., calculations that
    involve several other values. Media features only accept single values:
    one keyword, one number, or a number with a unit identifier. (The only
    exeptions are the aspect-ratio' and 'device-aspect-ratio' media
    features.)
  </ul>

  <div class=example>
   <p>For example, the ''color'' media feature can form expressions without a
    value (''(color)''), or with a value (''(min-color: 1)'').</p>
  </div>

  <p class=note>This specification defines media features usable with visual
   and tactile devices. Similarly, media features can be defined for aural
   media types.

  <h3 id=width><span class=secno>4.1 </span>width</h3>

  <div class=media-feature><span class=label>Value:</span> &lt;length&gt;<br>
   <span class=label>Applies to:</span> visual and tactile media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''width'' media feature describes the width of the rendering surface
   of the output device. For continuous media, this is the width of the
   viewport (as described by CSS2, section 9.1.1 <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>). For paged media, this is
   the width of the page box (as described by CSS2, section 13.2 <a
   href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>).

  <div class=example>
   <p>For example, this media query expresses that the style sheet is usable
    on printed output wider than 25cm:</p>

   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="print and (min-width: 25cm)" href="http://...." /&gt;</span>
</pre>
  </div>

  <div class=example>
   <p>This media query expresses that the style sheet is usable on devices
    with viewport (the part of the screen/paper where the document is
    rendered) widths between 400 and 700 pixels:</p>

   <pre>
<span class=css-example>@media screen and (min-width: 400px) and (max-width: 700px) { ... }</span>
</pre>
  </div>

  <div class=example>
   <p>This media query expresses that style sheet is usable on screen and
    handheld devices if the width of the viewport is greater than 20em.</p>

   <pre>
<span class=css-example>@media handheld and (min-width: 20em), 
  screen and (min-width: 20em) { ... }</span>
</pre>

   <p>The ''em'' value is relative to the font size of the root element.</p>
  </div>

  <h3 id=height><span class=secno>4.2 </span>height</h3>

  <div class=media-feature><span class=label>Value:</span> &lt;length&gt;<br>
   <span class=label>Applies to:</span> visual and tactile media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''height'' media feature describes the height of the rendering
   surface of the output device. For continuous media, this is the height of
   the viewport. For paged media, this is the height of the page box.

  <h3 id=device-width><span class=secno>4.3 </span>device-width</h3>

  <div class=media-feature><span class=label>Value:</span> &lt;length&gt;<br>
   <span class=label>Applies to:</span> visual and tactile media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''device-width'' media feature describes the width of the output
   device.

  <div class=example>
   <pre>
<span class=css-example>@media screen and (device-width: 800px) { ... }</span>
</pre>

   <p>In the example above, the style sheet will apply only to screens that
    currently displays exactly 800 horizontal pixels. The ''px'' unit is of
    the logical kind, as described in the <a href="#units">Units</a> section.</p>
  </div>

  <h3 id=device-height><span class=secno>4.4 </span>device-height</h3>

  <div class=media-feature><span class=label>Value:</span> &lt;length&gt;<br>
   <span class=label>Applies to:</span> visual and tactile media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''device-height'' media feature describes the height of the output
   device.

  <div class=example>
   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="screen and (device-height: 600px)" /&gt;</span>
</pre>

   <p>In the example above, the style sheet will apply only to screens that
    have exactly 600 vertical pixels. Note that the definition of the ''px''
    unit is the same as in other parts of CSS.</p>
  </div>

  <h3 id=orientation><span class=secno>4.5 </span>orientation</h3>

  <div class=media-feature><span class=label>Value:</span> portrait |
   landscape<br>
   <span class=label>Applies to:</span> bitmap media types<br>
   <span class=label>Accepts min/max prefixes:</span> no<br>
  </div>

  <p>The ''orientation'' media feature describes the aspect ratio of the
   viewport; if the viewport is wider than it is high, ''landscape'' will be
   true, otherwise ''portrait'' will be true. A square viewport is considered
   to be ''portrait''.

  <div class=example>
   <pre>
@media all and (portrait) { ... }
@media all and (landscape) { ... }
</pre>
  </div>

  <h3 id=aspect-ratio><span class=secno>4.6 </span>aspect-ratio</h3>

  <div class=media-feature><span class=label>Value:</span> &lt;integer&gt; /
   &lt;integer&gt;<br>
   <span class=label>Applies to:</span> bitmap media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''aspect-ratio'' media feature describes the aspect ratio of the
   viewport. Aspect ratio is defined as the horizontal length of the device's
   viewport divided by its vertical length. The value consists of two
   positive integers separated by a ''/''.

  <div class=example>
   <p>For example, if a screen device with square pixels has 1280 horizontal
    pixels and 720 vertical pixels (commonly referred to as "16:9"), the
    following Media Queries will all match the device:</p>

   <pre>
<span class=css-example>@media screen and (aspect-ratio: 16/9) { ... }
@media screen and (aspect-ratio: 32/18) { ... }
@media screen and (aspect-ratio: 1280/720) { ... }
@media screen and (aspect-ratio: 2560/1440) { ... }</span>
</pre>
  </div>

  <h3 id=device-aspect-ratio><span class=secno>4.7 </span>device-aspect-ratio</h3>

  <div class=media-feature><span class=label>Value:</span> &lt;integer&gt; /
   &lt;integer&gt;<br>
   <span class=label>Applies to:</span> bitmap media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''device-aspect-ratio'' media feature describes the aspect ratio of
   the output device. The device aspect ratio is defined as the horizontal
   length of the device's display divided by its vertical length. The value
   consists of two positive integers separated by a ''/''.</p>
  <!--
<p>In this specification, aspect ratio is defined as the number of
horizontal pixels over the number of vertical pixels.</p>
-->

  <div class=example>
   <p>For example, if a screen device with square pixels has 1280 horizontal
    pixels and 720 vertical pixels (commonly referred to as "16:9"), the
    following Media Queries will all match the device:</p>

   <pre>
<span class=css-example>@media screen and (device-aspect-ratio: 16/9) { ... }
@media screen and (device-aspect-ratio: 32/18) { ... }
@media screen and (device-aspect-ratio: 1280/720) { ... }
@media screen and (device-aspect-ratio: 2560/1440) { ... }</span>
</pre>
  </div>
  <!--
<p>Note that determining if a specified aspect ratio matches the
device aspect ratio can be done through multiplication (e.g.,
1280*9 = 11520 = 720*16) to avoid floating point operations.</p>

<div class="example">

<p>Using prefixes, <em>portrait</em> and <em>landscape</em> aspect
ratios can be expressed:</p>

<pre>
<span class="css-example">@media screen and (max-device-aspect-ratio: 1/1) /* portrait or square */
@media screen and (min-device-aspect-ratio: 1/1) /* landscape or square */</span>
</pre>
</div>
-->

  <h3 id=color><span class=secno>4.8 </span>color</h3>

  <div class=media-feature><span class=label>Value:</span>
   &lt;integer&gt;<br>
   <span class=label>Applies to:</span> visual media types<br>
   <span class=label>Accept min/max prefixes:</span> yes<br>
  </div>

  <p>The ''color'' media feature describes the number of bits per color
   component of the output device. If the device is not a color device, the
   value is zero.

  <div class=example>
   <p>For example, these two media queries express that a style sheet applies
    to all color devices:</p>

   <pre>
<span class=css-example>@media all and (color) { ... }
@media all and (min-color: 1) { ... }</span>
</pre>
  </div>

  <div class=example>
   <p>This media query expresses that a style sheet applies to color devices
    with 2 or more bits per color component:</p>

   <pre>
<span class=css-example>@media all and (min-color: 2) { ... }</span>
</pre>
  </div>

  <p>If different color components are represented by different number of
   bits, the smallest number is used.

  <div class=example>
   <p>For instance, if an 8-bit color system represents the red component
    with 3 bits, the green component with 3 bits and the blue component with
    2 bits, the ''color'' media feature will have a value of 2.</p>
  </div>

  <p>In a device with indexed colors, the minimum number of bits per color
   component in the lookup table is used.

  <p class=note>The described functionality is only able to describe color
   capabilities at a superficial level. If further functionality is required,
   RFC2531 <a href="#RFC2531" rel=biblioentry>[RFC2531]<!--{{RFC2531}}--></a>
   provides more specific media features which may be supported at a later
   stage.

  <h3 id=color-index><span class=secno>4.9 </span>color-index</h3>

  <div class=media-feature><span class=label>Value:</span>
   &lt;integer&gt;<br>
   <span class=label>Applies to:</span> visual media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''color-index'' media feature describes the number of entries in the
   color lookup table of the output device. If the device does not use a
   color lookup table, the value is zero.

  <div class=example>
   <p>For example, here are two ways to express that a style sheet applies to
    all color index devices:</p>

   <pre>
<span class=css-example>@media all and (color-index) { ... }
@media all and (min-color-index: 1) { ... }</span>
</pre>
  </div>

  <div class=example>
   <p>This media query expresses that a style sheet applies to a color index
    device with 256 or more entries:</p>

   <pre>
<span class=xml-example>&lt;?xml-stylesheet media="all and (min-color-index: 256)" 
  href="http://www.example.com/..." ?&gt;</span>
</pre>
  </div>

  <h3 id=monochrome><span class=secno>4.10 </span>monochrome</h3>

  <div class=media-feature><span class=label>Value:</span>
   &lt;integer&gt;<br>
   <span class=label>Applies to:</span> visual media types<br>
   <span class=label>Accepts prefixes:</span> yes<br>
  </div>

  <p>The ''monochrome'' media feature describes the number of bits per pixel
   in a monochrome frame buffer. If the device is not a monochrome device,
   the output device value will be 0.

  <div class=example>
   <p>For example, here are two ways to express that a style sheet applies to
    all monochrome devices:</p>

   <pre>
<span class=css-example>@media all and (monochrome) { ... }
@media all and (min-monochrome: 1) { ... }</span>
</pre>
  </div>

  <div class=example>
   <p>Express that a style sheet applies to monochrome devices with more than
    2 bits per pixels:</p>

   <pre>
<span class=css-example>@media all and (min-monochrome: 2) { ... }</span>
</pre>
  </div>

  <div class=example>
   <p>Express that there is one style sheet for color pages and another for
    monochrome:</p>

   <pre>
<span class=html-example>&lt;link rel="stylesheet" media="print and (color)" href="http://..." /&gt;</span>
<span class=html-example>&lt;link rel="stylesheet" media="print and (monochrome)" href="http://..." /&gt;</span>
</pre>
  </div>

  <h3 id=resolution><span class=secno>4.11 </span>resolution</h3>

  <div class=media-feature><span class=label>Value:</span>
   &lt;resolution&gt;<br>
   <span class=label>Applies to:</span> bitmap media types<br>
   <span class=label>Accepts min/max prefixes:</span> yes<br>
  </div>

  <p>The ''resolution'' media feature describes the resolution of the output
   device, i.e. the density of the pixels. When querying devices with
   non-square pixels, in ''min-resolution'' queries the least-dense dimension
   must be compared to the specified value and in ''max-resolution'' queries
   the most-dense dimensions must be compared instead. A ''resolution''
   (without a "min-" or "max-" prefix) query never matches a device with
   non-square pixels.

  <div class=example>
   <p>For example, this media query expresses that a style sheet is usable on
    devices with resolution greater than 300 dots per inch:</p>

   <pre>
<span class=css-example>@media print and (min-resolution: 300dpi) { ... }</span>
</pre>
  </div>

  <div class=example>
   <p>This media query expresses that a style sheet is usable on devices with
    resolution greater than 118 dots per centimeter:</p>

   <pre>
<span class=css-example>@media print and (min-resolution: 118dpcm) { ... }</span>
</pre>
  </div>

  <h3 id=scan><span class=secno>4.12 </span>scan</h3>

  <div class=media-feature><span class=label>Value:</span> progressive |
   interlace<br>
   <span class=label>Applies to:</span> "tv" media types<br>
   <span class=label>Accepts min/max prefixes:</span> no<br>
  </div>

  <p>The ''scan'' media feature describes the scanning process of "tv" output
   devices.

  <div class=example>
   <p>For example, this media query expresses that a style sheet is usable on
    tv devices with progressive scanning:</p>

   <pre>
<span class=css-example>@media tv and (scan: progressive) { ... }</span>
</pre>
  </div>

  <h3 id=grid><span class=secno>4.13 </span>grid</h3>

  <div class=media-feature><span class=label>Value:</span>
   &lt;integer&gt;<br>
   <span class=label>Applies to:</span> visual and tactile media types<br>
   <span class=label>Accepts min/max prefixes:</span> no<br>
  </div>

  <p>The ''grid'' media feature is used to query whether the output device is
   grid or bitmap. If the output device is grid-based (e.g., a "tty"
   terminal, or a phone display with only one fixed font), the value will be
   1. Otherwise, the value will be 0.

  <p>The ''em'' unit has a special meaning in grid output devices. Since the
   exact with of an ''em'' cannot be determined, one ''em'' is assumed to be
   the width of one grid cell horizontally and the height of one grid cell
   vertically.

  <div class=example>
   <p>Here are two examples:</p>

   <pre>
<span class=css-example>@media handheld and (grid) and (max-width: 15em) { ... }</span>
<span class=css-example>@media handheld and (grid) and (device-max-height: 7em) { ... }</span>
</pre>
  </div>

  <h2 id=units><span class=secno>5. </span>Units</h2>

  <p>The units used in media queries are the same as in other parts of CSS.
   For example, the pixel unit represents CSS pixels and not physical pixels.

  <p>Note, however, that the ''em'' unit has a special meaning on grid output
   devices, as discussed above.

  <p>Relative units in media queries are based on the initial value. For
   example, in HTML, the ''em'' unit is relative to the initial value of
   'font-size'.

  <h3 id=resolution0><span class=secno>5.1 </span>Resolution</h3>

  <p>The ''dpi'' and ''dpcm'' units describe the resolution of an output
   device, i.e., the density of pixels. Resolution unit identifiers are:

  <dl>
   <dt>dpi

   <dd>dots per inch

   <dt>dpcm

   <dd>dots per centimeter
  </dl>

  <p>In this specification, these units are only used in the ''resolution''
   media feature.

  <h2 class=no-num id=acknowledgments>Acknowledgments</h2>

  <p>This specification is the product of the W3C Working Group on Cascading
   Style Sheets.

  <p>Comments from Bj&ouml;rn H&ouml;rhmann, Christoph P&auml;per, Simon
   Pieters, Rijk van Geijtenbeek, Sigurd Lerstad, Arve Bersvendsen, Susan
   Lesch, Philipp Hoschka, Roger Gimson, Steven Pemberton, Simon Kissane,
   Melinda Grant, and L. David Baron improved this specification.

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2007/CR-CSS21-20070719"><cite>Cascading Style
    Sheets, level 2 revision 1.</cite></a> 19 July 2007. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2007/CR-CSS21-20070719">http://www.w3.org/TR/2007/CR-CSS21-20070719</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=HTML401>[HTML401]

   <dd>David Raggett; Arnaud Le Hors; Ian Jacobs. <a
    href="http://www.w3.org/TR/1999/REC-html401-19991224"><cite>HTML 4.01
    Specification.</cite></a> 24 December 1999. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/1999/REC-html401-19991224">http://www.w3.org/TR/1999/REC-html401-19991224</a>
    </dd>
   <!---->

   <dt id=RFC2531>[RFC2531]

   <dd>G. Klyne; L. McIntyre. <a
    href="http://www.ietf.org/rfc/rfc2531.txt"><cite>Content Feature Schema
    for Internet Fax.</cite></a> March 1999. Internet RFC 2531. URL: <a
    href="http://www.ietf.org/rfc/rfc2531.txt">http://www.ietf.org/rfc/rfc2531.txt</a>
    </dd>
   <!---->

   <dt id=XMLSTYLE>[XMLSTYLE]

   <dd>James Clark. <a
    href="http://www.w3.org/1999/06/REC-xml-stylesheet-19990629"><cite>Associating
    Style Sheets with XML documents.</cite></a> 29 June 1999. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/1999/06/REC-xml-stylesheet-19990629">http://www.w3.org/1999/06/REC-xml-stylesheet-19990629</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>expressions, <a href="#expressions" title=expressions>#</a>

   <li>media descriptor
    <ul>
     <li>parsing of, <a href="#parse" title="media descriptor parsing
      of">#</a>
    </ul>

   <li>media features, <a href="#media" title="media features">#</a>
  </ul>
  <!--end-index-->
