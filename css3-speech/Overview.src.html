<!DOCTYPE html PUBLIC '-//W3C//DTD HTML 4.01//EN'
  'http://www.w3.org/TR/html4/strict.dtd'>

<html lang="en">
<head>
  <title>CSS3 Speech Module</title>
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii"/>
  <link rel="stylesheet" type="text/css" href="default.css">
  <style type="text/css">
    .prod { font-family: inherit; font-size: inherit }
    pre.prod { white-space: pre-wrap; margin: 1em 0 1em 2em }
    code { font-size: inherit; }
    #box-shadow-samples td { background: white; color: black; }
  </style>
<style type="text/css">
/*<![CDATA[*/
    caption { text-align: left; font-weight: bold }
    .note   { font-style: italic }
    .issue  { color: maroon; font-style: italic }
    div.example pre { color: green; margin-left: 2em }
    dl { margin-left: 2em }
    caption dfn { font-size: 120% }

	*:target {
		color: #000000;
	    background-color: #F8F8F8;
	    border: 1px dashed #66CC66;
	}
/*]]>*/
</style>
  <link rel="stylesheet" type="text/css"
  href="http://www.w3.org/StyleSheets/TR/W3C-WD.css">
</head>

<body>

<div class="head">
<!--logo-->

<h1 id="top">CSS3 Speech Module</h1>

<h2 class="no-num no-toc">[LONGSTATUS] [DATE]</h2>
<dl>
  <dt>This version:
    <dd><!--<a href="http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]">[VERSION]</a>-->
     <a href="http://dev.w3.org/csswg/css3-speech">http://dev.w3.org/csswg/css3-speech</a>
  <dt>Latest version:
    <dd><a
      href="http://www.w3.org/TR/css3-speech">[LATEST]</a>
  <dt>Previous versions:
    <dd><a href="http://www.w3.org/TR/2004/WD-css3-speech-20041216/">http://www.w3.org/TR/2004/WD-css3-speech-20041216/</a>
  <dt id="editors-list">Editors:
	<dd><a href="mailto:dsr@w3.org">Dave Raggett</a> (<a href=
	"http://www.w3.org/">W3C</a>/<a href="http://www.canon.com/">Canon</a>)</dd>
	<dd><a href="mailto:daniel@glazman.org">Daniel Glazman</a> (<a href=
	"http://www.disruptive-innovations.com/">Disruptive Innovations</a>)</dd>
	<dd><a href="mailto:csant@opera.com">Claudio Santambrogio</a> (<a href=
	"http://www.opera.com/">Opera Software</a>)</dd>
	<dd><a href="mailto:dweck@daisy.org">Daniel Weck</a> (<a href=
	"http://www.daisy.org">DAISY Consortium</a>)</dd>
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>


<h2 id="abstract" class="no-num no-toc">Abstract</h2>

<p>CSS (Cascading Style Sheets) is a language for describing the
rendering of HTML and XML documents on screen, on paper, in speech,
etc. CSS defines aural properties that give control over rendering
XML and HTML to speech. This draft describes the text to speech properties
proposed for CSS level 3,
and is a re-work of the informative CSS2.1 Aural appendix [[CSS21]].
These are designed for match the model
described in the Speech Synthesis Markup Language (SSML) Version 1.0
[[!SPEECH-SYNTHESIS]].</p>

<p>The CSS3 Speech Module is a community effort and if you would
like to help with implementation and driving the specification
forward along the W3C Recommendation track, please contact the
editors.</p>

<h2 id="status" class="no-num no-toc">Status of this document</h2>
<!--status-->

<hr>

<p>This document is a draft of one of the "modules" for the
upcoming CSS3 specification.</p>

<p>This document has been developed in
cooperation with the <a href="/Voice/Group/">Voice Browser working
group</a> (<a href="http://cgi.w3.org/MemberAccess/AccessRequest">W3C
Members only</a>).</p>

<p>The following features are at-risk and may be dropped at the
end of the CR period if there has not been enough interest from
implementers:
<ul>
<li><a href="#issue-phonemes">phonemes</a></li>
<li><a href="#issue-mark">mark</a></li>
<li><a href="#issue-speak_none">speak:none</a></li>
</ul>
</p>

<p>The CSS WG maintains an <a href="http://www.w3.org/Style/CSS/Tracker/products/29">issues
list</a> for this module.</p>

<h2 id="contents" class="no-num no-toc">Table of contents</h2>
<!--toc-->

<hr />

<h2 id="dependencies"><span class="secno">1. </span>Dependencies on other
modules</h2>

<p>This CSS3 module depends on the following other CSS3
modules:</p>

<ul>
<li>Values and Units [[!CSS3VAL]]</li>
</ul>

<p>It has non-normative (informative) references to the following
other CSS3 modules:</p>

<ul>
<li>Cascade and Inheritance [[CSS3CASCADE]]</li>
<li>Tables [[CSS3TBL]]</li>
<li>Syntax [[CSS3SYN]]</li>
<li>The box model [[CSS3BOX]]</li>
<li>Generated and Replaced Content [[CSS3GENCON]]</li>
<li>Selectors [[SELECT]]</li>
</ul>

<h2 id="introduction"><span class="secno">2. </span>Introduction</h2>

<p>The speech rendering of a document, already commonly used by
the blind and print-impaired communities, combines speech synthesis
and "auditory icons". Often such aural presentation occurs by
converting the document to plain text and feeding this to a 
<dfn>screen reader</dfn> &mdash; software or hardware that simply
reads all the characters on the screen. This results in less
effective presentation than would be the case if the document
structure were retained. Style sheet properties for text to speech
may be used together with visual properties (mixed media) or as
an aural alternative to visual presentation.</p>

<p>Besides the obvious accessibility advantages, there are other
large markets for listening to information, including in-car use,
industrial and medical documentation systems (intranets), home
entertainment, and to help users learning to read or who have
difficulty reading.</p>

<p>When using voice properties, the canvas consists of a two
channel stereo space and a temporal space (you can specify
<a href="#cue-props">audio cues</a>
before and after synthetic speech). The CSS properties also
allow authors to vary the characteristics of synthetic speech
(voice type, frequency, inflection, etc.).</p>

<div class="example">
<p>Examples:</p>

<pre>
h1, h2, h3, h4, h5, h6 {
    voice-family: paul;
    voice-stress: moderate;
    cue-before: url(ping.au)
}
p.heidi { voice-balance: left; voice-family: female }
p.peter { voice-balance: right; voice-family: male }
p.goat  { voice-volume: soft }
</pre>

<p>This will direct the speech synthesizer to speak headers in a
voice (a kind of "audio font") called "paul". Before speaking the
headers, a sound sample will be played from the given URL.
Paragraphs with class "heidi" will appear to come from the left
(if the sound system is capable of stereo), and paragraphs of class
"peter" from the right. Paragraphs with class "goat" will be played
softly.</p>
</div>

<h2 id="aural-model"><span class="secno">3. </span>The aural "box" model</h2>

<p>The formatting model of CSS for aural media is based on a sequence
of sounds and silences that appear in a nested model which is
related to the visual box model; however the aural canvas is one-dimensional,
monolinear. For compatibility with the visual box model, we will call
it the <dfn id="aural-box-model">aural "box" model</dfn>.</p>

<p>The element is surrounded by, in this order, 'rest', 'cue'
and 'pause' properties - they can be thought of as aural equivalents
to 'padding', 'border' and 'margin' respectively.</p>

<p>It can be represented in the following way (including the equivalent
properties from the visual box model for clarification of relationships):</p>

<p><img id="aural-box" src="aural-box.png" alt="A graph depicting the aural 'box' model."/></p>

<p>where <dfn>element</dfn> is the selected element to which the properties
from the Speech Module apply.</p>

<h2 id="mixing-props"><span class="secno">4. </span>Mixing properties:
'voice-volume' and
'voice-balance'</h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-volume">voice-volume</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;non-negative number&gt; | &lt;percentage&gt; | silent | x-soft | soft |
medium | loud | x-loud | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>medium</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>refer to inherited value</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The 'voice-volume' refers to the amplitude of the waveform output by
the speech synthesiser. This may be mixed with other audio sources,
influencing the perceived loudness of synthetic speech relative
to these sources. Note that 'voice-volume' does not apply to <a href
="#cue-props">audio cues</a> for which there is a separate means
to set loudness (absolute, or relative to 'voice-volume').</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;non-negative number&gt;</strong></dt>

<dd>An integer or floating point number in the range '0' to '100'.
'0' represents silence (the <em>minimum</em> level), and 100
corresponds to the <em>maximum</em> level. The volume scale is
linear amplitude.</dd>

<dt><strong>&lt;percentage&gt;</strong></dt>

<dd>
Only positive values are allowed.
Computed values are calculated relative to the inherited
value, and are then clipped to the range '0' to '100'.
Note that a "+" sign does not denote an increment. For example, +50% is equivalent to 50%,
so the computed value equals the inherited value times 0.5 (divided by 2), then clipped to [0,100].
</dd>

<dt><strong>silent</strong>,
<strong>x-soft</strong>,
<strong>soft</strong>,
<strong>medium</strong>,
<strong>loud</strong>, and
<strong>x-loud</strong></dt>

<dd>A sequence of monotonically non-decreasing volume levels. The value
of 'silent' is mapped to '0' and 'x-loud' is mapped to '100'.
The mapping of other values to numerical volume levels is implementation
dependent and may vary from one speech synthesizer to the next.</dd>
</dl>

<p>User agents should allow the level corresponding to '100' to be
set by the listener. No one setting is universally applicable;
suitable values depend on the equipment in use (speakers,
headphones), and the environment (in car, home theater, library)
and personal preferences.</p>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-balance">voice-balance</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;number&gt; | left | center | right | leftwards | rightwards | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>center</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The 'voice-balance' property refers to the balance between
left and right channels, and presumes a two channel (stereo) model
that is widely supported on consumer audio equipment.</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;number&gt;</strong></dt>

<dd>An integer or floating point number between '-100' and '100'.
For '-100' only the left channel is audible. Simarly for '100' or
'+100' only the right channel is audible. For '0' both channels
have the same level, so that the speech appears to be coming from
the center.</dd>

<dt><strong>left</strong></dt>

<dd>Same as '-100'.</dd>

<dt><strong>center</strong></dt>

<dd>Same as '0'.</dd>

<dt><strong>right</strong></dt>

<dd>Same as '100' or '+100'.</dd>

<dt><strong>leftwards</strong></dt>

<dd>Moves the sound to the left, relative to the inherited 
'voice-balance'. More precisely, subtract 20 from the inherited value and
clip the resulting value to the range '-100' and '100'.</dd>

<dt><strong>rightwards</strong></dt>

<dd>Moves the sound to the right, relative to the inherited 
'voice-balance'. More precisely, add 20 to the inherited value and clip
the resulting value to the range '-100' and '100'.</dd>
</dl>

<p>Many speech synthesizers only support a single channel. The
'voice-balance' property can then be treated as part of a post
synthesis mixing step. This is where speech is mixed with other
audio sources. Note that unlike 'voice-volume', 'voice-balance'
<em>does</em> apply to <a href="#cue-props">audio cues</a>.</p>

<h2 id="speaking-props"><span class="secno">5. </span>Speaking properties:
'speak'</h2>

<!-- <p>An additional speech property, speak-header, is described in the
CSS module covering tables.</p> -->

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="speak">speak</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>none | normal | spell-out | digits | literal-punctuation |
no-punctuation | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>normal</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>This property specifies whether text will be rendered aurally
and if so, in what manner.</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>none</strong></dt>

<dd>Suppresses aural rendering so that the element requires no time
to render. Note, however, that descendants may override this value
and will be spoken. (To be sure to suppress rendering of an element
and its descendants, use the 'display' property [[CSS3BOX]]).

<p class="issue" id="issue-speak_none">ISSUE: 'speak:none' is arguably unnecessary, as it can be fully realized using 'display:none'. The function of 'speak' should primarily be to specify *how* to speak text content, not to control *if* it should be spoken. There is also a concern about accessibility good practices, in particular with regards to whether this specification should allow authors to "hide" text in the aural dimension, when it is actually visible on the graphical canvas. Note that "display:none" is different than "visibility:hidden". The former effectively 'deactivates' an element (so to speak) whereas the latter is more similar to "voice-volume:0%". In other words, "visibility:hidden" preserves the visual space that the element would normally occupy if it was visible (resulting in an empty or transparent area that still takes part in the page layout), and conversely "voice-volume:0%" results in an audio silence lasting as long as the duration of non-silent TTS playback.
There is a <a href="http://lists.w3.org/Archives/Public/www-style/2011Jan/0355.html">related discussion</a> on the public mailing-list.
</p>

</dd>

<dt><strong>normal</strong></dt>

<dd>Uses language-dependent pronunciation rules for rendering an
element and its children. Punctuation is not to be spoken, but
instead rendered naturally as various pauses.</dd>

<dt><strong>spell-out</strong></dt>

<dd>Spells the text one letter at a time (useful for acronyms and
abbreviations). In languages where accented characters are rare, it
is permitted to drop accents in favor of alternative unaccented
spellings. As as example, in English, the word "r&ocirc;le" can
also be written as "role". A conforming implementation would thus
be able to spell-out "r&ocirc;le" as "R O L E".</dd>

<dt><strong>digits</strong></dt>

<dd>Speak numbers one digit at a time, for instance, "twelve" would
be spoken as "one two", and "31" as "three one".</dd>

<dt><strong>literal-punctuation</strong></dt>

<dd>Similar to 'normal' value, but punctuation such as semicolons,
braces, and so on are to be spoken literally.</dd>

<dt><strong>no-punctuation</strong></dt>

<dd>Similar to 'normal' value but punctuation is not to be spoken
nor rendered as various pauses.</dd>
</dl>

<p>Note the difference between an element whose 'voice-volume'
property has a value of 'silent' and an element whose 'speak'
property has the value 'none'. The former takes up the same time as
if it had been spoken, including any pause before and after the
element, but no sound is generated. The latter requires no time and
is not rendered (though its descendants may be).</p>

<p>Speech synthesizers are knowledgeable about what is and what is
not a number. The 'speak' property gives authors the means to control
how the synthesizer renders the numbers it discovers in the source
text, and may be implemented as a preprocessing step before passing
the text to the speech synthesizer.</p>

<h2 id="pause-props"><span class="secno">6. </span>Pause properties:
'pause-before',
'pause-after' and
'pause',
<a href="#collapsing">collapsing pauses</a></h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="pause-before">pause-before</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;time&gt; | none | x-weak | weak | medium | strong
 | x-strong | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>&nbsp;</p>
<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="pause-after">pause-after</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;time&gt; | none | x-weak | weak | medium | strong
 | x-strong | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>These properties specify a pause or prosodic boundary to be
observed before (or after) an element or, if any 'cue-before' (or
'cue-after') is specified, before (or after) these.</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;time&gt;</strong></dt>

<dd>Expresses the pause in absolute time units, as per the syntax of "time" values in [[!CSS3VAL]] (seconds and
milliseconds, e.g. "3s", "250ms"). Only positive values are allowed.</dd>

<dt><strong>none</strong>,
<strong>x-weak</strong>,
<strong>weak</strong>,
<strong>medium</strong>,
<strong>strong</strong>, and
<strong>x-strong</strong>
</dt>

<dd>These values may be used to indicate the prosodic strength of
the break in speech output. The synthesis processor may insert a
pause as part of its implementation of the prosodic break. The value
"none" indicates that no prosodic break boundary should be output,
and can be used to inhibit a prosodic break which the processor
would otherwise produce. The other values indicate monotonically
non-decreasing (conceptually increasing) break strength between
elements. "x-weak" and "x-strong" are mnemonics for "extra weak" and "extra
strong", respectively. The stronger boundaries are typically accompanied by pauses.
The breaks between paragraphs are typically much stronger than the breaks between words within a sentence.</dd>
</dl>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="pause">pause</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>[ &lt;'pause-before'&gt; || &lt;'pause-after'&gt; ] |
inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The 'pause' property is a shorthand for setting 'pause-before'
and 'pause-after'. If two values are given, the first value is
'pause-before' and the second is 'pause-after'. If only one value
is given, it applies to both properties.</p>

<div class="example">
<p>Examples:</p>

<pre>
h1 { pause: 20ms } /* pause-before: 20ms; pause-after: 20ms */
h2 { pause: 30ms 40ms } /* pause-before: 30ms; pause-after: 40ms */
h3 { pause-after: 10ms } /* pause-before: <i>unspecified</i>; pause-after: 10ms */
</pre>
</div>

<h3 id="collapsing">Collapsing pauses</h3>

<p>The pause defines the minimum distance of the aural "box" to the
aural "boxes" before and after it. Adjacent pauses should be merged
by selecting the strongest named break or the longest absolute
time interval. Thus "strong" is selected when comparing "strong"
and "weak", while "1s" is selected when comparing "1s" and "250ms".
We say that such pauses <dfn id="collapse">collapse</dfn>.
A combination of a named break and time duration is treated
additively.</p>

<p>The following pauses collapse:</p>

<ol>
<li>The 'pause-after' of an aural "box" and the 'pause-after' of its last child,
provided the former has no 'rest-after' and no 'cue-after'.</li>
<li>The 'pause-before' of an aural "box" and the 'pause-before' of its first child,
provided the former has no 'rest-before' and no 'cue-before'.</li>
<li>The 'pause-after' of an aural "box" and the 'pause-before' of its next sibling.</li>
<li>The 'pause-before' and 'pause-after' of an aural "box", if the the "box" has a
'voice-duration' of "0ms", no 'rest-before' or 'rest-after', no
'cue-before' or 'cue-after' and no content.</li>
</ol>

<p>The 'pause-after' of an element is always adjoining to the 'pause-before' of its
next sibling.</p>

<p>The 'pause-before' an element is adjoining to its first child's 'pause-before',
if the element has no 'cue-before' nor 'rest-before'.</p>

<p>The 'pause-after' of an element is adjoining to its last child's 'pause-after',
if the element has no 'rest-after' or 'cue-after'.</p>

<p>An element's own pauses are adjoining if the 'voice-duration' property
is zero, and it has no rest, and it does not contain any content,
and all of its children's pauses (if any) are adjoining.</p>

<p class="note">Editor's note: 'pause' has been re-defined, and has
been moved from between the element's contents and any 'cue' to outside
the 'cue' - this is not backwards compatible with the informative CSS2.1
Aural appendix [[CSS21]].</p>

<h2 id="rest-props"><span class="secno">7. </span>Rest properties:
'rest-before',
'rest-after' and
'rest'</h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="rest-before">rest-before</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;time&gt; | none | x-weak | weak | medium | strong
 | x-strong | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>&nbsp;</p>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="rest-after">rest-after</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;time&gt; | none | x-weak | weak | medium | strong
 | x-strong | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>These properties specify a rest or prosodic boundary to be observed
before (or after) speaking an element's content.</p>

<p>Values have the following
meanings:</p>

<dl>
<dt><strong>&lt;time&gt;</strong></dt>

<dd>Expresses the rest in absolute time units, as per the syntax of "time" values in [[!CSS3VAL]] (seconds and milliseconds,
e.g. "3s", "250ms"). Only positive values are allowed.</dd>

<dt><strong>none</strong>,
<strong>x-weak</strong>,
<strong>weak</strong>,
<strong>medium</strong>,
<strong>strong</strong>, and
<strong>x-strong</strong>
</dt>

<dd>These values may be used to indicate the prosodic strength of
the break in speech output. The synthesis processor may insert a
rest as part of its implementation of the prosodic break. The value
"none" indicates that no prosodic break boundary should be output,
and can be used to inhibit a prosodic break which the processor
would otherwise produce. The other values indicate monotonically
non-decreasing (conceptually increasing) break strength between words.
The stronger boundaries are typically accompanied by rests. "x-weak"
and "x-strong" are mnemonics for "extra weak" and "extra strong",
respectively.</dd>
</dl>

<p>As opposed to <a href="#pause-props">pause properties</a>, the
rest is inserted between the element's content and any 'cue-before'
or 'cue-after' content. Adjacent rests are treated additively.</p>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="rest">rest</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>[ &lt;'rest-before'&gt; || &lt;'rest-after'&gt; ] | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The 'rest' property is a shorthand for setting 'rest-before' and
'rest-after'. If two values are given, the first value is 'rest-before'
and the second is 'rest-after'. If only one value is given, it applies
to both properties.</p>

<h2 id="cue-props"><span class="secno">8. </span>Cue properties:
'cue-before',
'cue-after' and
'cue'</h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="cue-before">cue-before</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;uri&gt; [&lt;non-negative number&gt; | &lt;percentage&gt; | silent
 | x-soft | soft | medium | loud | x-loud] | none | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>none</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>apply to inherited value for 'voice-volume'</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>&nbsp;</p>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="cue-after">cue-after</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;uri&gt; [&lt;non-negative number&gt; | &lt;percentage&gt; | silent
 | x-soft | soft | medium | loud | x-loud] | none | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>none</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>apply to inherited value for 'voice-volume'</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>Auditory icons are another way to distinguish semantic elements.
Sounds may be played before and/or after the element to delimit it.
</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;uri&gt;</strong></dt>

<dd>The URI must designate an auditory icon resource. If the URI
resolves to something other than an audio file, such as an image,
the resource should be ignored and the property treated as if it
had the value 'none'.</dd>

<dt><strong>none</strong></dt>

<dd>No auditory icon is specified.</dd>

<dt><strong>&lt;non-negative number&gt;</strong></dt>

<dd>An integer or floating point number in the range '0' to '100'.
'0' represents silence (the <em>minimum</em> level), and 100
corresponds to the <em>maximum</em> level. The volume scale is
linear amplitude.</dd>

<dt><strong>&lt;percentage&gt;</strong></dt>

<dd>
Only positive values are allowed.
Computed values are calculated relative to the inherited
value of the 'voice-volume' property, and are then clipped to the range '0' to '100'.
By basing the percentage upon the
inherited value for 'voice-volume',
it is easy to adjust the relative loudness of cues compared to
synthetic speech for whatever volume setting has been provided
for that speech.
Note that a "+" sign does not denote an increment. For example, +50% is equivalent to 50%,
so the computed value equals the inherited value times 0.5 (divided by 2), then clipped to [0,100].
</dd>

<dt><strong>silent</strong>,
<strong>x-soft</strong>,
<strong>soft</strong>,
<strong>medium</strong>,
<strong>loud</strong>, and
<strong>x-loud</strong></dt>

<dd>A sequence of monotonically non-decreasing volume levels.
The value of 'silent' is mapped to '0' and 'x-loud' is mapped
to '100'. The mapping of other values to numerical volume levels
is implementation dependent, but the intention is to match the
corresponding levels for 'voice-volume'.</dd>
</dl>

<div class="example">
<p>Examples:</p>
<pre>
a { cue-before: url(bell.aiff); cue-after: url(dong.wav) }

h1 { cue-before: url(pop.au) 80; cue-after: url(pop.au) 50% }

div.caution { cue-before: url(caution.wav) loud }
</pre>
</div>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="cue">cue</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>[ &lt;'cue-before'&gt; || &lt;'cue-after'&gt; ] | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>not defined for shorthand properties</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>apply to inherited value for 'voice-volume'</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The 'cue' property is a shorthand for setting 'cue-before'
and 'cue-after'. If two values are given the first value is
'cue-before' and the second is 'cue-after'. If only one value
is given, it applies to both properties.</p>

<div class="example">
<p>The following two rules are equivalent:</p>

<pre>
h1 {cue-before: url(pop.au); cue-after: url(pop.au) }

h1 {cue: url(pop.au) }
</pre></div>

<p>If a user agent cannot render an auditory icon (e.g., the
user's environment does not permit it), we recommend that it
produce an alternative audio cue (e.g., popping up a warning, emitting
a warning sound, etc.)</p>

<p>Authors may also use
<a href="#content">content generation techniques</a>
to insert additional auditory cues based on text instead of audio icons.</p>

<!-- Add something here about gc -->

<h2 id="mark-props"><span class="secno">9. </span>Mark properties:
'mark-before',
'mark-after' and
'mark'</h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="mark-before">mark-before</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;string&gt;</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>none</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>&nbsp;</p>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="mark-after">mark-after</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;string&gt;</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>none</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The mark properties allow named markers to be attached to the
audio stream. For compatibility with SSML, this must conform to the
<a href=
"http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/#token">xsd:token</a>
datatype as defined in XML Schema. Synthesis processors must do one
or both of the following when encountering a mark:</p>

<ul>
<li>Inform the hosting environment with the value of the mark's
name with information allowing the platform to retrieve the
corresponding position in the rendered output.</li>
<li>When audio output of the SSML document reaches the mark,
issue an event that includes the required name attribute of
the element. The hosting environment defines the destination
of the event.</li>
</ul>

<p>The mark properties have no audible effect on the speech
and instead just serve to mark points in the stream.</p>
 
<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;string&gt;</strong></dt>

<dd>A string to be used as the name of the mark.</dd>
</dl>

<p>A good way of adding the marking properties could be by
means of using the attr() function.</p>

<div class="example">
<p>Examples:</p>
<pre>
h1 {mark-before: "section"}

p {mark-before: attr(id) }
</pre>
</div>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="mark">mark</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>[ &lt;'mark-before'&gt; || &lt;'mark-after'&gt; ]</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>not defined for shorthand properties</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The 'mark' property is a shorthand for setting 'mark-before'
and 'mark-after'. If two values are given the first value is
'mark-before' and the second is 'mark-after'. If only one value
is given, it applies to both properties.</p>

<div class="example">
<p>The following two rules are equivalent:</p>

<pre>
div {mark-before: "start"; mark-after: "end" }<br />
div {mark: "start" "end" }
</pre></div>

<p class="issue" id="issue-mark">ISSUE: in SSML, the 'mark' element acts as a destination anchor
and as a mean to raise an event when the point is reached within the speech stream.
This functionality arguably isn't purely of stylistic nature (if at all), so it is judged "at risk" of being removed from this specification draft.
There is a <a href="http://lists.w3.org/Archives/Public/www-style/2010Dec/0239.html">related discussion</a> on the public mailing-list.
</p>

<h2 id="voice-char-props"><span class="secno">10. </span>Voice
characteristic properties:
'voice-family',
'voice-rate',
'voice-pitch',
'voice-pitch-range' and
'voice-stress'</h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-family">voice-family</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>
[[[&lt;specific-voice&gt; | [&lt;age&gt;? &lt;generic-voice&gt;]] &lt;non-negative number&gt;?],]*
[[&lt;specific-voice&gt; | [&lt;age&gt;? &lt;generic-voice&gt;]] &lt;non-negative number&gt;?]
| inherit
</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>The value is a comma-separated, prioritized list of voice family
names (compare with <span class=
"propinst-font-family">'font-family'</span>).</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;specific-voice&gt;</strong></dt>

<dd>Values are specific instances (e.g., Mike, comedian, mary, carlos,
"valley-girl").</dd>

<dt><strong>&lt;age&gt;</strong></dt>

<dd>Possible values are 'child', 'young' and 'old'.</dd>

<dt><strong>&lt;generic-voice&gt;</strong></dt>

<dd>Values are voice families. Possible values are 'male',
'female' and 'neutral'.</dd>

<dt><strong>&lt;non-negative number&gt;</strong></dt>

<dd>Indicates a preferred variant of the other voice
characteristics (e.g. "the second male child voice named 'Mike'").
Possible values are positive integers, excluding zero (i.e. starting from 1).
The value "1" refers to the first of all matching voices.
</dd>
</dl>

<div class="example">
<p>Examples:</p>

<pre>
h1 { voice-family: announcer, old male }<br />
p.part.romeo  { voice-family: romeo, young male }<br />
p.part.juliet { voice-family: juliet, female }<br />
p.part.mercutio { voice-family: male 2 }<br />
p.part.tybalt { voice-family: male 3 }<br />
p.part.nurse { voice-family: child female }
</pre></div>

<p>Names of specific voices may be quoted, and indeed must be
quoted if any of the words that make up the name does not conform
to the syntax rules for identifiers [[CSS3SYN]].
Any whitespace
characters before and after the voice name are ignored. For
compatibility with SSML, whitespace characters are not permitted
within voice names.</p>

<p>The 'voice-family' property is used to guide the selection of
the voice to be used for speech synthesis. The overriding priority
is to match the language specified by the xml:lang attribute
as per the XML 1.0
specification [[!XML10]], and as inherited by nested elements until
overridden by a further xml:lang attribute.</p>

<p>If there is no voice available for the requested value of
xml:lang, the processor should select a voice that is closest
to the requested language (e.g. a variant or dialect of the
same language). If there are multiple such voices available,
the processor should use a voice that best matches the values
provided with the 'voice-volume' property. It is an error if
there are no such matches.</p>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-rate">voice-rate</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;percentage&gt; | x-slow | slow | medium | fast | x-fast | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>refer to default value</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>This property controls the speaking rate. The default rate for
a voice depends on the language and dialect and on the personality
of the voice. The default rate for a voice should be such that it
is experienced as a normal speaking rate for the voice when
reading aloud text. Since voices are processor-specific, the
default rate will be as well.</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;percentage&gt;</strong></dt>

<dd>
Only positive values are allowed.
Computed values are calculated relative to the default
speaking rate for each voice.
Note that a "+" sign does not denote an increment, for example +50% is equivalent to 50%
(i.e. the computed value equals the inherited value times 0.5, which is half the normal rate of the voice).
</dd>

<dt><strong>x-slow</strong>,
<strong>slow</strong>,
<strong>medium</strong>,
<strong>fast</strong> and
<strong>x-fast</strong></dt>

<dd>A sequence of monotonically non-decreasing speaking rates
that are implementation and voice specific.</dd>
</dl>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-pitch">voice-pitch</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;frequency&gt; | &lt;percentage&gt; | &lt;relative-change&gt; | x-low | low | medium
 | high | x-high | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>medium</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>refer to inherited value</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>Specifies the average pitch (a frequency) of the speaking voice.
The average pitch of a voice depends on the 'voice-family'. For
example, the average pitch for a standard male voice is around
120Hz, but for a female voice, it's around 210Hz.</p>

<p>Values have the following meanings:</p>

<dl>

<dt><strong>&lt;frequency&gt;</strong></dt>

<dd>
This is an absolute value that specifies the average pitch of the speaking voice in Hertz.
It must be &lt;non-negative number&gt; followed by the "Hz" suffix.
</dd>


<dt><strong>&lt;percentage&gt;</strong></dt>

<dd>
Only positive values are allowed.
Computed values are calculated relative to the inherited
value.
Note that a "+" sign does not denote an increment. For example, +50% is equivalent to 50%,
so the computed value equals the inherited value times 0.5 (divided by 2),
which is half the inherited average pitch of the voice.
</dd>

<dt><strong>&lt;relative-change&gt;</strong></dt>

<dd>
Specifies a relative change (decrement or increment) to the inherited value.
The syntax of allowed values is a &lt;number&gt; (note that the "+" sign is optional for positive numbers),
followed by either of "Hz" (for Hertz) or "st" (for semitones),
and followed by a space character and the "relative" keyword.
Note that the "relative" keyword is mandatory. This is in order to disambiguate from
&lt;frequency&gt; values which may also carry the optional "+" sign on positive values.
A semitone is half of a tone (a half step) on the standard diatonic scale.
Note that a semitone doesn't correspond to a fixed value in Hertz: instead,
the ratio between two consecutive frequencies separated by exactly one semitone
is approximately 1.05946 (the actual arithmetics involved are beyond the scope of this specification,
please refer to existing literature on that subject).
Examples of valid values: "+0.5st", "+5st", "-2st", "+10Hz", "-5.5Hz".
</dd>


<dt><strong>x-low</strong>, <strong>low</strong>,
<strong>medium</strong>, <strong>high</strong>,
<strong>x-high</strong></dt>

<dd>A sequence of monotonically non-decreasing pitch levels
that are implementation and voice specific.</dd>
</dl>


<div class="example">
<p>Examples:</p>

<pre>
h1 { voice-pitch: 250Hz; }<br />
h1 { voice-pitch: +250Hz; } /* identical to the line above */<br />
h2 { voice-pitch: +30Hz relative; }<br />
h2 { voice-pitch: 30Hz relative; } /* identical to the line above */<br />
h3 { voice-pitch: -2st relative; }<br />
h4 { voice-pitch: -2st; } /* Illegal syntax ! ("relative" keyword is missing) */
</pre></div>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-pitch-range">voice-pitch-range</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;frequency&gt; | &lt;percentage&gt; | &lt;relative-change&gt; | x-low | low | medium
 | high | x-high | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>implementation dependent</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>refer to inherited value</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>Specifies variation in average pitch. The perceived pitch of a
human voice is determined by the fundamental frequency and
typically has a value of 120Hz for a male voice and 210Hz for a
female voice. Human languages are spoken with varying inflection
and pitch; these variations convey additional meaning and emphasis.
Thus, a highly animated voice, i.e., one that is heavily inflected,
displays a high pitch range. This property specifies the range over
which these variations occur, i.e., how much the fundamental
frequency may deviate from the average pitch.</p>

<p>Values have the following meanings:</p>

<dl>

<dt><strong>&lt;frequency&gt;</strong></dt>

<dd>
This is an absolute value that specifies the average pitch range of the speaking voice in Hertz.
Low ranges produce a flat, monotonic voice. A high range produces animated voices.
It must be &lt;non-negative number&gt; followed by the "Hz" suffix.
</dd>

<dt><strong>&lt;percentage&gt;</strong></dt>

<dd>
Only positive values are allowed.
Computed values are calculated relative to the inherited
value.
Note that a "+" sign does not denote an increment. For example, +50% is equivalent to 50%,
so the computed value equals the inherited value times 0.5 (divided by 2),
which is half the inherited average pitch range of the voice.
</dd>

<dt><strong>&lt;relative-change&gt;</strong></dt>

<dd>
Specifies a relative change (decrement or increment) to the inherited value.
The syntax of allowed values is a &lt;number&gt; (note that the "+" sign is optional for positive numbers),
followed by either of "Hz" (for Hertz) or "st" (for semitones),
and followed by a space character and the "relative" keyword.
Note that the "relative" keyword is mandatory. This is in order to disambiguate from
&lt;frequency&gt; values which may also carry the optional "+" sign on positive values.
A semitone is half of a tone (a half step) on the standard diatonic scale.
Note that a semitone doesn't correspond to a fixed value in Hertz: instead,
the ratio between two consecutive frequencies separated by exactly one semitone
is approximately 1.05946 (the actual arithmetics involved are beyond the scope of this specification,
please refer to existing literature on that subject).
Examples of valid values: "+0.5st", "+5st", "-2st", "+10Hz", "-5.5Hz".
</dd>

<dt><strong>x-low</strong>,
<strong>low</strong>,
<strong>medium</strong>,
<strong>high</strong> and
<strong>x-high</strong></dt>

<dd>A sequence of monotonically non-decreasing pitch ranges
that are implementation and language dependent.</dd>
</dl>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-stress">voice-stress</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>strong | moderate | none | reduced | inherit</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td>moderate</td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>yes</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>Indicates the strength of emphasis to be applied. Emphasis
is indicated using a combination of pitch change, timing changes,
loudness and other acoustic differences) that varies from one
language to the next.</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>none</strong>,
<strong>moderate</strong> and
<strong>strong</strong></dt>

<dd>These are monotonically non-decreasing in strength, with
the precise meanings dependent on language being spoken.
The value 'none' inhibits the synthesizer from emphasizing
words it would normally emphasize.</dd>

<dt><strong>reduced</strong></dt>

<dd>Effectively the opposite of emphasizing a word. For example,
when the phrase "going to" is reduced it may be spoken as
"gonna".</dd>
</dl>

<h2 id="duration-props"><span class="secno">11. </span>Duration property:
'voice-duration'</h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="voice-duration">voice-duration</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;time&gt;</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td><em>implementation dependent</em></td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>Allows authors to specify how long it should take to render
the selected element's content. This property takes precedence over the 'voice-rate'
property.</p>

<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;time&gt;</strong></dt>

<dd>
<p>Specifies a value in seconds or milliseconds (as per the syntax of "time" values in [[!CSS3VAL]])
for the desired spoken duration of the element contents,
for instance, "250ms", or "3s".
Only positive numbers are allowed.
</p>
</dd>
</dl>

<h2 id="phonetic-props"><span class="secno">12. </span>Phonetics:
'phonemes' and
<a href="#phonetic-alphabet">'@phonetic-alphabet'</a></h2>

<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="phonemes">phonemes</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;string&gt;</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td><em>implementation dependent</em></td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>This allows authors to specify a phonetic pronunciation for the
text contained by the corresponding element.</p>


<p>Values have the following meanings:</p>

<dl>
<dt><strong>&lt;string&gt;</strong></dt>

<dd>
A character string that describes a pronunciation
based on the specified
<a href="#phonetic-alphabet">'@phonetic-alphabet'</a>.
</dd>

</dl>

<p class="issue" id="issue-phonemes">ISSUE: the 'phonemes' property covers functionality that is arguably not strictly related to styling (it relates to the broader aspect of pronunciation lexicons).
There is a <a href="http://lists.w3.org/Archives/Public/www-style/2011Jan/0248.html">related discussion</a> on the public mailing-list.
</p>


<h3 id="phonetic-alphabet">@phonetic-alphabet</h3>

<p>
A phonetic alphabet is a collection of symbols that represent the sounds of one or more human languages.
The default alphabet for the pronunciation string of the
'phonemes' property is the International Phonetic
Alphabet ("ipa"), corresponding to Unicode representations of the phonetic
characters developed by the International Phonetic Association
[<a href="#IPA">IPA</a>].

The phonetic alphabet can be explicitly specified
using the <a href="#phonetic-alphabet">'@phonetic-alphabet'</a> rule.</p>

<p class="note">Editor's note: The alphabet is specified via an
at-rule to avoid problems with inappropriate cascades that can
occur if the alphabet was set via a property.</p>

<div class="example">
<p>Example:</p>

<pre>
@phonetic-alphabet "ipa";
#tomato { phonemes: "t\0252 m\0251 to\028a " }
</pre>

<p>This will direct the speech synthesizer to replace the default
pronunciation by the corresponding sequence of 'phonemes' in the
designated alphabet.</p>
</div>

<p>At most one <a href="#phonetic-alphabet">'@phonetic-alphabet'</a> rule may appear in style sheet and it
must appear, when used, before any occurrence of the 'phonemes' property.
The only valid values are the default "ipa" phonetic alphabet,
and vendor-specific strings such as "x-organization" or "x-organization-alphabet".
</p>

<!-- p class="issue">ISSUE: we do not mention any other possible value
for <a href="#phonetic-alphabet">'@phonetic-alphabet'</a>.
SSML 1.0 defines "ipa" to be the only valid
value - any other value should be added with the "x-" prefix. Do we
want to follow this? Or do we allow some other values? SAMPA comes
to my mind as a widely used ASCII alternative to IPA, but then: SAMPA
is language dependent, and it might be better to have X-SAMPA.</p -->

<h2 id="content">Inserted and replaced content</h3>

<!-- div class="issue">
<p>ISSUE: should there be a CSS equivalent to the SSML &lt;sub&gt;
element? This gives the author the means to replace one string with
another as means to changing how something is spoken, e.g. "as-key"
for "ASCII". A possible solution is a new CSS property  'say-instead'
for instance:</p>

<pre>
   say-instead: "as-key";
</pre>

<p>The drawback with this property is that it has to be applied to a
specific instance of an element and can't be used more generally.
In the longer term, the use of pronunciation lexicons would provide a
better solution.</p>
</div -->

<p>Sometimes, authors will want to specify a mapping from the
source text into another string prior to the application of the
regular pronunciation rules. This may be used for uncommon abbreviations
or acronyms which are unlikely to be recognized by the synthesizer.
The 'content' property can be
used to replace one string by another. In the following example,
the abbreviation is rendered using the content of the title
attribute instead of the element's content:</p>

<div class="example">
<p>Example:</p>

<pre>
abbr { content: attr(title); }
  ...

&lt;abbr title="World Wide Web Consortium"&gt;W3C&lt;/abbr&gt;
</pre>

<p>This replaces the content of the selected element by the string
"World Wide Web Consortium".</p>
</div>

<p>In a similar way text-to-speech strings in a document can be
replaced by a previously recorded version:</p>

<div class="example">
<p>Example:</p>

<pre>
.hamlet { content: url(gielgud.wav); }
  ...

&lt;div class="hamlet"&gt;
To be, or not to be: that is the question:
&lt;/div&gt;
</pre>

<p>If the format is supported, the file is available and the UA is
configured to do so, a recording of Sir John Gielgud's declamation
of the famous monologue will be played, otherwise the UA falls back
to render the text-to-speech with its own synthesizer.</p>
</div>

<p>Furthermore authors, or users in a user stylesheet, may want to
add some information to ease understanding the structure for non-visual
interaction with the document. They can do so by using the '::before'
and '::after' pseudo-elements that will be inserted between the
element's contents and the 'rest':</p>

<div class="example">
<p>Example:</p>

<pre>
ul::before { content: "Start list: " }
ul::after  { content: "List end. " }
li::before { content: "List item: " }
</pre>

<p>This inserts the string "Start list: " before a list and the string
"List item: " before each list item; likewise the string "List
end: " inserted after the list will inform the user that the list is
finished.</p>

<p>Different stylesheets can be used to define the level of verbosity
for additional information spoken by screen readers.</p>
</div>

<p>Detailed information can be found in the CSS3 Generated and
Replaced Content Module [[CSS3GENCON]].</p>

<!--
<h2 id="interpret-as-props">Interpretation property:
 <a href="#interpret-as">'interpret-as'</a></h2>
<table class="propdef" summary="name: syntax">
<tbody>
<tr>
<td>Name:</td>
<td><dfn id="interpret-as">interpret-as</dfn></td>
</tr>
<tr>
<td width="20%"><em>Value:</em></td>
<td>&lt;date&gt; | &lt;time&gt; | currency | measure | telephone |
address | name | net</td>
</tr>
<tr>
<td width="20%"><em>Initial:</em></td>
<td><em>implementation dependent</em></td>
</tr>
<tr>
<td width="20%"><em>Applies&nbsp;to:</em></td>
<td>all elements</td>
</tr>
<tr>
<td width="20%"><em>Inherited:</em></td>
<td>no</td>
</tr>
<tr>
<td width="20%"><em>Percentages:</em></td>
<td>N/A</td>
</tr>
<tr>
<td width="20%"><em>Media:</em></td>
<td>speech</td>
</tr>
</tbody>
</table>

<p>This provides a hint to the speech platform as to how to
interpret the corresponding element's content and is useful when
the content is ambigous and liable to be misinterpreted. Values
have the following meanings:</p>

<dl>
<dt><strong>&lt;date&gt;</strong></dt>

<dd>

<p>Specifies a date using the same syntax as SSML. For instance,
"date(dmy)" when applied to "12/11/2002" would be interpreted as
12th November 2002.</p>
</dd>

<dt><strong>&lt;time&gt;</strong></dt>

<dd>

<p>Specifies a time using the same syntax as SSML. For instance,
"time(hm)" when applied to "06:30" would be interpreted as 6 hours
and 30 minutes.</p>
</dd>

<dt><strong>currency</strong></dt>
<dd>A hint that the element's content is a currency value.</dd>

<dt><strong>measure</strong></dt>
<dd>A hint that the element's content is a measurement.</dd>

<dt><strong>telephone</strong></dt>
<dd>A hint that the element's content is a telephone number.</dd>

<dt><strong>address</strong></dt>
<dd>A hint that the element's content is an address.</dd>

<dt><strong>name</strong></dt>
<dd>A hint that the element's content is a proper name of a person,
company etc.</dd>

<dt><strong>net</strong></dt>
<dd>A hint that the element's content is a URI such as an email
address or an http URI.</dd>
</dl>

<p class="issue">The above definitions were taken from the SSML
specification dated 23 August 2002, but there is continuing
uncertainty as to how the SSML "say-as" mechanism will end up. If
SSML doesn't provide the same set of input types, then it may be
necessary to transform the content before it can be directly mapped
into SSML. We may just choose to drop 'interpret-as' until a future
revision of this specification when the details of the say-as
element have been clarified.</p>
-->

<hr title="Separator from footer" />


<h2 class="no-num" id="profiles">Appendix A &mdash; Profiles</h2>

<p>TBD</p>

<h2 class="no-num" id="property-index">Appendix B &mdash; Property index</h2>
<!-- properties -->


<p>The following properties are defined in other modules:</p>

<ul>
<li><dfn id="content-def">content</dfn> [[CSS3GENCON]]</li>
<li><dfn id="display-def">display</dfn> [[CSS3BOX]]</li>
</ul>


<h2 class="no-num" id="index">Appendix C &mdash; Index</h2>
<!--index-->

<h2 class="no-num" id="definitions">Appendix D &mdash; Definitions</h2>

<h3 class="no-num" id="glossary">Glossary</h3>

<p>The following terms and abbreviations are used in this
module.

<dl>
<dt><dfn>UA</dfn>
<dt><dfn id="user-agent">User Agent</dfn>
<dd>
<p>A program that reads and/or writes CSS style sheets on behalf of a
user in either or both of these categories: programs whose purpose is
to render <span>documents</span> (e.g., browsers) and
programs whose purpose is to create style sheets (e.g., editors). A UA
may fall into both categories. (There are other programs that read or
write style sheets, but this module gives no rules for them.)

<dt><dfn title="document|documents">document</dfn>
<dd>
<p>A tree-structured document with elements and attributes, such as an
SGML or XML document [[!XML11]].

<dt><dfn>style sheet</dfn>
<dd>
<p>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS style sheet</a>.
</dl>


<h3 class="no-num" id=conformance>Conformance</h3>

<p>Conformance requirements are expressed with a combination of
descriptive assertions and RFC 2119 terminology. The key words "MUST",
"MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
"RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
document are to be interpreted as described in RFC 2119.
However, for readability, these words do not appear in all uppercase
letters in this specification. All of the text of this specification is
normative except sections explicitly marked as non-normative, examples,
and notes. [[!RFC2119]]</p>

<p>Examples in this specification are introduced with the words "for example"
or are set apart from the normative text with <code>class="example"</code>,
like this:

<div class="example">
  <p>This is an example of an informative example.</p>
</div>

<p>Informative notes begin with the word "Note" and are set apart from the
normative text with <code>class="note"</code>, like this:

<p class="note">Note, this is an informative note.</p>

<p>Conformance to CSS Backgrounds and Borders Level 3 is defined
for three classes:
<dl>
  <dt><dfn title="style sheet!!as conformance class">style sheet</dfn>
    <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
    style sheet</a>.
  <dt><dfn>renderer</dfn></dt>
    <dd>A UA that interprets the semantics of a style sheet and renders
    <span>documents</span> that use them.
  <dt><dfn id="authoring-tool">authoring tool</dfn></dt>
    <dd>A UA that writes a style sheet.
</dl>

<p>A style sheet is conformant to CSS Backgrounds and Borders Level 3
if all of its declarations that use properties defined in this module
have values that are valid according to the generic CSS grammar and the
individual grammars of each property as given in this module.

<p>A renderer is conformant to CSS Backgrounds and Borders Level 3
if, in addition to interpreting the style sheet as defined by the
appropriate specifications, it supports all the properties defined
by CSS Backgrounds and Borders Level 3 by parsing them correctly
and rendering the document accordingly. However the inability of a
UA to correctly render a document due to limitations of the device
does not make the UA non-conformant. (For example, a UA is not
required to render color on a monochrome monitor.)

<p>An authoring tool is conformant to CSS Backgrounds and Borders
Level 3 if it writes syntactically correct style sheets, according
to the generic CSS grammar and the individual grammars of each
property in this module.

<h3 class="no-num" id="levels">Levels</h3>

<p><em>This section is informative.</em> CSS has different levels of
features, each a subset of the other. (See [[CSSBEIJING]] for a full
explanation.) The lists below describe which features from this
specification are in each level.

<h4 class="no-num" id="level-1">CSS Level 1</h4>
<ul>
  <li>'background-color'
  <li>'background-image' only one image (no layers)
  <li>'background-repeat': only 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat'
  <li>'background-attachment': only 'scroll' | 'fixed'
  <li>'background-position': only one or two values allowed
  <li>'background' shorthand: only color, image, repeat, attachment and position
  <li>'border-color' properties
  <li>'border-style' properties
  <li>'border-width' properties
  <li>'border-top', 'border-bottom', 'border-right', 'border-left', and 'border' shorthands
</ul>

<h4 class="no-num" id="level-2">CSS Level 2</h4>
<ul>
  <li>'background-color'
  <li>'background-image': only one image (no layers)
  <li>'background-repeat': only 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat'
  <li>'background-attachment': only 'scroll' | 'fixed'
  <li>'background-position': only one or two values allowed
  <li>'background': only color, image, repeat, attachment and position
  <li>'border-color' properties
  <li>'border-style' properties
  <li>'border-width' properties
  <li>'border-top', 'border-bottom', 'border-right', 'border-left', and 'border' shorthands
</ul>

<h4 class="no-num" id="level-3">CSS Level 3</h4>
<ul>
  <li>All features described in the CSS Backgrounds and Borders Module Level 3
</ul>


<h3 class="no-num" id="exit">CR exit criteria</h3>

<p>As described in the W3C process document, a <a
href="http://www.w3.org/2005/10/Process-20051014/tr.html#cfi">Candidate
Recommendation</a> (CR) is a specification that W3C recommends for use
on the Web. The next stage is "Recommendation" when the
specification is sufficiently implemented.

<p>For this specification to be proposed as a W3C Recommendation, the
following conditions shall be met. There must be at least two
independent, interoperable implementations of each feature. Each
feature may be implemented by a different set of products, there is no
requirement that all features be implemented by a single product. For
the purposes of this criterion, we define the following terms:

<dl>
  <dt>independent <dd>each implementation must be developed by a
  different party and cannot share, reuse, or derive from code
  used by another qualifying implementation. Sections of code that
  have no bearing on the implementation of this specification are
  exempt from this requirement.

  <dt>interoperable <dd>passing the respective test case(s) in the
  official CSS test suite, or, if the implementation is not a Web
  browser, an equivalent test. Every relevant test in the test
  suite should have an equivalent test created if such a user
  agent (UA) is to be used to claim interoperability. In addition
  if such a UA is to be used to claim interoperability, then there
  must one or more additional UAs which can also pass those
  equivalent tests in the same way for the purpose of
  interoperability. The equivalent tests must be made publicly
  available for the purposes of peer review.

  <dt>implementation <dd>a user agent which:

  <ol class="inline">
    <li>implements the specification.

    <li>is available to the general public. The implementation may
    be a shipping product or other publicly available version
    (i.e., beta version, preview release, or "nightly build"). 
    Non-shipping product releases must have implemented the
    feature(s) for a period of at least one month in order to
    demonstrate stability.

    <li>is not experimental (i.e., a version specifically designed
    to pass the test suite and is not intended for normal usage
    going forward).
  </ol>
</dl>

<p>A minimum of sixth months of the CR period must have elapsed. This
is to ensure that enough time is given for any remaining major errors
to be caught.

<p>Features will be dropped if two or more interoperable
implementations are not found by the end of the CR period.

<p>Features may/will also be dropped if adequate/sufficient (by
judgment of CSS WG) tests have not been produced for those feature(s)
by the end of the CR period.



<h2 class="no-num" id="acks">Appendix E &mdash; Acknowledgements</h2>

<p>The editors would like to thank the members of the W3C Voice
Browser and Cascading Style Sheets working groups for their
assistance in preparing this new draft. Special thanks to Ellen
Eide (IBM) for her detailed comments.</p>


<h2 class="no-num" id="changes">Appendix F &mdash; Changes from previous draft</h2>

<ul>
<li>Fixed 'voice-family' grammar as per <a href="http://lists.w3.org/Archives/Public/www-style/2010Dec/0231.html">this discussion</a></li>
<li>Added "HTML" to "CSS defines aural properties that give control over rendering
XML to speech" in the abstract.</li>
<li>Removed unused normative links to CSS3 Modules (actually moved to informative references), now the only dependency is CSS3 Values and Units.</li>
<li>Removed issue about the 'sub' SSML element given that the CSS "content" replacement functionality addresses the same requirement.</li>
<li>Added support for semitones in pitch alterations.</li>
<li>Added reference to "time" values syntax (s, ms) for 'voice-duration'.</li>
<li>Moved "content" outside of "phonetics", as the ::before and ::after use-cases do not relate to pronunciation rules (this is actually more similar to audio cues, only applied with text rather than audio files)</li>
<li>Added prose to explicitly support alphabet other than IPA, via the "x-" vendor-specific prefix.</li>
<li>Reworked HTML source code to work with the <a href="http://cgi.w3.org/member-bin/process.cgi">members-only W3C pre-processor/generator</a></li>
<li>Harmonized all hyperlinks so that CSS properties get auto-linked by the pre-processor</li>
<li>Clarified computation rules for positive percentages with "+" prefixes (i.e. they do not denote increments, the regular multiplicative behavior is used).</li>
<li>Fixed IPA URL reference</li>
<li>Reorganized appendixes</li>
<li>Fixed minor typos</li>
</ul>


<h2 class="no-num" id="references">Appendix G &mdash; References</h2>

<h3 class="no-num">Normative references</h3>
<!--normative-->

<dl class="bibliography"> 

<dt id="IPA">[IPA]</dt> 
<dd>
<a href="http://www.langsci.ucl.ac.uk/ipa/">International Phonetic Association</a>
</dd> 

</dl>

<h3 class="no-num">Other references</h3>
<!--informative-->

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
End:
-->