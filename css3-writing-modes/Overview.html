<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html lang=en>
 <head><meta content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Writing Modes Module Level 3</title>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/tr/W3C-ED.css" rel=stylesheet
  type="text/css">

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1>CSS Writing Modes Module Level 3</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 24 September
    2010</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dev.w3.org/csswg/css3-text-layout/">http://dev.w3.org/csswg/css3-text-layout/</a>
     

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-text-layout/">http://www.w3.org/TR/css3-text-layout/</a>

    <dt>Previous version:

    <dd><a
     href="http://www.w3.org/tr/2003/CR-css3-text-20030514/">http://www.w3.org/tr/2003/CR-css3-text-20030514/</a>

    <dt>Editors:

    <dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a>

    <dd><a href="mailto:murakami@antenna.co.jp">Shinyu Murakami</a> (<a
     href="http://www.antennahouse.com/">Antenna House</a>)

    <dt>Previous Editors:

    <dd><a href="mailto:paulnel@microsoft.com">Paul Nelson</a> (<a
     href="http://www.microsoft.com/">Microsoft</a>)

    <dd><a href="mailto:michelsu@microsoft.com">Michel Suignard</a> (<a
     href="http://www.microsoft.com/">Microsoft</a>)
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2010 <a
    href="http://www.w3.org/"><acronym title="World Wide Web
    Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute
    of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym
    title="European Research Consortium for Informatics and
    Mathematics">ERCIM</acronym></a>, <a
    href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>This module specifies the text layout model in CSS and the properties
   that control it. It covers bidirectionality and vertical text.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-text-layout%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   &#8220;css3-text-layout&#8221; in the subject, preferably like this:
   &#8220;[<!---->css3-text-layout<!---->] <em>&hellip;summary of
   comment&hellip;</em>&#8221;

  <p>This document was produced by the <a href="/Style/CSS/members">CSS
   Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
   Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the
   W3C Patent Policy</a>.</p>
  <!--end-status-->

  <h2 class="no-num no-toc" id=Contents>Contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#intro"><span class=secno>1. </span>Introduction</a>

   <li><a href="#text-flow"><span class=secno>2. </span>Writing Modes and
    Terminology</a>

   <li><a href="#text-direction"><span class=secno>3. </span>Inline Direction
    and Bidirectionality</a>
    <ul class=toc>
     <li><a href="#direction"><span class=secno>3.1. </span>Specifying
      Directionality: the &lsquo;<code class=property>direction</code>&rsquo;
      property</a>

     <li><a href="#unicode-bidi"><span class=secno>3.2. </span>Embeddings and
      Overrides: the &lsquo;<code class=property>uncode-bidi</code>&rsquo;
      property</a>

     <li><a href="#bidi-example"><span class=secno>3.3. </span>Example of
      Bidirectional Text</a>

     <li><a href="#bidi-box-model"><span class=secno>3.4. </span>Box model
      for inline elements in bidirectional context</a>
    </ul>

   <li><a href="#writing-mode"><span class=secno>4. </span>Block Flow
    Direction: the &lsquo;<code class=property>writing-mode</code>&rsquo;
    property</a>
    <ul class=toc>
     <li><a href="#box-model-in-vertical-writing-modes"><span
      class=secno>4.1. </span>Box Model in Vertical Writing Modes</a>

     <li><a href="#boxes-with-orthogonal-writing-mode-"><span
      class=secno>4.2. </span>Boxes with Orthogonal Writing Mode </a>

     <li><a href="#inline-elements-with-orthogonal-writing-"><span
      class=secno>4.3. </span>Inline Elements with Orthogonal Writing Mode
      (tate-chu-yoko)</a>
    </ul>

   <li><a href="#writing-mode-switching"><span class=secno>5.
    </span>Proposals for Dealing with Writing Mode Switching</a>
    <ul class=toc>
     <li><a href="#logical-directional"><span class=secno>5.1. </span>Logical
      directional properties and values</a>
      <ul class=toc>
       <li><a href="#logical-terminology"><span class=secno>5.1.1.
        </span>Terminology</a>

       <li><a href="#logical-prop"><span class=secno>5.1.2. </span>Logical
        properties: &lsquo;<code class=property>margin-before</code>&rsquo;,
        &lsquo;<code class=property>logical-width</code>&rsquo;, etc.</a>

       <li><a href="#logical-value"><span class=secno>5.1.3. </span>Logical
        property values: before, after, start, end</a>
      </ul>

     <li><a href="#directional-modes"><span class=secno>5.2.
      </span>Directional Mode Switch</a>
      <ul class=toc>
       <li><a href="#directional-mode"><span class=secno>5.2.1.
        </span>Specifying Directional Mode: the &lsquo;<code
        class=property>directional-mode</code>&rsquo; property</a>
      </ul>
    </ul>

   <li><a href="#appendix-b-bidi-rules-for-html"><span class=secno>6.
    </span>Appendix B: Bidi Rules for HTML</a>
  </ul>
  <!--end-toc-->

  <h2 id=intro><span class=secno>1. </span>Introduction</h2>

  <p>This module defines support for various international writing
   directions, such as left-to-right (e.g., Latin scripts), right-to-left
   (e.g., Hebrew or Arabic), bidirectional (e.g., mixing Latin with Arabic)
   and vertical (e.g., Asian scripts).

  <h2 id=text-flow><span class=secno>2. </span>Writing Modes and Terminology</h2>

  <p>A <dfn id=writing-mode0>writing mode</dfn> is defined in terms of its
   <dfn id=inline-direction>inline direction</dfn> (<dfn
   id=inline-progression>inline progression</dfn>) and its block flow (<dfn
   id=block-progression>block progression</dfn>). The <dfn
   id=inline-direction0>inline direction</dfn> is the primary direction in
   which content is ordered on a line and defines on which sides of a box the
   "start" and "end" are. The &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; and &lsquo;<a
   href="#unicode-bidi0"><code class=property>unicode-bidi</code></a>&rsquo;
   properties determine the direction of inline flow. The <dfn
   id=block-flow>block flow</dfn> direction is the direction in which
   block-level boxes stack and the direction in which line boxes stack within
   a block box. The &lsquo;<a href="#writing-mode1"><code
   class=property>writing-mode</code></a>&rsquo; property determines the
   block flow direction. The term "writing mode" is chosen because these
   properties are strongly associated with the layout of text.

  <p>Writing systems typically have one or two standard writing modes. Some
   examples are:

  <ul>
   <li>Latin scripts are typically written using a left-to-right inline
    direction with a downward (top-to-bottom) block flow.

   <li>Mongolian script languages are typically written using a top-to-bottom
    inline direction with a rightward (left-to-right) block flow.

   <li>Japanese is commonly written using a left-to-right inline direction
    with a downard (top-to-bottom) block flow, <strong>or</strong> a
    top-to-bottom inline progression with a leftward (right-to-left) block
    flow. Many magazines and newspapers will mix these two writing modes on
    the same page.
  </ul>

  <p>A <dfn id=horizontal-writing-mode>horizontal writing mode</dfn> is one
   with horizontal lines of text, i.e. a downward or upward block flow. A
   <dfn id=vertical-writing-mode>vertical writing mode</dfn> is one with
   vertical lines of text, i.e. a leftward or rightward block flow. <span
   class=note>These terms should not be confused with <dfn
   id=vertical-block-flow>vertical block flow</dfn> (which is a downard or
   upward block flow) and <dfn id=horizontal-block-flow>horizontal block
   flow</dfn> (which is leftward or rightward block flow). To avoid
   confusion, this specification avoids the latter set of terms.</span>

  <h2 id=text-direction><span class=secno>3. </span>Inline Direction and
   Bidirectionality</h2>

  <p>While the characters in most scripts are written from left to right,
   certain scripts are written from right to left. In some documents, in
   particular those written with the Arabic or Hebrew script, and in some
   mixed-language contexts, text in a single (visually displayed) block may
   appear with mixed directionality. This phenomenon is called <span
   class=index-def id=bidirectionality title="bidirectionality (bidi)"><dfn
   id=bidirectionality0>bidirectionality</dfn></span>, or "bidi" for short.

  <p>The Unicode standard (<a
   href="http://www.unicode.org/reports/tr9/">Unicode Standard Annex #9</a>)
   defines a complex algorithm for determining the proper directionality of
   text. The algorithm consists of an implicit part based on character
   properties, as well as explicit controls for embeddings and overrides. CSS
   relies on this algorithm to achieve proper bidirectional rendering. The
   <span class=propinst-direction>&lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo;</span> and <span
   class=propinst-unicode-bidi>&lsquo;<a href="#unicode-bidi0"><code
   class=property>unicode-bidi</code></a>&rsquo;</span> properties allow
   authors to specify how the elements and attributes of a document language
   map to this algorithm.

  <p>User agents that support bidirectional text must apply the Unicode
   bidirectional algorithm to every sequence of inline boxes uninterrupted by
   a forced (<a
   href="http://www.unicode.org/reports/tr9/#Bidirectional_Character_Types">bidi
   class B</a>) line break or block boundary. This sequence forms the
   "paragraph" unit in the bidirectional algorithm. The paragraph embedding
   level is set according to the value of the &lsquo;<a
   href="#direction0"><code class=property>direction</code></a>&rsquo;
   property of the containing block rather than by the heuristic given in
   steps P2 and P3 of the Unicode algorithm.

  <p>Because the directionality of a text depends on the structure and
   semantics of the document, these properties should in most cases be used
   only to map bidi information in the markup to its corresponding CSS
   styles. If a document language provides markup features to control bidi,
   authors and users should use those features and not specify CSS rules to
   override them.

  <p>The HTML 4 specification (<a href="#HTML401"
   rel=biblioentry>[HTML401]<!--{{HTML401}}--></a>, section 8.2) defines
   bidirectionality behavior for HTML elements. The HTML 4 specification also
   contains more information on bidirectionality issues.

  <p class=note>Because HTML UAs can turn off CSS styling, we advise HTML
   authors to use the HTML &lsquo;<code class=property>dir</code>&rsquo;
   attribute and &lt;bdo&gt; element to ensure correct bidirectional layout
   in the absence of a style sheet.

  <h3 id=direction><span class=secno>3.1. </span>Specifying Directionality:
   the &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; property</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=direction0>direction</dfn>

    <tr>
     <th>Value:

     <td>ltr | rtl

    <tr>
     <th>Initial:

     <td>ltr

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>yes

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>specified value
  </table>

  <p>This property specifies the inline progression of text and elements on a
   line, and the direction of embeddings and overrides (see &lsquo;<a
   href="#unicode-bidi0"><code class=property>unicode-bidi</code></a>&rsquo;)
   for the Unicode bidirectional algorithm. In addition, it affects the
   ordering of <a href="http://www.w3.org/TR/CSS21/tables.html">table</a>
   column layout, the direction of horizontal <a
   href="http://www.w3.org/TR/CSS21/visufx.html#overflow">overflow</a>, and
   the default alignment of text within a line, and other things that depend
   on the inline progression direction.

  <p>Values for this property have the following meanings:

  <dl>
   <dt><strong>ltr</strong>

   <dd>Left-to-right directionality.

   <dt><strong>rtl</strong>

   <dd> Right-to-left directionality.
  </dl>

  <p class=note>The &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; property has no reordering in
   inline-level elements whose &lsquo;<a href="#unicode-bidi0"><code
   class=property>unicode-bidi</code></a>&rsquo; property's value is
   &lsquo;<code class=css>normal</code>&rsquo;.

  <p class=note>The &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; property, when specified for
   table column elements, is not inherited by cells in the column since
   columns are not the ancestors of the cells in the document tree. Thus, CSS
   cannot easily capture the "dir" attribute inheritance rules described in
   <a href="#HTML401" rel=biblioentry>[HTML401]<!--{{HTML401}}--></a>,
   section 11.3.2.1.

  <h3 id=unicode-bidi><span class=secno>3.2. </span>Embeddings and Overrides:
   the &lsquo;<code class=property>uncode-bidi</code>&rsquo; property</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=unicode-bidi0>unicode-bidi</dfn>

    <tr>
     <th>Value:

     <td>normal | ( embed | isolate ) || ( plaintext | bidi-override )

    <tr>
     <th>Initial:

     <td>normal

    <tr>
     <th>Applies to:

     <td>all elements, but see prose

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>specified value
  </table>

  <p>Values for this property have the following meanings:

  <dl>
   <dt><strong>normal</strong>

   <dd>The element does not open an additional level of embedding with
    respect to the bidirectional algorithm. For inline-level elements,
    implicit reordering works across element boundaries.

   <dt><strong>embed</strong>

   <dd>If the element is inline-level, this value opens an additional level
    of embedding with respect to the bidirectional algorithm. The direction
    of this embedding level is given by the &lsquo;<a
    href="#direction0"><code class=property>direction</code></a>&rsquo;
    property. Inside the element, reordering is done implicitly. This
    corresponds to adding a LRE (U+202A; for &lsquo;<code
    class=css>direction: ltr</code>&rsquo;) or RLE (U+202B; for &lsquo;<code
    class=css>direction: rtl</code>&rsquo;) at the start of the element and a
    PDF (U+202C) at the end of the element.

   <dt><strong>bidi-override</strong>

   <dd>For inline-level elements this creates an override. For block-level,
    table-cell, table-caption, or inline-block elements this creates an
    override for inline-level descendants not within another block-level,
    table-cell, table-caption, or inline-block element. This means that
    inside the element, reordering is strictly in sequence according to the
    <span class=propinst-direction>&lsquo;<a href="#direction0"><code
    class=property>direction</code></a>&rsquo;</span> property; the implicit
    part of the bidirectional algorithm is ignored. This corresponds to
    adding a LRO (U+202D; for &lsquo;<code class=css>direction:
    ltr</code>&rsquo;) or RLO (U+202E; for &lsquo;<code class=css>direction:
    rtl</code>&rsquo;) at the start of the element and a PDF (U+202C) at the
    end of the element.

   <dt><strong>isolate</strong>

   <dd>For the purposes of the Unicode bidirectional algorithm, the contents
    of the element are considered to be inside a separate, independent
    paragraph, and for the purpose of bidi resolution in its containing
    paragraph (if any), the element itself is treated as if it were an Object
    Replacement Character (U+FFFC). (If the element is broken across multiple
    lines, then each box of the element is treated as an Object Replacement
    Character.)

   <dt><strong>plaintext</strong>

   <dd>
    <p>For the purposes of the Unicode bidirectional algorithm, the base
     directionality of each "paragraph" for which the element is the
     containing block element is determined not by the element's computed
     &lsquo;<a href="#direction0"><code
     class=property>direction</code></a>&rsquo; as usual, but by following
     rules P1, P2, and P3 of the Unicode bidirectional algorithm. However, if
     no direction-determining character is found in step P2, then the value
     of the &lsquo;<a href="#direction0"><code
     class=property>direction</code></a>&rsquo; property is used instead.
     Note this value has no effect on inline elements.
  </dl>

  <p>The final order of characters in each block-level element is the same as
   if the bidi control codes had been added as described above, markup had
   been stripped, and the resulting character sequence had been passed to an
   implementation of the Unicode bidirectional algorithm for plain text that
   produced the same line-breaks as the styled text. In this process,
   non-textual entities such as images are treated as neutral characters,
   unless their <span class=propinst-unicode-bidi>&lsquo;<a
   href="#unicode-bidi0"><code
   class=property>unicode-bidi</code></a>&rsquo;</span> property has a value
   other than &lsquo;<code class=property>normal</code>&rsquo;, in which case
   they are treated as strong characters in the <span
   class=propinst-direction>&lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo;</span> specified for the
   element.

  <p>Please note that in order to be able to flow inline boxes in a uniform
   direction (either entirely left-to-right or entirely right-to-left), more
   inline boxes (including anonymous inline boxes) may have to be created,
   and some inline boxes may have to be split up and reordered before
   flowing.

  <p>Because the Unicode algorithm has a limit of <em title="According to
   unicode 3.0, chapter 3, section 12, definition BD2. Specifically, page 58
   here: http://www.unicode.org/unicode/uni2book/ch03.pdf"> 61 levels</em> of
   embedding, care should be taken not to use <span
   class=propinst-unicode-bidi>&lsquo;<a href="#unicode-bidi0"><code
   class=property>unicode-bidi</code></a>&rsquo;</span> with a value other
   than &lsquo;<code class=property>normal</code>&rsquo; unless appropriate.
   In particular, a value of &lsquo;<code
   class=property>inherit</code>&rsquo; should be used with extreme caution.
   However, for elements that are, in general, intended to be displayed as
   blocks, a setting of &lsquo;<code class=css>unicode-bidi:
   isolate</code>&rsquo; is preferred to keep the element together in case
   display is changed to inline (see example below).

  <p>The following example shows an XML document with bidirectional text. It
   illustrates an important design principle: document language designers
   should take bidi into account both in the language proper (elements and
   attributes) and in any accompanying style sheets. The style sheets should
   be designed so that bidi rules are separate from other style rules, and
   such rules should not be overridden by other style sheets so that the
   document language's bidi behavior is preserved.

  <h3 id=bidi-example><span class=secno>3.3. </span>Example of Bidirectional
   Text</h3>

  <div class=example>
   <p>In this example, lowercase letters stand for inherently left-to-right
    characters and uppercase letters represent inherently right-to-left
    characters. The text stream is shown in logical backing store order.</p>

   <pre class=xml-example><code class=xml>
&lt;HEBREW&gt;
  &lt;PAR&gt;HEBREW1 HEBREW2 english3 HEBREW4 HEBREW5&lt;/PAR&gt;
  &lt;PAR&gt;HEBREW6 &lt;EMPH&gt;HEBREW7&lt;/EMPH&gt; HEBREW8&lt;/PAR&gt;
&lt;/HEBREW&gt;
&lt;ENGLISH&gt;
  &lt;PAR&gt;english9 english10 english11 HEBREW12 HEBREW13&lt;/PAR&gt;
  &lt;PAR&gt;english14 english15 english16&lt;/PAR&gt;
  &lt;PAR&gt;english17 &lt;HE-QUO&gt;HEBREW18 english19 HEBREW20&lt;/HE-QUO&gt;&lt;/PAR&gt;
&lt;/ENGLISH&gt;
    </code></pre>

   <p>Since this is arbitrary XML, the style sheet is responsible for setting
    the writing direction. This is the style sheet:</p>

   <pre>
/* Rules for bidi */
HEBREW, HE-QUO  {direction: rtl; unicode-bidi: embed;}
ENGLISH         {direction: ltr; unicode-bidi: embed;} 

/* Rules for presentation */
HEBREW, ENGLISH, PAR  {display: block;}
EMPH                  {font-weight: bold;}
    </pre>

   <p>The HEBREW element is a block with a right-to-left base direction, the
    ENGLISH element is a block with a left-to-right base direction. The PARs
    are blocks that inherit the base direction from their parents. Thus, the
    first two PARs are read starting at the top right, the final three are
    read starting at the top left. Please note that HEBREW and ENGLISH are
    chosen as element names for explicitness only; in general, element names
    should convey structure without reference to language.</p>

   <p>The EMPH element is inline-level, and since its value for <span
    class=propinst-unicode-bidi>&lsquo;<a href="#unicode-bidi0"><code
    class=property>unicode-bidi</code></a>&rsquo;</span> is &lsquo;<code
    class=property>normal</code>&rsquo; (the initial value), it has no effect
    on the ordering of the text. The HE-QUO element, on the other hand,
    creates an embedding.</p>

   <p>The formatting of this text might look like this if the line length is
    long:</p>

   <pre class=ascii-art>
               5WERBEH 4WERBEH english3 2WERBEH 1WERBEH

                                8WERBEH <b>7WERBEH</b> 6WERBEH

english9 english10 english11 13WERBEH 12WERBEH

english14 english15 english16

english17 20WERBEH english19 18WERBEH
    </pre>

   <p>Note that the HE-QUO embedding causes HEBREW18 to be to the right of
    english19.</p>

   <p>If lines have to be broken, it might be more like this:</p>

   <pre class=ascii-art>
       2WERBEH 1WERBEH
  -EH 4WERBEH english3
                 5WERB

   -EH <b>7WERBEH</b> 6WERBEH
                 8WERB

english9 english10 en-
glish11 12WERBEH
13WERBEH

english14 english15
english16

english17 18WERBEH
20WERBEH english19
    </pre>

   <p>Because HEBREW18 must be read before english19, it is on the line above
    english19. Just breaking the long line from the earlier formatting would
    not have worked. Note also that the first syllable from english19 might
    have fit on the previous line, but hyphenation of left-to-right words in
    a right-to-left context, and vice versa, is usually suppressed to avoid
    having to display a hyphen in the middle of a line.</p>
  </div>
  <!-- example -->

  <h3 id=bidi-box-model><span class=secno>3.4. </span>Box model for inline
   elements in bidirectional context</h3>
  <!-- CSS2.1 8.6 -->

  <p>For each line box, UAs must take the inline boxes generated for each
   element and render the margins, borders and padding in visual order (not
   logical order).

  <p>When the element's &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; property is &lsquo;<code
   class=css>ltr</code>&rsquo;, the left-most generated box of the first line
   box in which the element appears has the left margin, left border and left
   padding, and the right-most generated box of the last line box in which
   the element appears has the right padding, right border and right margin.

  <p>When the element's &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; property is &lsquo;<code
   class=css>rtl</code>&rsquo;, the right-most generated box of the first
   line box in which the element appears has the right padding, right border
   and right margin, and the left-most generated box of the last line box in
   which the element appears has the left margin, left border and left
   padding.

  <h2 id=writing-mode><span class=secno>4. </span>Block Flow Direction: the
   &lsquo;<a href="#writing-mode1"><code
   class=property>writing-mode</code></a>&rsquo; property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=writing-mode1>writing-mode</dfn>

    <tr>
     <th>Value:

     <td>horizontal-tb | vertical-rl | vertical-lr | horizontal-bt

    <tr>
     <th>Initial:

     <td>horizontal-tb

    <tr>
     <th>Applies to:

     <td>All elements except table row groups, table column groups, table
      rows, and table columns

    <tr>
     <th>Inherited:

     <td>yes

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>specified value
  </table>

  <p>This property sets the block flow direction. Possible values:

  <dl>
   <dt>horizontal-tb

   <dd>Top-to-bottom block flow. The writing mode is horizontal.

   <dt>vertical-rl

   <dd>Right-to-left block flow. The writing mode is vertical.

   <dt>vertical-lr

   <dd>Left-to-right block flow. The writing mode is vertical.

   <dt>horizontal-bt

   <dd>Bottom-to-top block flow. The writing mode is horizontal.
  </dl>

  <p class=issue>This is just a first cut; will be adding back the other
   property values later. Please don't panic. :) ~fantasai

  <p>When set on the root element, the &lsquo;<a href="#writing-mode1"><code
   class=property>writing-mode</code></a>&rsquo; property together with the
   &lsquo;<a href="#direction0"><code
   class=property>direction</code></a>&rsquo; property determines the <dfn
   id=principal-writing-mode>principal writing mode</dfn> of the document.
   This writing mode is used, for example, to determine the default page
   progression direction. See <a href="#CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>

  <h3 id=box-model-in-vertical-writing-modes><span class=secno>4.1.
   </span>Box Model in Vertical Writing Modes</h3>

  <p>Box layout in vertical writing modes is exactly analogous to layout in
   the horizontal writing modes.

  <p class=note>The logic for the analogy is clear if you lock an arrow
   representing top-to-bottom block flow to a compass of the four directions
   and rotate it to represent right-to-left and left-to-right flow. The
   analogy is somewhat different for inline layout however: inline layout is
   locked to the arrow representing the direction of left-to-right text,
   which in both right-to-left and left-to-right block flows progresses
   downward.

  <ul>
   <li>Calculations that refer to &lsquo;<code
    class=property>width</code>&rsquo; use &lsquo;<code
    class=property>height</code>&rsquo; instead, and vice versa.

   <li>Calculations that refer to the &lsquo;<code
    class=css>*-left</code>&rsquo; and &lsquo;<code
    class=css>*-right</code>&rsquo; box properties (border, margin, padding,
    outline) use &lsquo;<code class=css>*-top</code>&rsquo; and &lsquo;<code
    class=css>*-bottom</code>&rsquo; instead, and vice versa.

   <li>In right-to-left block flow &lsquo;<code
    class=css>*-right</code>&rsquo; is analogous to top-to-bottom's
    &lsquo;<code class=css>*-top</code>&rsquo;; in left-to-right block flow
    &lsquo;<code class=css>*-left</code>&rsquo; is analogous to
    top-to-bottom's &lsquo;<code class=css>*-top</code>&rsquo;.

   <li>Layout effects that depend on the directionality to choose between
    left and right (e.g. overflow, overconstraint resolution, &lsquo;<code
    class=property>start</code>&rsquo; values for &lsquo;<code
    class=property>text-align</code>&rsquo; and other properties, table
    column ordering) depend instead on the effective physical directionality
    (top-to-bottom or bottom-to-top) to choose between top and bottom. Note
    that the effective physical directionality can be affected by the
    &lsquo;<code class=property>text-orientation</code>&rsquo; property.
  </ul>

  <h3 id=boxes-with-orthogonal-writing-mode-><span class=secno>4.2.
   </span>Boxes with Orthogonal Writing Mode</h3>

  <p>When an element has a different &lsquo;<a href="#writing-mode1"><code
   class=property>writing-mode</code></a>&rsquo; from its containing block
   two cases are possible: <em class=issue>These descriptions need work</em>

  <ul>
   <li>The two writing modes are perpendicular to each other. (For example,
    &lsquo;<code class=property>tb</code>&rsquo; and &lsquo;<code
    class=property>lr</code>&rsquo;). In such cases, <span class=issue>detail
    calculation of width/height and determination of containing block
    dim</span>

   <li>The two writing modes are parallel to each other. (For example,
    &lsquo;<code class=property>rl</code>&rsquo; and &lsquo;<code
    class=property>lr</code>&rsquo;).
  </ul>

  <div class=example>
   <p>In the following example, two blocks elements (1 and 3) separated by an
    image (2) are presented in various flow writing modes.</p>

   <p>Here is a diagram of horizontal writing mode (<code>writing-mode:
    horizontal-tb</code>):</p>

   <p><img alt="Diagram of horizontal layout: blocks 1, 2, and 3 are stacked
    top-to-bottom" height=300 src=horizontal.png width=219></p>

   <p>Here is a diagram for the right-to-left vertical writing mode commonly
    used in East Asia (<code>writing-mode: vertical-rl</code>):</p>

   <p><img alt="Diagram of a right-to-left vertical layout: blocks 1, 2, and
    3 are arranged side by side from right to left" height=191
    src=vertical-rl.png width=297></p>

   <p>And finally, here is a diagram for the left-to-right vertical writing
    mode used for Uighur and Mongolian (<code>writing-mode: lr</code>):</p>

   <p><img alt="Diagram of left-to-right vertical layout: blocks 1, 2, and 3
    are arranged side by side from left to right" height=191
    src=vertical-lr.png width=300></p>
  </div>

  <h3 id=inline-elements-with-orthogonal-writing-><span class=secno>4.3.
   </span>Inline Elements with Orthogonal Writing Mode (tate-chu-yoko)</h3>

  <p>An inline element that has a different block flow direction from its
   containing block becomes an &lsquo;<code
   class=property>inline-block</code>&rsquo; element. <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>

  <p>If the inline element's writing mode is orthogonal to is parent's, some
   additional special behavior is applied in order to give a correct
   typographic effect:

  <p>If the UA has compressed glyphs available for the contents of such an
   element, then it should use those glyphs to attempt sizing the contents to
   1em square. For example, a two digit number should use halfwidth glyphs, a
   three-digit number us 1/3-em glyphs (if available, else halfwidth glyphs),
   etc.

  <p>In addition, the &lsquo;<code class=property>line-height</code>&rsquo;
   property is assumed to be &lsquo;<code class=css>1em</code>&rsquo; within
   this block container, and the baseline of the box chosen such that it is
   centered between content edges of its parent inline box.

  <p class=note>The goal of this special behavior, which may or may not be
   accomplished depending on the contents of the inline box, is to render
   such elements as the equivalent of a 1em square character.

  <div class=example>
   <p>In East Asian documents, this effect is often preferred to display
    certain Latin-based strings, such as components of a date or letters of
    an initialism, always in a horizontal writing mode regardless of the
    writing mode of the line, as in the example below:</p>

   <div class=figure>
    <p><img alt="Diagram of Tate Naka Yoko, showing a group of glyphs
     appearing horizontally in a vertical column of text" class=example
     height=170 src=lf-tny.gif width=90> <img alt="Example of Tate Naka Yoko,
     showing the year 1996 appearing horizontally in a column of vertical
     text" class=example height=132 src=tny.gif width=37>

    <p>Horizontal in vertical <i lang=ja>tate-chu-yoko</i></p>
   </div>

   <p>In Japanese, this effect is known as <i lang=ja>tate-chu-yoko</i>.
  </div>

  <p class=note>Authors who want full control over styling of an inline
   element whose writing mode is orthogonal to its parent should assign
   &lsquo;<code class=css>display: inline-block</code>&rsquo;.

  <h2 id=writing-mode-switching><span class=secno>5. </span>Proposals for
   Dealing with Writing Mode Switching</h2>

  <p class=issue>NOTE: These are only proposals for dealing with writing mode
   switching. The CSS Working Group has not endorsed any of them yet, and
   that they are very likely to be removed at any time.

  <h3 id=logical-directional><span class=secno>5.1. </span>Logical
   directional properties and values</h3>

  <p class=issue>NOTE: This is only a proposal under discussion.

  <h4 id=logical-terminology><span class=secno>5.1.1. </span>Terminology</h4>

  <p>In this section we use the following terminology about directional
   properties:

  <dl>
   <dt>logical properties

   <dd>the properties regarding the direction relative to the writing-mode
    (e.g., margin-before)

   <dt>physical properties

   <dd>the properties regarding the physical direction (e.g., margin-top)

   <dt>corresponding properties

   <dd>the pair of a logical property and its corresponding physical
    property.
  </dl>

  <p>The sides of a box are designated as follows:

  <dl>
   <dt>before side

   <dd>the side occurring first in the block direction (=top side in
    horizontal-tb writing-mode)

   <dt>after side

   <dd>the side opposite the before side (=bottom side in horizontal-tb
    writing-mode)

   <dt>start side

   <dd>the side occurring first in the inline direction (=left side in
    horizontal-tb writing-mode)

   <dt>end side

   <dd>the side opposite the start side (=right side in horizontal-tb
    writing-mode)
  </dl>

  <p>The dimensions of a box are designated as follows:

  <dl>
   <dt>logical width

   <dt>

   <dd>the dimension in the inline direction (=width in horizontal
    writing-mode; height in vertical writing-mode)

   <dt>logical height

   <dt>

   <dd>the dimension in the block direction (=height in horizontal
    writing-mode; width in vertical writing-mode)
  </dl>

  <div class=example>
   <p>An English (LTR-TB) block:</p>

   <pre class=ascii-art>
                  &lt;---- width / logical width ---&gt;

                             top side/
                            before side
                  +------------------------------+                  A
      left side/  |   ---inline direction --->   |  right side/     |
      start side  |  |                           |  end side        |
                  |  | block      * horizontal * |                height/
                  |  | direction  *writing mode* |            logical height
                  |  V                           |                  |
                  +------------------------------+                  V
                             bottom side/
                              after side
    </pre>
  </div>

  <div class=example>
   <p>A vertical Japanese block (TTB-RL):</p>

   <pre class=ascii-art>
                  &lt;--- width / logical height ---&gt;

                             top side/
                            start side
                  +------------------------------+                  A
      left side/  |    &lt;---block direction---    |  right side/     |
      after side  |                           |  |  before side     |
                  |  *  vertical  *     inline|  |                height/
                  |  *writing mode*  direction|  |             logical width
                  |                           V  |                  |
                  +------------------------------+                  V
                            bottom side/
                             end side
    </pre>
  </div>

  <h4 id=logical-prop><span class=secno>5.1.2. </span>Logical properties:
   &lsquo;<a href="#margin-before"><code
   class=property>margin-before</code></a>&rsquo;, &lsquo;<a
   href="#logical-width"><code
   class=property>logical-width</code></a>&rsquo;, etc.</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=margin-before>margin-before</dfn>, <dfn
      id=margin-after>margin-after</dfn>, <dfn
      id=margin-start>margin-start</dfn>, <dfn id=margin-end>margin-end</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var> | auto

    <tr>
     <th>Initial:

     <td>0

    <tr>
     <th>Applies to:

     <td>same as &lsquo;<code class=property>margin</code>&rsquo;

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>logical-width of containing block

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>the percentage as specified or the absolute length or &lsquo;<code
      class=property>auto</code>&rsquo; (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=padding-before>padding-before</dfn>, <dfn
      id=padding-after>padding-after</dfn>, <dfn
      id=padding-start>padding-start</dfn>, <dfn
      id=padding-end>padding-end</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var>

    <tr>
     <th>Initial:

     <td>0

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>logical-width of containing block

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>&lt;length&gt; (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=border-before-width>border-before-width</dfn>, <dfn
      id=border-after-width>border-after-width</dfn>, <dfn
      id=border-start-width>border-start-width</dfn>, <dfn
      id=border-end-width>border-end-width</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;border-width&gt;</var>

    <tr>
     <th>Initial:

     <td>medium

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>logical-width of containing block

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>absolute length; &lsquo;<code class=css>0</code>&rsquo; if the
      border style is &lsquo;<code class=property>none</code>&rsquo; or
      &lsquo;<code class=property>hidden</code>&rsquo; (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=border-before-style>border-before-style</dfn>, <dfn
      id=border-after-style>border-after-style</dfn>, <dfn
      id=border-start-style>border-start-style</dfn>, <dfn
      id=border-end-style>border-end-style</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;border-style&gt;</var>

    <tr>
     <th>Initial:

     <td>none

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>specified value (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=border-before-color>border-before-color</dfn>, <dfn
      id=border-after-color>border-after-color</dfn>, <dfn
      id=border-start-color>border-start-color</dfn>, <dfn
      id=border-end-color>border-end-color</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;color&gt;</var>

    <tr>
     <th>Initial:

     <td>currentcolor

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>the computed color (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=border-before>border-before</dfn>, <dfn
      id=border-after>border-after</dfn>, <dfn
      id=border-start>border-start</dfn>, <dfn id=border-end>border-end</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;border-width&gt;</var> || <var>&lt;border-style&gt;</var>
      || <var>&lt;color&gt;</var>

    <tr>
     <th>Initial:

     <td>(see individual properties)

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>see individual properties

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>see individual properties
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=logical-width>logical-width</dfn>, <dfn
      id=logical-height>logical-height</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var> | auto

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>same as &lsquo;<code class=property>width</code>&rsquo; and
      &lsquo;<code class=property>height</code>&rsquo;

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>logical-width, resp. logical-height of containing block

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>the percentage as specified or the absolute length or &lsquo;<code
      class=property>auto</code>&rsquo; (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=min-logical-width>min-logical-width</dfn>, <dfn
      id=min-logical-height>min-logical-height</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var>

    <tr>
     <th>Initial:

     <td>0

    <tr>
     <th>Applies to:

     <td>same as &lsquo;<code class=property>width</code>&rsquo; and
      &lsquo;<code class=property>height</code>&rsquo;

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>logical-width, resp. logical-height of containing block

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>the percentage as specified or the absolute length (see text)
  </table>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=max-logical-width>max-logical-width</dfn>, <dfn
      id=max-logical-height>max-logical-height</dfn>

    <tr>
     <th>Value:

     <td><var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var> | none

    <tr>
     <th>Initial:

     <td>none

    <tr>
     <th>Applies to:

     <td>same as &lsquo;<code class=property>width</code>&rsquo; and
      &lsquo;<code class=property>height</code>&rsquo;

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>logical-width, resp. logical-height of containing block

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>the percentage as specified or the absolute length or &lsquo;<code
      class=property>none</code>&rsquo; (see text)
  </table>

  <p>These properties are writing-mode relative (logical) equivalents of the
   corresponding physical properties.

  <p>The mappings of logical properties into physical properties are as
   follows:

  <p>

  <div class=figure>
   <table border=1 cellpadding=0 cellspacing=0 style="border-collapse:
    collapse" width="100%">
    <tbody>
     <tr>
      <th rowspan=2>logical properties

      <th colspan=6>corresponding physical properties for each writing-mode

     <tr>
      <th>horizontal-tb (ltr)

      <th>horizontal-tb (rtl)

      <th>vertical-rl (ltr)

      <th>vertical-rl (rtl)

      <th>vertical-lr (ltr)

      <th>vertical-lr (rtl)

     <tr>
      <td>margin-before

      <td>margin-top

      <td>margin-top

      <td>margin-right

      <td>margin-right

      <td>margin-left

      <td>margin-left

     <tr>
      <td>margin-after

      <td>margin-bottom

      <td>margin-bottom

      <td>margin-left

      <td>margin-left

      <td>margin-right

      <td>margin-right

     <tr>
      <td>margin-start

      <td>margin-left

      <td>margin-right

      <td>margin-top

      <td>margin-bottom

      <td>margin-top

      <td>margin-bottom

     <tr>
      <td>margin-end

      <td>margin-right

      <td>margin-left

      <td>margin-bottom

      <td>margin-top

      <td>margin-bottom

      <td>margin-top

     <tr>
      <td>padding-*, border-*

      <td colspan=6>(similar with margin-*)

     <tr>
      <td>logical-width

      <td colspan=2>width

      <td colspan=4>height

     <tr>
      <td>logical-height

      <td colspan=2>height

      <td colspan=4>width

     <tr>
      <td>min-logical-width

      <td colspan=2>min-width

      <td colspan=4>min-height

     <tr>
      <td>min-logical-height

      <td colspan=2>min-height

      <td colspan=4>min-width

     <tr>
      <td>max-logical-width

      <td colspan=2>max-width

      <td colspan=4>max-height

     <tr>
      <td>max-logical-height

      <td colspan=2>max-height

      <td colspan=4>max-width
   </table>
  </div>

  <p>The computed value of a logical property affects the computed value of
   the corresponding physical property, and vice versa.

  <p>For example, if the writing-mode of the element is lr-tb, the computed
   value of the &lsquo;<a href="#margin-before"><code
   class=property>margin-before</code></a>&rsquo; overrides the &lsquo;<code
   class=property>margin-top</code>&rsquo;.

  <p>If both logical and physical properties are specified on the same
   element, these corresponding properties are treated as same property and
   then normal cascading rules are applied.

  <p>The writing-mode value of the element is used for the mapping of
   corresponding properties and therefore must be evaluated first.

  <h4 id=logical-value><span class=secno>5.1.3. </span>Logical property
   values: before, after, start, end</h4>

  <p>Properties that accept physical directional values (top, bottom, left,
   right), should also accept logical directional values (before, after,
   start, end). In such case, the logical values are treated as corresponding
   physical values. The writing-mode value of the element is used for the the
   mapping of logical into physical values and therefore must be evaluated
   first.

  <p>The following properties (but not limited to) are applicable to this
   case:

  <ul>
   <li>&lsquo;<code class=property>float</code>&rsquo;

   <li>&lsquo;<code class=property>clear</code>&rsquo;

   <li>&lsquo;<code class=property>text-align</code>&rsquo;

   <li>&lsquo;<code class=property>caption-side</code>&rsquo;
  </ul>

  <h3 id=directional-modes><span class=secno>5.2. </span>Directional Mode
   Switch</h3>

  <p class=issue>NOTE: This is only a proposal under discussion.

  <p>User agents that support vertical writing mode must support the <dfn
   id=directional-mode0>directional mode</dfn> switch:

  <dl>
   <dt><dfn id=physical-directional-mode>physical directional mode</dfn>

   <dd>The directional terms (e.g., &lsquo;<code
    class=property>left</code>&rsquo;, &lsquo;<code
    class=property>right</code>&rsquo;, &lsquo;<code
    class=property>top</code>&rsquo;, &lsquo;<code
    class=property>bottom</code>&rsquo;, &lsquo;<code
    class=property>width</code>&rsquo; and &lsquo;<code
    class=property>height</code>&rsquo;) in property definitions are
    interpreted as physical directions, e.g., the &lsquo;<code
    class=property>top</code>&rsquo; means physically the top side even in
    vertical writing modes.

   <dt><dfn id=logical-directional-mode>logical directional mode</dfn>

   <dd>The directional terms (e.g., &lsquo;<code
    class=property>left</code>&rsquo;, &lsquo;<code
    class=property>right</code>&rsquo;, &lsquo;<code
    class=property>top</code>&rsquo;, &lsquo;<code
    class=property>bottom</code>&rsquo;, &lsquo;<code
    class=property>width</code>&rsquo; and &lsquo;<code
    class=property>height</code>&rsquo;) in property definitions are
    interpreted as logical directions defined relative to the block-flow
    direction, e.g., the &lsquo;<code class=property>top</code>&rsquo; means
    physicallly the right side in the rl block-flow direction.
  </dl>

  <p>In physical directional mode, authors can use directional terms in their
   normal meanings.

  <p>In logical directional mode, authors can use same properties in both
   horizontal and vertical writing modes for specifying common styles such as
   indents, margins between blocks, and block dimensions. Style sheets using
   vertical writing mode with logical directional mode are compatible with
   existing user agents, that ignore the &lsquo;<a
   href="#writing-mode1"><code class=property>writing-mode</code></a>&rsquo;
   and get fallback to horizontal writing mode, the common styles are kept.

  <h4 id=directional-mode><span class=secno>5.2.1. </span>Specifying
   Directional Mode: the &lsquo;<a href="#directional-mode1"><code
   class=property>directional-mode</code></a>&rsquo; property</h4>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=directional-mode1>directional-mode</dfn>

    <tr>
     <th>Value:

     <td>physical | logical

    <tr>
     <th>Initial:

     <td>physical

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>yes

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed&#160;value:

     <td>specified value
  </table>

  <p>Values for this property have the following meanings:

  <dl>
   <dt><strong>physical</strong>

   <dd>Physical directional mode. Physical directional terms (e.g.,
    &lsquo;<code class=property>top</code>&rsquo;) are interpreted as
    physical directions.

   <dt><strong>logical</strong>

   <dd>Logical directional mode. Physical directional terms (e.g.,
    &lsquo;<code class=property>top</code>&rsquo;) are interpreted as logical
    directions defined relative to the block-flow direction.
  </dl>

  <p>In logical directional mode, the directional terms in property
   definitions are interpreted as logical, i.e.:

  <p>

  <dl>
   <dt>left

   <dd>the start side for left-to-right text, the end side for right-to-left
    text.

   <dt>right

   <dd>the end side for left-to-right text, the start side for right-to-left
    text.

   <dt>top

   <dd>the before side (the side occurring first in the block direction)

   <dt>bottom

   <dd>the after side (the side opposite the before side)

   <dt>width

   <dd>the logical width (the dimension in the inline direction)

   <dt>height

   <dd>the logical height (the dimension in the block direction)

   <dt>horizontal

   <dd>in the inline direction

   <dt>vertical

   <dd>in the block direction
  </dl>

  <p>The mappings of directional terms in logical directional mode to
   physical directional mode are the following:

  <div class=figure>
   <table border=1 cellpadding=0 cellspacing=0 style="border-collapse:
    collapse" width="100%">
    <tbody>
     <tr>
      <th rowspan=2>in logical directional mode:

      <th colspan=4>physical directions for each writing-mode:

     <tr>
      <th>writing-mode: horizontal-tb

      <th>writing-mode: vertical-rl

      <th>writing-mode: vertical-lr

      <th>writing-mode: horizontal-bt

     <tr>
      <td>left

      <td>left

      <td>top

      <td>top

      <td>left

     <tr>
      <td>right

      <td>right

      <td>bottom

      <td>bottom

      <td>right

     <tr>
      <td>top

      <td>top

      <td>right

      <td>left

      <td>bottom

     <tr>
      <td>bottom

      <td>bottom

      <td>left

      <td>right

      <td>top

     <tr>
      <td>width

      <td>width

      <td>height

      <td>height

      <td>width

     <tr>
      <td>height

      <td>height

      <td>width

      <td>width

      <td>height

     <tr>
      <td>horizontal

      <td>horizontal

      <td>vertical

      <td>vertical

      <td>horizontal

     <tr>
      <td>vertical

      <td>vertical

      <td>horizontal

      <td>horizontal

      <td>vertical
   </table>
  </div>

  <div class=example>
   <pre>
/* A basic style sheet for vertical writing */
:root {
  /* specifying the principal writing mode as vertical,
     with logical directional mode */
  writing-mode: rl;
  directional-mode: logical;
}
img {
  /* I'd like to use physical coordinate system for images */
  directional-mode: physical;
  width: attr(width, px, auto);   /* width from the width attribute */
  height: attr(height, px, auto); /* height from the height attribute */
}

/* common styles for both writing modes */
blockquote {
  margin-left: 40px;
  margin-right: 40px;
}
ol, ul, dd {
  margin-left: 40px;  /* physical top margin in vertical writing */
}
...
</pre>
  </div>

  <h2 id=appendix-b-bidi-rules-for-html><span class=secno>6. </span>Appendix
   B: Bidi Rules for HTML</h2>

  <p>The style sheet rules that would achieve the bidi behaviors specified in
   <a href="#HTML401" rel=biblioentry>[HTML401]<!--{{HTML401}}--></a> for the
   HTML Strict doctype are given below:

  <pre>
/* HTML dir attribute creates an embedding */
*[dir="ltr"]    { direction: ltr; unicode-bidi: embed; }
*[dir="rtl"]    { direction: rtl; unicode-bidi: embed; }

/* BDO element creates an override */
bdo[dir="ltr"]  { direction: ltr; unicode-bidi: bidi-override; }
bdo[dir="rtl"]  { direction: rtl; unicode-bidi: bidi-override; }

/* HTML4.01:8.2.6 - preserve bidi behavior if 'display' is changed */
html, body,
div, address, blockquote, p,
ul, ol, li, dl, dt, dd,
fieldset, form,
h1, h2, h3, h4, h5, h6,
{ unicode-bidi: isolate; }
  </pre>
