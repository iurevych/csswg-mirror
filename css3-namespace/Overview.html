<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html lang=en>
 <head><meta content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS3 Module: Namespace Declarations</title>

  <style type="text/css">
  div.illegal-example:before {
    content: "Illegal Example";
    content: "Illegal Example " counter(exampleno, upper-roman);
    counter-increment: exampleno;
    font: bold small sans-serif;
    /*float: left;*/
    position: absolute;
    top: -0.6em;
    left: -2.5em;
    width: 7.5em;
    text-align: center;
    line-height: 1em;
    color: #FFF8DD;
    background: #600;
    padding: 0.1em;
    border: thin solid #999;
    /*margin: -1.3em 0 0.3em -2.5em;*/
}
  </style>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">

 <body>
  <div class=head>
   <p><a class=logo href="http://www.w3.org/" rel=home><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a><a class=logo
    href="../../" rel=in-activity><img alt="CSS WG"
    src="../../../Woolly/woolly-icon.png"></a></p>

   <h1 id=css3-module>CSS3 Module: Namespaces</h1>

   <h2 class="no-num no-toc" id=w3c-working>W3C Working Draft 26 September
    2007</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://www.w3.org/TR/2007/WD-css3-ns-[ISODATE]">http://www.w3.org/TR/2007/WD-css3-ns-[ISODATE]</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-ns">http://www.w3.org/TR/css3-ns</a>

    <dt>Previous version:

    <dd><a
     href="[http://www.w3.org/PreviousVersionURI]">[http://www.w3.org/PreviousVersionURI]</a>

    <dt>Editors:

    <dd><a href="">Anne van Kesteren</a>

    <dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a>

    <dt>Previous Editors:

    <dd>Peter Linss, Netscape Communications

    <dd>David Baron, Mozilla Corporation

    <dd>Chris Lilley, W3C
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2007 <a
    href="http://www.w3.org/"><acronym title="World Wide Web
    Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute
    of Technology">MIT</acronym></a>, <a
    href="http://www.ercim.org/"><acronym title="European Research Consortium
    for Informatics and Mathematics">ERCIM</acronym></a>, <a
    href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>This CSS3 module defines the syntax for declaring a namespace prefix in
   CSS syntax. The terminology used in this specification is that of <a
   href="#XML-NAMES11"
   rel=biblioentry>[XML-NAMES11]<!--{{!XML-NAMES11}}--></a>.

  <p>It should be noted that a down-level CSS client will (if it properly
   conforms to CSS forward compatible parsing rules) ignore all @namespace
   rules, as well as all style rules that make use of namespace qualified
   element type or attribute selectors. The syntax of delimiting namespace
   prefixes in CSS was deliberately chosen so that down-level CSS clients
   would ignore the style rules rather than possibly match them incorrectly.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>

  <p>This is a draft of a module of CSS level&nbsp;3 (CSS3). It is derived
   with minimal change from the <a
   href="http://www.w3.org/1999/06/25/WD-css3-namespace-19990625/">CSS3
   Namespace Enhancements</a> syntax proposal from 1999 with which the CSS WG
   has been in agreemen for many years and which is already implemented in
   user agents. The material from that proposal found its way into drafts of
   <a href="#SELECT" rel=biblioentry>[SELECT]<!--{{SELECT}}--></a>, <a
   href="#CSS3SYN" rel=biblioentry>[CSS3SYN]<!--{{CSS3SYN}}--></a> and <a
   href="#CSS3VAL" rel=biblioentry>[CSS3VAL]<!--{{CSS3VAL}}--></a>. <a
   href="#SELECT" rel=biblioentry>[SELECT]<!--{{SELECT}}--></a> is currently
   a Candidate Recommendation. Unfortunately, <a href="#CSS3SYN"
   rel=biblioentry>[CSS3SYN]<!--{{CSS3SYN}}--></a> has dependencies on
   (potentially) all other CSS3 modules and this, plus work on CSS2.1, has
   delayed the availability of this specification. To break the chain of
   dependencies and allow faster progress on the Recommendation track, the
   present module has been split out. It is primarily intended as a CSS3
   module, though it could also be referenced by <a href="#SVG12"
   rel=biblioentry>[SVG12]<!--{{SVG12}}--></a> or indeed <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{CSS21}}--></a>.

  <p>This document is a working draft of the CSS working group which is part
   of the <a href="http://www.w3.org/Style/">style activity</a> (see <a
   href="http://www.w3.org/Style/Activity">summary</a>).

  <p>Comments on and discussions of this draft can be sent on the (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a href="mailto:www-style@w3.org">www-style@w3.org</a> (see
   <a href="http://www.w3.org/Mail/Request">instructions</a>). W3C Members
   can also send comments directly to the CSS working group.

  <p>This is a working draft and may therefore be updated, replaced or
   rendered obsolete by other W3C documents at any time. It is inappropriate
   to use W3C Working Drafts as reference material or to cite them as other
   than "work in progress". Its publication does not imply endorsement by the
   W3C membership or the <a href="http://www.w3.org/Style/Group">CSS Working
   Group</a> (<a href="http://cgi.w3.org/MemberAccess/AccessRequest">members
   only</a>).

  <p>Patent disclosures relevant to CSS may be found on the Working Group's
   public <a href="http://www.w3.org/Style/CSS/Disclosures">patent disclosure
   page.</a>

  <p>To find the latest version of this working draft, please follow the
   "Latest version" link above, or visit the list of W3C <a
   href="http://www.w3.org/TR/">Technical Reports</a>.

  <h2 class="no-num no-toc" id=contents>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#conformance"><span class=secno>1. </span>Conformance</a>

   <li><a href="#declaration"><span class=secno>2. </span>Declaring
    namespaces: the <code>@namespace</code> rule</a>
    <ul class=toc>
     <li><a href="#syntax"><span class=secno>2.1. </span>Syntax</a>

     <li><a href="#scope"><span class=secno>2.2. </span>Scope</a>

     <li><a href="#prefixes"><span class=secno>2.3. </span>Declaring
      Prefixes</a>
    </ul>

   <li><a href="#css-qnames"><span class=secno>3. </span>CSS Qualified
    Names</a>

   <li><a href="#examples"><span class=secno>4. </span>Examples</a>

   <li><a href="#examples"><span class=secno>5. </span>Examples with
    Selectors</a>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>
  </ul>
  <!--end-toc-->

  <div>
   <h2 id=conformance><span class=secno>1. </span>Conformance</h2>

   <p>Implementations cannot not conform to this specification directly.
    Specifications for host languages which normatively reference this
    specification are expected to define their own conformance criteria.</p>
  </div>

  <div>
   <h2 id=declaration><span class=secno>2. </span>Declaring namespaces: the
    <code>@namespace</code> rule</h2>

   <p>The @namespace rule allows the style sheet author to declare a
    namespace prefix and associate it with a given namespace (a string or
    uri). This namespace prefix can then be used to qualify names as
    described in other modules, for example the Selectors Module <a
    href="#SELECT" rel=biblioentry>[SELECT]<!--{{!SELECT}}--></a> or the
    Values and Units module <a href="#CSS3VAL"
    rel=biblioentry>[CSS3VAL]<!--{{CSS3VAL}}--></a>.</p>

   <p>In CSS Namespaces, as in XML Namespaces <a href="#REC-XML-NAMES"
    rel=biblioentry>[REC-XML-NAMES]<!--{{!REC-XML-NAMES}}--></a>, the local
    prefix is merely a syntactic construct; it is the <em>expanded name</em>
    (the tuple of local name and namespace) that is significant. Thus the
    actual prefixes used in a CSS style sheet, and whether they are defaulted
    or not, are independent of the namespace prefixes used in the markup and
    whether these are defaulted or not.</p>

   <p>Note that relative URIs are discouraged by <a href="#REC-XML-NAMES"
    rel=biblioentry>[REC-XML-NAMES]<!--{{!REC-XML-NAMES}}--></a>. If used
    relative URIs are <em>not</em> absolutized but are compared as-is.</p>

   <h3 id=syntax><span class=secno>2.1. </span>Syntax</h3>

   <p>The syntax for the @namespace rule is as follows (using the notation
    from the Grammar appendix of CSS2.1 <a href="#CSS21"
    rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>):</p>

   <pre><!--
     -->namespace
<!-- -->  : NAMESPACE_SYM S* [namespace_prefix S*]? [STRING|URI] S* ';' S*
<!-- -->  ;
<!-- -->namespace_prefix
<!-- -->  : IDENT
<!-- -->  ;<!--
--></pre>

   <p>with the new token:</p>

   <pre>"@namespace"              {return NAMESPACE_SYM;}</pre>

   <p>Any @namespace rules must follow all @import and @charset rules and
    precede all other non-ignored at-rules and rule sets in a style sheet.
    This is to avoid any confusion or issues regarding the scope of the
    declared namespace. For CSS syntax this adds <code>[ namespace
    [S|CDO|CDC]* ]*</code> immediately after <code>[ import [S|CDO|CDC]*
    ]*</code> in the <code>stylesheet<code> grammar.</code></code></p>

   <p>A URI string parsed from the <code>url()</code> syntax is treated as a
    literal string: no URI-specific normalization is applied.</p>

   <h3 id=scope><span class=secno>2.2. </span>Scope</h3>

   <p>The namespace prefix applies only to the style sheet in which it is
    declared, and not any style sheets imported by that style sheet, style
    sheets that import that stylesheet, or any other style sheets applying to
    the document.</p>

   <h3 id=prefixes><span class=secno>2.3. </span>Declaring Prefixes</h3>

   <p>A prefix, once declared, represents the namespace for which it was
    declared and may be used to indicate the namespace of a
    namespace-qualified name.</p>

   <p>If in the namespace declaration the namespace prefix is omitted, then
    the namespace is considered to be the default namespace. The default
    namespace can apply to names that have no explicit namespace prefix.
    Modules that employ namespace prefixes must define in which contexts the
    default namespace applies. For example, following <a
    href="#REC-XML-NAMES"
    rel=biblioentry>[REC-XML-NAMES]<!--{{REC-XML-NAMES}}--></a>, in Selectors
    <a href="#SELECT" rel=biblioentry>[SELECT]<!--{{!SELECT}}--></a> the
    default namespace applies to type selectors&#8212;but it does not apply
    to attribute selectors.</p>

   <p>If a namespace prefix is declared more than once only the last
    declaration shall be used.</p>

   <div>
    <h2 id=css-qnames><span class=secno>3. </span>CSS Qualified Names</h2>

    <p>To form a qualified name, a namespace prefix that has been previously
     declared is prepended to the local name (such as an element or attribute
     name), separated by a "vertical bar" (<code>|</code>, U+007C). The
     prefix may be left empty to indicate that the name belongs to no
     namespace. Some contexts may allow the use of an asterisk
     (<code>*</code>, U+002A) as a wildcard prefix to indicate a name in any
     namespace, including no namespace.</p>

    <p>CSS qualified names can be used in (for example) selectors and
     property values as described in other modules. Those modules should
     define the use of a namespace prefix that has not been properly declared
     as a parsing error that will cause the selector or declaration (etc.) to
     be considered invalid and ignored.</p>

    <div class=example>
     <pre>@namespace toto url(http://toto.example.org);
@namespace url(http://example.com/foo);

toto|A
|B
*|C
D
</pre>

     <p>The first three examples A, B and C are all valid CSS qualified
      names. D is not a valid CSS qualified name.
    </div>

    <div class=illegal-example>
     <pre>foo|E</pre>

     <p>The namespace prefix foo has not been declared.</p>
    </div>
   </div>

   <h2 id=examples><span class=secno>4. </span>Examples</h2>

   <div class=example>
    <p>Examples:</p>

    <pre>@namespace url(http://www.w3.org/1999/xhtml);
@namespace svg url(http://www.w3.org/2000/svg);</pre>

    <p>The first rule declares a default namespace
     <code>http://www.w3.org/1999/xhtml</code> to be applied only to type
     selectors that have no explicit namespace component.</p>

    <p>The second rule declares a namespace prefix <code>svg</code> that is
     used to apply the namespace <code>http://www.w3.org/2000/svg</code>
     where the <code>svg</code> namespace prefix is used.</p>
   </div>
  </div>

  <div class=informative>
   <h2 id=examples><span class=secno>5. </span>Examples with Selectors</h2>

   <p>This section is informative.</p>

   <p>Once declared, a CSS namespace may be used as defined in <a
    href="#SELECT" rel=biblioentry>[SELECT]<!--{{!SELECT}}--></a></p>

   <div class=example>
    <pre>
@namespace foo url(http://www.example.com);

foo|h1 { color: blue }
foo|* { color: yellow }
|h1 { color: red }
*|h1 { color: green }
h1 { color: green }</pre>

    <p>The first rule will match only h1 elements in the
     "http://www.example.com" namespace.<br class=xhtml>
     The second rule will match all elements in the "http://www.example.com"
     namespace.<br class=xhtml>
     The third rule will match only h1 elements without any declared
     namespace.<br class=xhtml>
     The fourth rule will match h1 elements in <em>any</em> namespace
     (including those without any declared namespace).<br class=xhtml>
     The last rule is equivalent to the fourth rule because no default
     namespace has been defined.</p>
   </div>

   <p>To conform to current authoring practice, it is recommended that a
    default namespace be declared. This prevents inadvertant clashes with
    elements in other namespaces that happen to have the same local name. It
    is an easy way to upgrade existing style sheets designed for a single
    namespace (for example, the XHTML namespace) so that they can be used in
    a multiple namespace, compound document context.</p>

   <div class=example>
    <pre>
@namespace url(http://www.w3.org/1999/xhtml)
@namespace s url (http://www.w3.org/2000/svg)

h1 { color: green}
div.figure {color: black}
div.figure s|text {fill: currentColor }
</pre>

    <p>The first rule matches only h1 elements in the XHTML namespace. <br
     class=xhtml>
     The second rule matches only div elements in the XHTML namespace that
     are of class figure<br class=xhtml>
     The third rule matches text elements in the SVG namespace that have an
     ancestor div element in the XHTML namespace that is of class figure</p>
   </div>

   <p>Showing that the default CSS Namespace does not apply to attribute
    names (and thus attribute selectors):</p>

   <div class=illegal-example>
    <p>This will not work as expected:

    <pre>
 @namespace  url(http://www.w3.org/1999/xlink)

 [type=simple] { color: green }
  </pre>

    <p>The type attribute in the XLINK namespace will <em>not</em> be
     matched.
   </div>

   <div class=example>
    <pre>
 @namespace x url(http://www.w3.org/1999/xlink)

 [x|type=simple] { color: green }
 </pre>
   </div>
  </div>

  <h2 class=no-num id=acknowledgments>Acknowledgments</h2>

  <p>This draft borrows heavily from earlier drafts on CSS namespace support
   by Peter Linss <a href="#CSS3NAMESPACE"
   rel=biblioentry>[CSS3NAMESPACE]<!--{{CSS3NAMESPACE}}--></a> and early
   (unpublished) drafts on CSS and XML by Håkon Lie and Bert Bos, and XML
   Namespaces and CSS by Bert Bos and Steven Pemberton. Many current and
   former members of the CSS working group have contributed to this document.
   Discussions on www-style@w3.org and in other places have also contributed
   ideas to this specification.

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <cite>Cascading Style Sheets, level 2 revision
    1.</cite> 11 April 2006. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2006/WD-CSS21-20060411">http://www.w3.org/TR/2006/WD-CSS21-20060411</a>
    </dd>
   <!---->

   <dt id=REC-XML-NAMES>[REC-XML-NAMES]

   <dd>Tim Bray; et al. <cite>Namespaces in XML.</cite> 16 August 2006. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2006/REC-xml-names-20060816">http://www.w3.org/TR/2006/REC-xml-names-20060816</a>
    </dd>
   <!---->

   <dt id=SELECT>[SELECT]

   <dd>Daniel Glazman; Tantek &#199;elik; Ian Hickson (eds).
    <cite>Selectors.</cite> 15 December 2005. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2005/WD-css3-selectors-20051215">http://www.w3.org/TR/2005/WD-css3-selectors-20051215</a>
    </dd>
   <!---->

   <dt id=XML-NAMES11>[XML-NAMES11]

   <dd>Andrew Layman; et al. <cite>Namespaces in XML 1.1.</cite> 16 August
    2006. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2006/REC-xml-names11-20060816">http://www.w3.org/TR/2006/REC-xml-names11-20060816</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <cite>Cascading Style Sheets, level 2 revision
    1.</cite> 11 April 2006. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2006/WD-CSS21-20060411">http://www.w3.org/TR/2006/WD-CSS21-20060411</a>
    </dd>
   <!---->

   <dt id=CSS3NAMESPACE>[CSS3NAMESPACE]

   <dd>Elika J. Etemad. <cite>CSS Module: Namespaces.</cite> 28 August 2006.
    W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2006/WD-css3-namespace-20060828/">http://www.w3.org/TR/2006/WD-css3-namespace-20060828/</a>
    </dd>
   <!---->

   <dt id=CSS3SYN>[CSS3SYN]

   <dd>L. David Baron. <cite>CSS3 module: Syntax.</cite> 13 August 2003. W3C
    Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2003/WD-css3-syntax-20030813">http://www.w3.org/TR/2003/WD-css3-syntax-20030813</a>
    </dd>
   <!---->

   <dt id=CSS3VAL>[CSS3VAL]

   <dd>H&#229;kon Wium Lie; Chris Lilley. <cite>CSS3 module: Values and
    Units.</cite> 19 September 2006. W3C Working Draft. (Work in progress.)
    URL: <a
    href="http://www.w3.org/TR/2006/WD-css3-values-20060919">http://www.w3.org/TR/2006/WD-css3-values-20060919</a>
    </dd>
   <!---->

   <dt id=REC-XML-NAMES>[REC-XML-NAMES]

   <dd>Tim Bray; et al. <cite>Namespaces in XML.</cite> 16 August 2006. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2006/REC-xml-names-20060816">http://www.w3.org/TR/2006/REC-xml-names-20060816</a>
    </dd>
   <!---->

   <dt id=SELECT>[SELECT]

   <dd>Daniel Glazman; Tantek &#199;elik; Ian Hickson (eds).
    <cite>Selectors.</cite> 15 December 2005. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2005/WD-css3-selectors-20051215">http://www.w3.org/TR/2005/WD-css3-selectors-20051215</a>
    </dd>
   <!---->

   <dt id=SVG12>[SVG12]

   <dd>Dean Jackson. <cite>Scalable Vector Graphics (SVG) 1.2.</cite> 18
    March 2004. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2004/WD-SVG12-20040318">http://www.w3.org/TR/2004/WD-SVG12-20040318</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist></ul>
  <!--end-index-->
  <!-- no properties are defined i this specification
<h2 class="no-num" id="property-index">Property index</h2>
-->
  <!--begin properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies&nbsp;to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
  </table>
  <!--end properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
