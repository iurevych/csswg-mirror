<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
 <head>
  <title>CSS3 Flexible Box Layout Module</title>

  <link href="default.css" rel="stylesheet" type="text/css">

  <link href="http://www.w3.org/StyleSheets/TR/W3C-MO" rel="stylesheet"
   type="text/css">

  <style type="text/css">
     pre.idl { background: #EEEEEE; color: black; border: solid thin; padding: 0 0 0 2em; }
     code.property-name { background: #FFFFCC; color: black; }
     code.method-name { background: #CCCCFF; color: black; }
     code.parameter-name { background: #FFCCFF; color: black; }
     code.constant-name { background: #CCFFCC; color: black; }
     img.extra { float: left; }
     dt { clear: left; }
     /* div.property, div.method, div.parameters, div.return, div.paramtable, code.dom { } */
     html, body { background-attachment: scroll ! important; }
    </style>

 <body>
  <div class="head">
   <p><a class="logo" href="http://www.w3.org/" rel="home"><img alt="W3C "
    height="48" src="http://www.w3.org/Icons/w3c_home" width="72"></a><a
    class="logo" href="http://www.w3.org/Style/CSS/" rel="in-activity"><img
    alt="CSS WG " height="48"
    src="http://www.w3.org/Style/Woolly/woolly-icon.png" width="72"></a>

   <h1 id="css3-flexible">CSS3 Flexible Box Layout Module</h1>

   <h2 class="no-num no-toc" id="w3c-working">W3C Working Draft, [dd mmm
    yyyy]</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="[http://www.w3.org/ThisVersionURI]">[http://www.w3.org/ThisVersionURI]</a>

    <dt>Latest version:

    <dd><a
     href="[http://www.w3.org/LatestVersionURI]">[http://www.w3.org/LatestVersionURI]</a>

    <dt>Previous version:

    <dd><a
     href="[http://www.w3.org/PreviousVersionURI]">[http://www.w3.org/PreviousVersionURI]</a>

    <dt>Editors:

    <dd>Ian Hickson, Opera Software, <a
     href="mailto:ian@hixie.ch">ian@hixie.ch</a>

    <dd>David Hyatt, Apple, <a
     href="mailto:hyatt@apple.com">hyatt@apple.com</a>
    <!-- <dd>[editor name, affiliation (opt.), email address (opt.)]</dd> -->
   </dl>
   <!--begin-copyright-->
   <p class="copyright"><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">
    Copyright</a> &copy; 2003 <a href="http://www.w3.org/"><abbr title="World
    Wide Web Consortium">W3C</abbr></a><sup>&reg;</sup> (<a
    href="http://www.lcs.mit.edu/"><abbr title="Massachusetts Institute of
    Technology">MIT</abbr></a>, <a href="http://www.ercim.org/"><acronym
    title="European Research Consortium for Informatics and
    Mathematics">ERCIM</acronym></a>, <a
    href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>,
    <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> and <a
    href="http://www.w3.org/Consortium/Legal/copyright-software">software
    licensing</a> rules apply.
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id="abstract"><a name="abstract">Abstract</a></h2>

  <p>The draft describes a CSS box model optimised for interface design.

  <h2 class="no-num" id="status"><a name="status">Status of this document</a></h2>

  <p>This document is <em>not yet</em> a working draft of the CSS working
   group which is part of the <a href="http://www.w3.org/Style/">Style
   activity</a>. It contains a proposal for features to be included in CSS
   level 3.

  <p>Feedback is very much welcomed. Comments can be sent directly to the
   editor, but the mailing list <a
   href="http://www.w3.org/Mail/Lists.html#www-style">www-style@w3.org</a>
   (see <a href="http://www.w3.org/Mail/Request">instructions</a>) is also
   open and is preferred for discussion of this and other drafts in the Style
   area.

  <p>This working draft may be updated, replaced or rendered obsolete by
   other W3C documents at any time. It is inappropriate to use W3C Working
   Drafts as reference material or to cite them as other than "work in
   progress". Its publication does not imply endorsement by the W3C
   membership or the <a href="http://www.w3.org/Style/Group">CSS Working
   Group</a> (<a href="http://cgi.w3.org/MemberAccess/AccessRequest">members
   only</a>).

  <p>A list of current W3C Recommendations and other technical documents
   including Working Drafts and Notes can be found at <a
   href="http://www.w3.org/TR">http://www.w3.org/TR</a>.

  <h3 class="no-num" id="crec">Candidate Recommendation Exit Criteria</h3>

  <p>For this specification to exit the CR stage, the following conditions
   must be met:

  <ol>
   <li>
    <p>There must be at least two interoperable implementations for every
     feature. For the purposes of this criterion, we define the following
     terms:

    <dl>
     <dt>feature

     <dd>
      <p> A section or subsection of the specification.

     <dt>interoperable

     <dd>
      <p>passing the respective test cases in the test suite, or, if the
       implementation is not a web browser, equivalent tests. Every relevant
       test in the test suite should have an equivalent test created if such
       a UA is to be used to claim interoperability. In addition if such a UA
       is to be used to claim interoperability, then there must one or more
       additional UAs which can also pass those equivalent tests in the same
       way for the purpose of interoperability. The equivalent tests must be
       made publicly available for the purposes of peer review.

     <dt>implementation

     <dd>
      <p>a user agent which:

      <ol>
       <li>implements the feature.

       <li>is available (i.e. publicly downloadable or available through some
        other public point of sale mechanism). This is the "show me"
        requirement.

       <li>is shipping (i.e. development, private or unofficial versions are
        insufficient).

       <li>is not experimental (i.e. is intended for a wide audience and
        could be used on a daily basis).
      </ol>
    </dl>

   <li>
    <p>A minimum of six months of the CR period must have elapsed. This is to
     ensure that enough time is given for any remaining major errors to be
     caught.

   <li>
    <p>The CR period will be extended if implementations are slow to appear.

   <li>
    <p>Features will be dropped (thus reducing the list of "all" features
     mentioned above) if two or more interoperable implementations of those
     features are not found by the end of the CR period.

   <li>
    <p>Features will also be dropped if sufficient and adequate tests (by
     judgment of the working group) have not been produced for those features
     by the end of the CR period.

   <li>
    <p>If implementation feedback warrants it, or if implementations are not
     found to be sufficiently interoperable, this specification will be
     returned to Working Draft stage to address the issues raised and reasons
     for implementation differences.
  </ol>

  <h2 class="no-num no-toc" id="table"><a name="contents">Table of
   contents</a></h2>
  <!--begin-toc-->

  <ul class="toc">
   <li><a href="#status">Status of this document</a>
    <ul class="toc">
     <li><a href="#crec">Candidate Recommendation Exit Criteria</a>
    </ul>

   <li><a href="#overview"><span class="secno">1. </span>Overview</a>

   <li><a href="#orientation"><span class="secno">2. </span>Orientation and
    Direction</a>

   <li><a href="#alignment"><span class="secno">3. </span>Alignment</a>

   <li><a href="#flex"><span class="secno">4. </span>Flex</a>

   <li><a href="#preferred"><span class="secno">5. </span>Preferred, Minimum,
    and Maximum Sizes</a>

   <li><a href="#packing"><span class="secno">6. </span>Packing Controls</a>

   <li><a href="#flex-groups"><span class="secno">7. </span>Flex Groups</a>

   <li><a href="#multiple"><span class="secno">8. </span>Multiple Lines</a>

   <li><a href="#ordinal"><span class="secno">9. </span>Ordinal Groups</a>

   <li><a href="#visibility"><span class="secno">10. </span>Visibility</a>

   <li><a href="#overflow"><span class="secno">11. </span>Overflow</a>

   <li><a href="#inlinesAndBlocks"><span class="secno">12. </span>Inlines and
    Blocks</a>

   <li><a href="#examples"><span class="secno">13. </span>Examples</a>

   <li><a href="#profiles"><span class="secno">14. </span>Profiles</a>

   <li><a href="#acknowledgments">Acknowledgments</a>

   <li><a href="#references">References</a>
    <ul class="toc">
     <li><a href="#normative">Normative references</a>

     <li><a href="#other">Other references</a>
    </ul>

   <li><a href="#index">Index</a>
  </ul>
  <!--end-toc-->

  <hr>
  <!--
    <h2>Dependencies on other modules</h2>

    <p>This CSS3 module depends on the following other CSS3 modules:</p>
    <ul>
      <li>[module]</li>
      <li>[module]</li>
    </ul>

    <p>It has non-normative (informative) references to the following other CSS3
    modules:</p>
    <ul>
      <li>[module]</li>
      <li>[module]</li>
    </ul>
    -->

  <h2 id="overview"><span class="secno">1. </span>Overview</h2>

  <p> Boxes lay out their children using a constraint-based system that
   supports both relative flexible sizing and intrinsic sizing.

  <p> In CSS, an inline box can be specified using the <span
   class="property">'display'</span> property with a value of <span
   class="css">inline-box</span>. A block-level box can be specified with a
   value of <span class="css">box</span>.

  <p>The difference between boxes and blocks is in how the children of the
   element are laid out. Children of boxes are all block-level (inline-level
   contents get wrapped in anonymous blocks, as described in the section on
   <a href="inlinesAndBlocks">inlines and blocks</a>). These blocks then get
   stacked in the direction specified by the <span class="property"><a
   href="#box-orient">'box-orient'</a></span> and <span class="property"><a
   href="#box-direction">'box-direction'</a></span> properties. They are
   aligned within the box according to the <span class="property"><a
   href="#box-align">'box-align'</a></span> property. The boxes may then flex
   or be distributed as specified by the <span class="property"><a
   href="#box-flex">'box-flex'</a></span>, <span class="property"><a
   href="#box-flex-group">'box-flex-group'</a></span> and <span
   class="property"><a href="#box-pack">'box-pack'</a></span> properties.

  <p>These properties, and a few others, are described below.

  <p> The <span class="property">'float'</span> property does not apply to
   children of box elements.

  <h2 id="orientation"><span class="secno">2. </span>Orientation and
   Direction</h2>

  <table class="propdef" id="box-orient0">
   <caption> <dfn id="box-orient">'box-orient'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>horizontal | vertical | inline-axis | block-axis

    <tr>
     <td><em>Initial:</em>

     <td>inline-axis

    <tr>
     <td><em>Applies to:</em>

     <td>box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>Box containers have an <dfn id="orientation0">orientation</dfn> and a
   <dfn id="direction">direction</dfn>. The <span class="property"><a
   href="#box-orient">'box-orient'</a></span> CSS property specifies the
   orientation of the box. It has values of <span
   class="css">horizontal</span>, <span class="css">vertical</span>, <span
   class="css">inline-axis</span>, <span class="css">block-axis</span>, and
   <span class="css">inherit</span>. A horizontal box lays out its children
   in a horizontal line, and a vertical box stacks its children vertically.
   The inline and block axes are the writing-mode dependent keywords which,
   in English, map to horizontal and vertical respectively.

  <table class="propdef" id="box-direction0">
   <caption> <dfn id="box-direction">'box-direction'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>normal | reverse

    <tr>
     <td><em>Initial:</em>

     <td>normal

    <tr>
     <td><em>Applies to:</em>

     <td>box elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p> The <span class="property"><a
   href="#box-direction">'box-direction'</a></span> CSS property specifies
   the direction of the box. It has values of <span class="css">normal</span>
   and <span class="css">reverse</span>. A normal horizontal box lays out its
   children from left to right, and a normal vertical box lays out its
   children from top to bottom.

  <p> Direction within nested boxes is inherited by default. If direction and
   orientation are omitted on the outermost box in a box group, it is assumed
   to have a inline-axis orientation and normal direction.

  <div class="example">
   <pre class="xml">
&lt;box&gt;
     &lt;button&gt;Child 1&lt;/button&gt;
     &lt;button&gt;Child 2&lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box1.gif">
  </div>

  <p>When items are placed in a box without specifying any additional
   information about their size, then the box sizes the children <dfn
   id="intrinsically">intrinsically</dfn>. In other words, the box makes each
   child only as big as it needs to be.

  <p class="example">Notice that in the above example, the two buttons are
   only as big as they need to be to display all of their text.

  <p>Widths can be specified for items inside a horizontal box. When an
   object specifies its width in CSS, it is telling the box that it would
   like to be that width. Similarly, heights can be specified in CSS for
   items in a vertical box. An unnested box placed inside an enclosing CSS
   block will obey all the usual sizing rules of the block. For example,
   setting the width of an unnested box to 100% ensures that the box is the
   maximum width permitted by the enclosing CSS block (ignoring any margins,
   border and padding on that box).

  <div class="example">
   <pre class="xml">
&lt;box&gt;
     &lt;button style="width: 200px"&gt;Child 1&lt;/button&gt;
     &lt;button style="width: 100px"&gt;Child 2&lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box2.gif">

   <p>In this example, the first child is twice as wide as the second child,
    since it specified a width of 200 pixels. The second child specified a
    width of only 100 pixels.
  </div>

  <table class="propdef" id="box-sizing0">
   <caption> <dfn id="box-sizing">'box-sizing'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>content-box | padding-box | border-box | margin-box

    <tr>
     <td><em>Initial:</em>

     <td>content-box

    <tr>
     <td><em>Applies to:</em>

     <td>box and block elements <!--[and generated content and ... XXX]-->

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>The <span class="property"><a href="#box-sizing">'box-sizing'</a></span>
   property determines how the <span class="property">'height'</span> and
   <span class="property">'width'</span> properties should be interpreted.

  <dl>
   <dt>content-box

   <dd>This is the behavior of width and height as specified by CSS2. The
    specified width and height apply to the width and height respectively of
    the content box of the element. The padding and border of the element are
    laid out and drawn outside the specified width and height.

   <dt>padding-box

   <dd>The specified width and height on this element determine the padding
    box of the element. That is, any padding specified on the element is laid
    out and drawn inside this specified width and height. The content width
    and height is computed by subtracting padding widths of the respective
    sides from the specified width and height. The padding-box size is the
    dimension used for the containing block of absolutely positioned blocks.

   <dt>border-box

   <dd>The specified width and height on this element determine the border
    box of the element. That is, any padding or border specified on the
    element is laid out and drawn inside this specified width and height. The
    content width and height is computed by subtracting the border and
    padding widths of the respective sides from the specified width and
    height. This is the behavior of width and height as commonly implemented
    by legacy HTML user agents for replaced elements and input elements.

   <dt>margin-box

   <dd>The specified width and height on this element determine the margin
    box of the element. That is, any margin, padding or border specified on
    the element is laid out and drawn inside this specified width and height.
    The content width and height is computed by subtracting the margin,
    border and padding widths of the respective sides from the specified
    width and height. When margins collapse, the height (or width, for
    horizontal block layout) is calculated before applying any collapsing
    algorithms. Authors should be aware of this, as it can lead to unexpected
    results.
  </dl>

  <p>Note that despite the name of the property, <span class="property"><a
   href="#box-sizing">'box-sizing'</a></span> applies to block and
   table-level elements as well as boxes.

  <h2 id="alignment"><span class="secno">3. </span>Alignment</h2>

  <table class="propdef" id="box-align0">
   <caption> <dfn id="box-align">'box-align'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>start | end | center | baseline | stretch

    <tr>
     <td><em>Initial:</em>

     <td>stretch

    <tr>
     <td><em>Applies to:</em>

     <td>box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>The <span class="property"><a href="#box-align">'box-align'</a></span>
   property specifies how a box's children are aligned along the orientation
   of the box. Its possible values are <span class="css">start</span>, <span
   class="css">end</span>, <span class="css">center</span>, <span
   class="css">baseline</span>, and <span class="css">stretch</span>. The
   initial value is <span class="css">stretch</span>.

  <p>The following rules should be applied when determining the size of
   children inside boxes in the dimension opposite to the orientation of the
   box. Exceptions to these rules are noted under each of the possible values
   of 'box-align' below.

  <p>All normal flow children of boxes will attempt to satisfy the following
   sizing equation when placed inside vertical boxes if and only if at least
   one of the specified values is auto:

  <p>'margin-left' + 'border-left-width' + 'padding-left' + 'width' +
   'padding-right' + 'border-right-width' + 'margin-right' = width of
   containing box

  <p>and a similar equation for height when placed inside horizontal boxes:

  <p>'margin-top' + 'border-top-width' + 'padding-top' + 'height' +
   'padding-bottom' + 'border-bottom-width' + 'margin-bottom' = height of
   containing box

  <p>If all the values in the equation are specified (i.e., if there are no
   auto values), then the equation above does not apply, and the specified
   values should be used. If applying the equation results in a negative
   value for width/height, then that value is set to 0, and those values
   should be used.

  <p>If the value of <span class="property"><a
   href="#box-align">'box-align'</a></span> is <span
   class="css">stretch</span>, then elements obey the sizing rules specified
   above. This is the default value. If both width/height and one or both
   margin values are 'auto', the 'auto' margins are set to 0 and the equation
   is used to find a value for width/height. Otherwise, if both margins are
   'auto', then the equation is solved under the additional constraint that
   the two margins must get the same value. If only one value is 'auto', the
   equation is solved.

  <p>If the value of <span class="property"><a
   href="#box-align">'box-align'</a></span> is start, center, baseline, or
   end, and a value of 'auto' is specified for width/height, then the
   intrinsic size of the element should be used. If a margin has the value of
   auto, then the equations above should be used. If both margins have a
   value of auto then the above equations should be used, with the space
   being divided evenly between the two margins. These rules are similar to
   the rules for replaced elements inside blocks.

  <p>Once the sizes are computed, the margin boxes of the elements should be
   aligned at the start, center, baseline, or end of the box. For horizontal
   boxes, this typically means the top, center, baseline or bottom of the
   box. For vertical boxes, the start and end alignments depend upon the
   direction. For LTR, the elements would be aligned at the left side of the
   box for start and the right side for end. For RTL, the elements would be
   aligned at the right of the box for start and the left side for end.

  <p>If the value of 'box-align' is <span class="css">baseline</span>, then
   the elements should then be aligned along their baselines. For block
   flows, use the baseline of the first non-empty line box located within the
   element. For tables, use the baseline of the first cell. The children,
   once aligned on their baselines, should then be placed into the box so
   that the child with the earliest extent margin has its before margin edge
   flush with the before edge of the box's content area (i.e. the children,
   once aligned on their baselines, should then be placed into the box so
   that the child with the highest top margin has its top margin edge flush
   with the top edge of the box's content area). If the box does not have an
   'auto' height, overflow will always be on the after (bottom) edge.

  <p>If the box orientation is block-axis, then <span
   class="css">baseline</span> is interpreted as <span
   class="css">center</span>.

  <h2 id="flex"><span class="secno">4. </span>Flex</h2>

  <p class="issue">[This section needs to more accurately explain how it
   works with box-lines, box-align, etc.]

  <p>Items in boxes fall into two categories: <dfn
   id="flexible">flexible</dfn> and <dfn id="inflexible">inflexible</dfn>.
   Inflexible objects will not grow, even when there is extra space left over
   in the box.

  <div class="example">
   <pre class="xml">
&lt;box style="width: 400px;"&gt;
     &lt;button style="width: 200px"&gt;Child 1&lt;/button&gt;
     &lt;button style="width: 100px"&gt;Child 2&lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box3.gif">
  </div>

  <table class="propdef" id="box-flex0">
   <caption> <dfn id="box-flex">'box-flex'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>&lt;number&gt;

    <tr>
     <td><em>Initial:</em>

     <td>0.0

    <tr>
     <td><em>Applies to:</em>

     <td>children of box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>An object becomes flexible when the <span class="css"><a
   href="#box-flex">box-flex</a></span> CSS property is specified for an
   element. <span class="css"><a href="#box-flex">box-flex</a></span> has a
   floating point value representing the flexibility of the object. Its
   default value is 0, which indicates that the object is inflexible. Objects
   that are flexible can shrink or grow as the box shrinks and grows.
   Whenever there is extra space left over in a box, the flexible objects are
   expanded to fill that space. All flex is relative. For example, a child
   with a flex of 2 is twice as flexible as a child with a flex of 1.

  <div class="example">
   <pre>
&lt;box style="box-orient: vertical; height: 200px"&gt;
     &lt;button&gt;Cat&lt;/button&gt;
     &lt;button style="box-flex: 1"&gt;Piranha&lt;/button&gt;
     &lt;button&gt;Antidisestablishmentarianism&lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box5.gif">

   <p>In the above example, the box is 200 pixels tall, which is more than
    enough room for the three buttons. Because the first and third buttons
    are inflexible, they remain the same size as in the previous example. The
    second button is specified as being flexible, and because it is the only
    flexible object in the box, it receives all of the extra space.
  </div>

  <p>When several objects in a box are flexible, the extra space is divided
   among the objects based on how flexible they are. The box determines how
   much space to give an object by adding up the flex values on all of its
   children. An object gets an amount of extra space equal to the percentage
   of flex that it is responsible for.

  <div class="example">
   <p>For example, if two objects have a flex of 1, then after both objects
    are given their preferred sizes, the first object gets 1/(1+1) = 1/2 of
    the extra space, and the second object also gets 1/2 of the extra space.

   <pre>
&lt;box style="box-orient: vertical; height: 200px"&gt;
     &lt;button style="box-flex: 1"&gt;Cat&lt;/button&gt;
     &lt;button style="box-flex: 1"&gt;Piranha&lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box6.gif">
  </div>

  <div class="example">
   <p>Here is another example using objects with different flex values.

   <pre class="xml">
&lt;box style="box-orient: vertical; height: 200px"&gt;
     &lt;button style="box-flex: 1"&gt;Cat&lt;/button&gt;
     &lt;button style="box-flex: 2"&gt;Piranha&lt;/button&gt;
     &lt;button style="box-flex: 3"&gt;Canary&lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box7.gif">
  </div>

  <h2 id="preferred"><span class="secno">5. </span>Preferred, Minimum, and
   Maximum Sizes</h2>

  <p>For inflexible objects, the specification of the <span
   class="property">'width'</span> and <span class="property">'height'</span>
   CSS properties can be used to specify an object's size. If these
   properties are omitted (and thus have tho value <span
   class="css">auto</span>), an inflexible object will be sized
   intrinsically, i.e., it will be given the minimum amount of space required
   to lay out the item without unnecessary line breaks (also known as the
   <em>maximum intrinsic width</em>).

  <div class="example">
   <pre>
&lt;outer-box&gt;         outer-box { display: box; width: 12em;
     &lt;inner-box/&gt;               box-orient: horizontal; }
     &lt;inner-box/&gt;   inner-box { display: box; width: 10em; }
&lt;/outer-box&gt;
</pre>

   <p>This would result in the two inner boxes overflowing the outer box on
    the right hand side by 8em.
  </div>

  <p>The <span class="property">'overflow' property controls how boxes are
   rendered when their contents are wider (or taller) than themselves.</span>

  <p>With flexible objects, there are more options. Just as with inflexible
   objects, the <span class="property">'width'</span> and <span
   class="property">'height'</span> properties can be used to specify a
   preferred size. However, unlike inflexible objects, this size is only a
   guideline. A flexible object will stretch as necessary. It will also
   shrink if required until it can shrink no more (e.g., when the object hits
   its minimum required intrinsic size).

  <div class="example">
   <pre>
&lt;box style="box-orient: vertical"&gt;
     &lt;button style="box-flex: 1; height:1000px"&gt;
        Cat
     &lt;/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box9.gif">

   <p><img alt="" src="images/box8.gif">

   <p>In the above example the box is shrinking, and despite the
    specification of 1000 pixels as the preferred height, the button, because
    it is flexible, shrinks with the box. It continues to shrink until the
    minimum required height for the button is reached. After that, the button
    can shrink no further. If the box were to continue to shrink, the
    button's contents would be clipped, and a portion of the button would no
    longer be visible.

   <p>Items within a box can therefore have their own notions of minimum and
    maximum intrinsic sizes. In the above example, the button could not get
    any smaller than the minimum height required to draw its borders and its
    text.
  </div>

  <p>For a more fine-grained control of minimum and maximum sizes, the <span
   class="property">'min-width'</span>, <span
   class="property">'min-height'</span>, <span
   class="property">'max-width'</span>, and <span
   class="property">'max-height'</span> CSS properties can be used. When
   specified, these properties provide extra information to the box as it
   shrinks and grows the object in question.

  <div class="example">
   <p>In a horizontal box, for example, if a minimum width is specified, then
    the flexible object will not be allowed to shrink below that width. If a
    maximum width is specified, then the flexible object will not be allowed
    to grow beyond that width.

   <pre class="xml">
&lt;box style="box-orient: vertical"&gt;
    &lt;iframe style="box-flex: 1; min-height:100px; max-height:300px; 
                   width:300px" 
            src="http://www.mozillazine.org/"/&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box10.jpeg">

   <p><img alt="" src="images/box11.jpeg">

   <p>The above example demonstrates the use of <span
    class="property">'min-height'</span> and <span
    class="property">'max-height'</span> within a vertical box. In the first
    image the box has been shrunk until it is smaller than 100 pixels in
    height. Because the iframe has a specified minimum height of 100 pixels,
    it is not allowed to shrink any further, and so as the box falls below
    100 pixels, the iframe gets clipped, and portions of it become invisible.

   <p>In the second image, the box has been expanded past 300 pixels in
    height. Even though the box is getting bigger, the extra space is not
    being consumed by the iframe, because its maximum height of 300 pixels
    has been reached. It will grow no further.
  </div>

  <div class="example">
   <p>Below is another example illustrating min and max width.

   <pre class="xml">
&lt;box&gt;
     &lt;button style="box-flex: 1; max-width: 50px"&gt;Child 1&lt/button&gt;
     &lt;button style="box-flex: 1; min-width: 50px"&gt;Child 2&lt/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box12.gif">

   <p>In the above example, the box has been stretched so that it is very
    wide. The first child has a maximum width of 50 pixels, and it divides
    the excess space equally with the second child until its maximum width
    has been reached. After that, since it is not allowed to grow any
    further, the remaining space all goes to the second child.
  </div>

  <h2 id="packing"><span class="secno">6. </span>Packing Controls</h2>

  <table class="propdef" id="box-pack0">
   <caption> <dfn id="box-pack">'box-pack'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>start | end | center | justify

    <tr>
     <td><em>Initial:</em>

     <td>start

    <tr>
     <td><em>Applies to:</em>

     <td>box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>When all of the items within a box are inflexible or when all objects
   have grown to their maximum sizes and can stretch no further, extra space
   may be left over in the box. An additional property can be used to dictate
   how any additional space should be distributed between objects. The CSS
   property <span class="property"><a href="#box-pack">'box-pack'</a></span>
   has the possible values of <span class="css">start</span>, <span
   class="css">end</span>, <span class="css">center</span> and <span
   class="css">justify</span>. The default is <span
   class="css">justify</span>.

  <div class="example">
   <pre class="xml">
&lt;box style="box-align: center; box-pack: center; 
                 width: 300px; height: 300px"&gt;
     &lt;button&gt;centered&lt/button&gt;
&lt;/box&gt;
</pre>

   <p><img alt="" src="images/box13.gif">
  </div>

  <p> In the above example, the button is centered within the box using the
   <span class="property"><a href="#box-align">'box-align'</a></span> and
   <span class="property"><a href="#box-pack">'box-pack'</a></span>
   properties together. The former centers the button vertically, and the
   latter centers the button horizontally.

  <h2 id="flex-groups"><span class="secno">7. </span>Flex Groups</h2>

  <table class="propdef" id="box-flex-group0">
   <caption> <dfn id="box-flex-group">'box-flex-group'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>&lt;integer&gt;

    <tr>
     <td><em>Initial:</em>

     <td>1

    <tr>
     <td><em>Applies to:</em>

     <td>children of box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>Flexible objects can be assigned to <dfn id="flex-groups0">flex
   groups</dfn> using the <span class="css"><a
   href="#box-flex-group">'box-flex-group'</a></span> property. This property
   is a natural number value (with 1 being the first flex group). The default
   value is 1.

  <p>When a box needs to expand flexible objects, it will expand all objects
   in the lowest-numbered flex group first. Only when all objects have hit
   their maximum sizes will objects from the next flex group be processed.
   Similarly, when a box shrinks objects, it starts shrinking objects in the
   highest specified flex group, moving to lower-numbered groups as objects
   begin hitting their minimum sizes.

  <p>The scope of this property is the box (the parent element).

  <h2 id="multiple"><span class="secno">8. </span>Multiple Lines</h2>

  <table class="propdef" id="box-lines0">
   <caption> <dfn id="box-lines">'box-lines'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>single | multiple

    <tr>
     <td><em>Initial:</em>

     <td>single

    <tr>
     <td><em>Applies to:</em>

     <td>box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>By default a horizontal box will lay out its children in a single row,
   and a vertical box will lay out its children in a single column. This
   behavior can be changed using the box-lines property. The default value is
   single, which means that all objects will always be placed in a single row
   or column, and any objects that don't fit will simply be considered
   overflow.

  <p>If a value of multiple is specified, however, then the box is allowed to
   expand to multiple lines (that is, multiple rows or columns) in order to
   accommodate all of its children. The box must attempt to fit its children
   on as few lines as possible by shrinking all objects down to their minimum
   widths if necessary.

  <p>If the children still do not fit on a line after being reduced to their
   minimum widths, then children are moved one by one onto a new line, until
   the objects remaining on the previous line fit. This process can repeat to
   an arbitrary number of lines. If a line contains only a single object that
   doesn't fit, then the object should stay on that line and overflow out of
   the box.

  <p>One the number of lines has been determined, objects with box-flex
   specified flex up to their max widths in an attempt to fill the remaining
   space on the lines. Each line computes flexes independently, so only
   objects on that line are considered when evaluating flex and flex-groups.

  <h2 id="ordinal"><span class="secno">9. </span>Ordinal Groups</h2>

  <table class="propdef" id="box-ordinal-group0">
   <caption> <dfn id="box-ordinal-group">'box-ordinal-group'</dfn></caption>

   <tbody>
    <tr>
     <td><em>Value:</em>

     <td>&lt;integer&gt;

    <tr>
     <td><em>Initial:</em>

     <td>1

    <tr>
     <td><em>Applies to:</em>

     <td>children of box elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>n/a

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed Value:</em>

     <td>specified value
  </table>

  <p>Children of a box element can be assigned to <dfn id="ordinal0">ordinal
   groups</dfn> using the <span class="css"><a
   href="#box-ordinal-group">'box-ordinal-group'</a></span> property. This
   property is a natural number value. The default value is 1.

  <p>Ordinal groups can be used in conjunction with the 'box-direction'
   property to control the order in which objects appear within a box. When
   the specified direction is normal, a box will start with the lowest
   numbered ordinal group and ensure that those objects appear to the left
   (for horizontal boxes) or at the top (for vertical boxes) of the
   container. Objects with the same ordinal group are flowed in the order
   they were declared in the content model. An object of a lower ordinal
   group will always appear before an object of a higher ordinal group. In
   the reverse direction, the highest ordinal group appears first, and the
   container positions objects from the highest group down to the lowest.

  <h2 id="visibility"><span class="secno">10. </span>Visibility</h2>

  <p>Items within a box can use the CSS <span
   class="property">'visibility'</span> property to render themselves
   invisible. Boxes behave like tables in that the value <span
   class="css">collapsed</span> can be used to specify that an item within a
   box should not take up any space at all (just like <span
   class="css">display:none</span>). Flexible objects expand as needed to
   fill any space left open by a collapsed item.

  <h2 id="overflow"><span class="secno">11. </span>Overflow</h2>

  <p>Items within a box may use the CSS <span
   class="property">'overflow'</span> property to obtain horizontal and
   vertical scrollbars as needed. Flexible objects that shrink below their
   minimum intrinsic size can display scrollbars using the <span
   class="css">auto</span> value. If overflow is <span
   class="css">hidden</span>, the object will be clipped instead. <em>Note
   that the initial value is <span class="css">visible</span>, which is
   typically not the preferred effect in user interfaces.</em>
  <!--
<p class="issue">[Editor's Note: XXX what about 'resizer'??]</p>
-->

  <h2 id="inlinesAndBlocks"><span class="secno">12. </span>Inlines and Blocks</h2>

  <p>Like with 'block' elements, all children of 'box' elements are
   block-level. If inline-level elements are nested inside boxes, they get
   wrapped in an anonymous block which then takes part in the box layout.

  <p>Boxes size the blocks inside them in much the same way as blocks. In
   particular, <span class="css">width:auto</span> means that the box will
   fill the box's containing block. Similarly, the <span
   class="property">'min-width'</span>, <span
   class="property">'min-height'</span>, <span
   class="property">'max-width'</span>, and <span
   class="property">'max-height'</span> CSS properties act the same on boxes
   as on blocks.
  <!--
<h2>Grids</h2>

<p>The box can be extended into two dimensions through the use of a
<dfn>grid</dfn> element.  A grid consists of two !!XXX!!, the first
defining <dfn>columns</dfn> and the second defining
<dfn>rows</dfn>. (This is conceptually similar to tables, but
significantly simpler in practice.) Conceptually, the grid is a stack
that consists of two layers, a bottom layer that contains the columns,
and a top layer that contains the rows.  (The rows can be thought of as
having a higher CSS z-index than the columns, although this is only a
conceptual model, as <span class="property">'span'</span> only applies
to positioned elements.)</p>

<p>All columns and rows in a grid must be specified explicitly.
(Grids are thus simplified by not supporting dynamic discovery of the
number of columns the way HTML tables do).</p>

<p class="issue">[Issue: That's great, but we need a major explanation
of error handling here! Implied elements, anyone?]</p>

<p>The following additional values for the CSS display property allow
grids to be used from CSS: <span class="css">grid</span>, <span
class="css">inline-grid</span>, <span class="css">grid-group</span>
and <span class="css">grid-line</span>.  The <span
class="css">grid-group</span> and <span class="css">grid-line</span>
properties, when used in conjunction with the <span
class="css">box-orient</span> property define the <span
class="css">rows</span>, <span class="css">columns</span>, <span
class="css">row</span> and <span class="css">column</span> elements.

XXX HOW?!?!?!

<p>Boxes or nested grids make up the cells of the grid, and they can
be placed within either a column or a row. Note that with this layout
it is possible for two objects to be placed within the same (i,j)
position of the grid, one in the bottom columns layer, and the other
in the rows layer.

<p>The <span class="property">'box-align'</span> and <span
class="property">'box-flex'</span> properties, when specified on a row
or a column, apply to all the cells in the row or column.  These
properties are ignored when specified on objects inside a row or
column.  The properties on the row and column override.  Similarly,
widths and heights and min/max-widths and heights can be specified on
rows and columns and will override anything specified on cells.

<p> Note that <span class="property">'box-pack'</span> is unnecessary
in a grid, since <span class="property">'box-align'</span> can be
specified on both the row and column to allow for full control of a
cell's positioning.

<div class="example">

<pre>
&lt;grid style="width:300px; height:300px"&gt;
    &lt;columns&gt;
        &lt;column style="width: 0; box-flex: 1"/&gt;
        &lt;column style="width: 0; box-flex: 1"/&gt;
    &lt;/columns&gt;
    &lt;rows&gt;
        &lt;row style="height: 0; box-flex: 1"&gt;
            &lt;button&gt;Child 1,1&lt;/button&gt;
            &lt;button&gt;Child 1,2&lt;/button&gt;
        &lt;/row&gt;
        &lt;row style="height: 0; box-flex: 1"&gt;
            &lt;button&gt;Child 2,1&lt;/button&gt;
            &lt;button&gt;Child 2,2&lt;/button&gt;
        &lt;/row&gt;
    &lt;/rows&gt;
&lt;/grid&gt;
</pre>

<p><img src="images/box14.jpg" alt="">

<p>The stylesheet used with this example is as follows:</p>

<pre>
  grid { display: grid; }
  columns { display: XXX; }
  rows { display: XXX; }
  column { display: XXX; }
  row { display: XXX; }
  button { display: box; }
</pre>

</div>

<p>The rows and columns elements can flex and overflow just as other
boxes can, allowing for scrolling grids in either the horizontal or
vertical direction (e.g., a spreadsheet).

<p>Rows and columns elements can be nested and used in conjunction
with the <span class="property">'visibility'</span> (e.g., <span
class="css">collapsed</span>) and <span
class="property">'overflow'</span> (e.g., <span
class="css">auto</span>) properties to easily obtain a multi-column
tree widget with a scrolling body.

<p> Because the two children of the grid element are just boxes, they
can contain content other than rows and columns.  By default this
content will be stretched across the whole grid, e.g., a text area
placed in between two rows would stretch to fill the entire width of
the grid.  By allowing other objects within the rows and columns, many
use cases involving spans become unnecessary.  Spans, therefore, are
not supported in grids.

-->

  <h2 id="examples"><span class="secno">13. </span>Examples</h2>

  <p>This section will include some sample bindings and maybe even the source
   to one or two complete dialog boxes.

  <hr title="Separator from footer">

  <h2 id="profiles"><span class="secno">14. </span>Profiles</h2>

  <p>[This section explains what parts of this module belong in which
   profiles.]

  <p>We have at least 4 profiles: level 1, level 2, level 3 and full

  <h2 class="no-num" id="acknowledgments"><a
   name="acknowledgments">Acknowledgments</a></h2>

  <p>[This section will contain acknowledgments]
  <!--
    <p>Mac HIG. XXX</p>
-->

  <h2 class="no-num" id="references">References</h2>

  <h3 class="no-num" id="normative">Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class="bibliography">
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->
  </dl>
  <!--end-normative-->

  <h3 class="no-num" id="other">Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class="bibliography">
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->
  </dl>
  <!--end-informative-->
  <!--
      <li>[ACTIONS] <a name="ACTIONS">Vidur Apparao,</a> Brendan Eich, Ramanathan Guha, Nisheeth
      Ranjan ; "<em>Action Sheets : a Modular Way of Defining Behavior for XML and HTML</em>",
      Netscape Communications Corp., submission to the W3C, June 19 1998 (<a href=
      "http://www.w3.org/TR/NOTE-AS"><code class=
      "xml">http://www.w3.org/TR/NOTE-AS</code></a>)</li>

      <li>[BECSS] <a name="BECSS">Vidur Apparao,</a> Daniel Glazman, Chris Wilson ; "
      <em>Behavioral Extensions to CSS</em> ", W3C Working Draft 04 Aug 1999 (<a href=
      "http://www.w3.org/TR/1999/WD-becss-19990804"><code class=
      "xml">http://www.w3.org/TR/1999/WD-becss-19990804</code></a>)</li>

      <li>[HTC] <a name="HTC">Chris Wilson;</a> "<em>HTML Components, Componentizing Web
      Applications</em>", Microsoft, submission to the W3C, October 23 1998 (<code class="xml"><a
      href=
      "http://www.w3.org/TR/1998/NOTE-HTMLComponents-19981023">http://www.w3.org/TR/NOTE-HTMLComponents-19981023</a></code>)</li>
-->

  <h2 class="no-num" id="index">Index</h2>
  <!--begin-index-->

  <ul class="indexlist">
   <li>'box-align', <a href="#box-align"><strong>#</strong></a>

   <li>'box-direction', <a href="#box-direction"><strong>#</strong></a>

   <li>'box-flex', <a href="#box-flex"><strong>#</strong></a>

   <li>'box-flex-group', <a href="#box-flex-group"><strong>#</strong></a>

   <li>'box-lines', <a href="#box-lines"><strong>#</strong></a>

   <li>'box-ordinal-group', <a
    href="#box-ordinal-group"><strong>#</strong></a>

   <li>'box-orient', <a href="#box-orient"><strong>#</strong></a>

   <li>'box-pack', <a href="#box-pack"><strong>#</strong></a>

   <li>'box-sizing', <a href="#box-sizing"><strong>#</strong></a>

   <li>direction, <a href="#direction"><strong>#</strong></a>

   <li>flex groups, <a href="#flex-groups0"><strong>#</strong></a>

   <li>flexible, <a href="#flexible"><strong>#</strong></a>

   <li>inflexible, <a href="#inflexible"><strong>#</strong></a>

   <li>intrinsically, <a href="#intrinsically"><strong>#</strong></a>

   <li>ordinal groups, <a href="#ordinal0"><strong>#</strong></a>

   <li>orientation, <a href="#orientation0"><strong>#</strong></a>
  </ul>
  <!--end-index-->
  <!-- Keep this comment at the end of the file
    Local variables:
    mode: sgml
    sgml-declaration:"~/SGML/HTML4.decl"
    sgml-default-doctype-name:"html"
    sgml-minimize-attributes:t
    sgml-nofill-elements:("pre" "style" "br")
    sgml-live-element-indicator:t
    End:
    -->
