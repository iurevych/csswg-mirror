<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>CSS3 Flexible Box Layout Module</title>
    <link rel="stylesheet" type="text/css" href="default.css">
    <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-MO">
    <style type="text/css">
     pre.idl { background: #EEEEEE; color: black; border: solid thin; padding: 0 0 0 2em; }
     code.property-name { background: #FFFFCC; color: black; }
     code.method-name { background: #CCCCFF; color: black; }
     code.parameter-name { background: #FFCCFF; color: black; }
     code.constant-name { background: #CCFFCC; color: black; }
     img.extra { float: left; }
     dt { clear: left; }
     /* div.property, div.method, div.parameters, div.return, div.paramtable, code.dom { } */
     html, body { background-attachment: scroll ! important; }
    </style>
  </head>

  <body>
    <div class="head">
      <p><a class="logo" rel="home" href="http://www.w3.org/"><img
      height="48" width="72" alt= "W3C "
      src="http://www.w3.org/Icons/w3c_home"></a><a class="logo"
      rel="in-activity" href= "http://www.w3.org/Style/CSS/"><img
      src="http://www.w3.org/Style/Woolly/woolly-icon.png" height="48"
      width="72" alt= "CSS WG "></a></p>

      <h1>CSS3 Flexible Box Layout Module</h1>

      <h2 class="no-num no-toc">W3C Working Draft, [dd mmm yyyy]</h2>

      <dl>
        <dt>This version:</dt>

        <dd><a href=
        "[http://www.w3.org/ThisVersionURI]">[http://www.w3.org/ThisVersionURI]</a></dd>

        <dt>Latest version:</dt>

        <dd><a href=
        "[http://www.w3.org/LatestVersionURI]">[http://www.w3.org/LatestVersionURI]</a></dd>

        <dt>Previous version:</dt>

        <dd><a href=
        "[http://www.w3.org/PreviousVersionURI]">[http://www.w3.org/PreviousVersionURI]</a></dd>

        <dt>Editors:</dt>

        <dd>Ian Hickson, Opera Software, <a href="mailto:ian@hixie.ch">ian@hixie.ch</a></dd>

        <dd>David Hyatt, Apple, <a href=
        "mailto:hyatt@apple.com">hyatt@apple.com</a></dd>

        <!-- <dd>[editor name, affiliation (opt.), email address (opt.)]</dd> -->
      </dl>
      <!--copyright-->
      <hr title="Separator for header">
    </div>

    <h2 class="no-num no-toc"><a name="abstract">Abstract</a></h2>

    <p>The draft describes a CSS box model optimised for interface design.</p>

    <h2 class="no-num"><a name="status">Status of this document</a></h2>

    <p>This document is <em>not yet</em> a working draft of the CSS
    working group which is part of the <a href=
    "http://www.w3.org/Style/">Style activity</a>. It contains a
    proposal for features to be included in CSS level 3.</p>

    <p>Feedback is very much welcomed. Comments can be sent directly
    to the editor, but the mailing list <a
    href="http://www.w3.org/Mail/Lists.html#www-style">www-style@w3.org</a>
    (see <a href= "http://www.w3.org/Mail/Request">instructions</a>)
    is also open and is preferred for discussion of this and other
    drafts in the Style area.</p>

    <p>This working draft may be updated, replaced or rendered
    obsolete by other W3C documents at any time. It is inappropriate
    to use W3C Working Drafts as reference material or to cite them as
    other than "work in progress". Its publication does not imply
    endorsement by the W3C membership or the <a
    href="http://www.w3.org/Style/Group">CSS Working Group</a> (<a
    href= "http://cgi.w3.org/MemberAccess/AccessRequest">members
    only</a>).</p>

    <p>A list of current W3C Recommendations and other technical
    documents including Working Drafts and Notes can be found at <a
    href="http://www.w3.org/TR">http://www.w3.org/TR</a>.</p>

[an error occurred while processing this directive]

    <h2 class="no-num no-toc"><a name="contents">Table of contents</a></h2>
    <!--toc-->
    <hr>
    <!--
    <h2>Dependencies on other modules</h2>

    <p>This CSS3 module depends on the following other CSS3 modules:</p>
    <ul>
      <li>[module]</li>
      <li>[module]</li>
    </ul>

    <p>It has non-normative (informative) references to the following other CSS3
    modules:</p>
    <ul>
      <li>[module]</li>
      <li>[module]</li>
    </ul>
    -->

<h2>Overview</h2>

<p> Boxes lay out their children using a constraint-based system that
supports both relative flexible sizing and intrinsic sizing. </p>

<p> In CSS, an inline box can be specified using the <span
class="property">'display'</span> property with a value of <span
class="css">inline-box</span>. A block-level box can be specified with
a value of <span class="css">box</span>. </p>

<p>The difference between boxes and blocks is in how the children of
the element are laid out. Children of boxes are all block-level
(inline-level contents get wrapped in anonymous blocks, as described
in the section on <a href="inlinesAndBlocks">inlines and blocks</a>).
These blocks then get stacked in the direction specified by the <span
class="property">'box-orient'</span> and <span
class="property">'box-direction'</span> properties. They are aligned
within the box according to the <span
class="property">'box-align'</span> property. The boxes may then flex
or be distributed as specified by the <span
class="property">'box-flex'</span>, <span
class="property">'box-flex-group'</span> and <span
class="property">'box-pack'</span> properties. </p>

<p>These properties, and a few others, are described below.</p>

<p> The <span class="property">'float'</span> property does not apply
to children of box elements. </p>

<h2>Orientation and Direction</h2>

    <table class="propdef">
      <caption>
        <dfn>'box-orient'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>horizontal | vertical | inline-axis | block-axis</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>inline-axis</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>Box containers have an <dfn>orientation</dfn> and a
<dfn>direction</dfn>.  The <span class="property">'box-orient'</span>
CSS property specifies the orientation of the box.  It has values of
<span class="css">horizontal</span>, <span
class="css">vertical</span>, <span class="css">inline-axis</span>,
<span class="css">block-axis</span>, and <span
class="css">inherit</span>.  A horizontal box lays out its children in
a horizontal line, and a vertical box stacks its children
vertically. The inline and block axes are the writing-mode dependent
keywords which, in English, map to horizontal and vertical
respectively.

    <table class="propdef">
      <caption>
        <dfn>'box-direction'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>normal | reverse</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>normal</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>yes</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p> The <span class="property">'box-direction'</span> CSS property
specifies the direction of the box.  It has values of <span
class="css">normal</span> and <span class="css">reverse</span>.  A
normal horizontal box lays out its children from left to right, and a
normal vertical box lays out its children from top to bottom.</p>

<p> Direction within nested boxes is inherited by default.  If
direction and orientation are omitted on the outermost box in a box
group, it is assumed to have a inline-axis orientation and normal
direction.</p>

<div class="example">

<pre class="xml">
&lt;box&gt;
     &lt;button&gt;Child 1&lt;/button&gt;
     &lt;button&gt;Child 2&lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img src="images/box1.gif" alt="">

</div>

<p>When items are placed in a box without specifying any additional
information about their size, then the box sizes the children
<dfn>intrinsically</dfn>. In other words, the box makes each child
only as big as it needs to be. 

<p class="example">Notice that in the above example, the two buttons
are only as big as they need to be to display all of their text.</p>

<p>Widths can be specified for items inside a horizontal box. When an
object specifies its width in CSS, it is telling the box that it would
like to be that width. Similarly, heights can be specified in CSS for
items in a vertical box.  An unnested box placed inside an enclosing
CSS block will obey all the usual sizing rules of the block.  For
example, setting the width of an unnested box to 100% ensures that the
box is the maximum width permitted by the enclosing CSS block
(ignoring any margins, border and padding on that box).  </p>

<div class="example">

<pre class="xml">
&lt;box&gt;
     &lt;button style="width: 200px"&gt;Child 1&lt;/button&gt;
     &lt;button style="width: 100px"&gt;Child 2&lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img src="images/box2.gif" alt="">

<p>In this example, the first child is twice as wide as the second
child, since it specified a width of 200 pixels. The second child
specified a width of only 100 pixels.</p>

</div>

    <table class="propdef">
      <caption>
        <dfn>'box-sizing'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>content-box | padding-box | border-box | margin-box</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>content-box</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>box and block elements <!--[and generated content and ... XXX]--></td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>The <span class="property">'box-sizing'</span> property determines
how the <span class="property">'height'</span> and <span
class="property">'width'</span> properties should be interpreted.</p>

<dl>
<dt>content-box
<dd>This is the behavior of width and height as specified by CSS2. The specified width and height apply to the width and height respectively of the content box of the element. The padding and border of the element are laid out and drawn outside the specified width and height. 
<dt>padding-box
<dd>The specified width and height on this element determine the padding box of the element. That is, any padding specified on the element is laid out and drawn inside this specified width and height. The content width and height is computed by subtracting padding widths of the respective sides from the specified width and height. The padding-box size is the dimension used for the containing block of absolutely positioned blocks.
<dt>border-box
<dd>The specified width and height on this element determine the border box of the element. That is, any padding or border specified on the element is laid out and drawn inside this specified width and height. The content width and height is computed by subtracting the border and padding widths of the respective sides from the specified width and height. This is the behavior of width and height as commonly implemented by legacy HTML user agents for replaced elements and input elements.
<dt>margin-box
<dd>The specified width and height on this element determine the margin box of the element. That is, any margin, padding or border specified on the element is laid out and drawn inside this specified width and height. The content width and height is computed by subtracting the margin, border and padding widths of the respective sides from the specified width and height. When margins collapse, the height (or width, for horizontal block layout) is calculated before applying any collapsing algorithms. Authors should be aware of this, as it can lead to unexpected results.
</dl>

<p>Note that despite the name of the property, <span
class="property">'box-sizing'</span> applies to block and table-level
elements as well as boxes.</p>


<h2>Alignment</h2>



    <table class="propdef">
      <caption>
        <dfn>'box-align'</dfn>
      </caption>
      <tbody>
        <tr>

          <td><em>Value:</em></td>
          <td>start | end | center | baseline | stretch</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>stretch</td>
        </tr>

        <tr>
          <td><em>Applies to:</em></td>
          <td>box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>

        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>

          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>

    </table>

<p>The <span class="property">'box-align'</span> property specifies
how a box's children are aligned along the orientation of the box. Its
possible values are <span class="css">start</span>, <span
class="css">end</span>, <span class="css">center</span>, <span
class="css">baseline</span>, and <span class="css">stretch</span>. The
initial value is <span class="css">stretch</span>.</p>

<p>The following rules should be applied when determining the size of
children inside boxes in the dimension opposite to the orientation of
the box. Exceptions to these rules are noted under each of the
possible values of 'box-align' below.</p>

<p>All normal flow children of boxes will attempt to satisfy the
following sizing equation when placed inside vertical boxes if and
only if at least one of the specified values is auto:</p>

<p>'margin-left' + 'border-left-width' + 'padding-left' + 'width' +
'padding-right' + 'border-right-width' + 'margin-right' = width of
containing box</p>

<p>and a similar equation for height when placed inside horizontal boxes:</p>

<p>'margin-top' + 'border-top-width' + 'padding-top' + 'height' + 
'padding-bottom' + 'border-bottom-width' + 'margin-bottom' = height of 
containing box</p>

<p>If all the values in the equation are specified (i.e., if there are
no auto values), then the equation above does not apply, and the
specified values should be used. If applying the equation results in a
negative value for width/height, then that value is set to 0, and
those values should be used.</p>

<p>If the value of <span class="property">'box-align'</span> is <span
class="css">stretch</span>, then elements obey the sizing rules
specified above. This is the default value. If both width/height and
one or both margin values are 'auto', the 'auto' margins are set to 0
and the equation is used to find a value for width/height. Otherwise,
if both margins are 'auto', then the equation is solved under the
additional constraint that the two margins must get the same
value. If only one value is 'auto', the equation is solved.</p>

<p>If the value of <span class="property">'box-align'</span> is start,
center, baseline, or end, and a value of 'auto' is specified for
width/height, then the intrinsic size of the element should be used.
If a margin has the value of auto, then the equations above should be
used. If both margins have a value of auto then the above equations
should be used, with the space being divided evenly between the two
margins. These rules are similar to the rules for replaced elements
inside blocks.</p>

<p>Once the sizes are computed, the margin boxes of the elements
should be aligned at the start, center, baseline, or end of the box.
For horizontal boxes, this typically means the top, center, baseline
or bottom of the box. For vertical boxes, the start and end alignments
depend upon the direction. For LTR, the elements would be aligned at
the left side of the box for start and the right side for end. For
RTL, the elements would be aligned at the right of the box for start
and the left side for end.</p>

<p>If the value of 'box-align' is <span class="css">baseline</span>,
then the elements should then be aligned along their baselines. For
block flows, use the baseline of the first non-empty line box located
within the element. For tables, use the baseline of the first cell.
The children, once aligned on their baselines, should then be placed
into the box so that the child with the earliest extent margin has its
before margin edge flush with the before edge of the box's content
area (i.e. the children, once aligned on their baselines, should then
be placed into the box so that the child with the highest top margin
has its top margin edge flush with the top edge of the box's content
area). If the box does not have an 'auto' height, overflow will always
be on the after (bottom) edge.</p>

<p>If the box orientation is block-axis, then <span
class="css">baseline</span> is interpreted as <span
class="css">center</span>.</p>


<h2>Flex</h2>

<p class="issue">[This section needs to more accurately explain how it
works with box-lines, box-align, etc.]</p>

<p>Items in boxes fall into two categories: <dfn>flexible</dfn> and
<dfn>inflexible</dfn>. Inflexible objects will not grow, even when
there is extra space left over in the box.</p>

<div class="example">

<pre class="xml">
&lt;box style="width: 400px;"&gt;
     &lt;button style="width: 200px"&gt;Child 1&lt;/button&gt;
     &lt;button style="width: 100px"&gt;Child 2&lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img src="images/box3.gif" alt="">

</div>

    <table class="propdef">
      <caption>
        <dfn>'box-flex'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>&lt;number&gt;</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>0.0</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>children of box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>An object becomes flexible when the <span
class="css">box-flex</span> CSS property is specified for an element.
<span class="css">box-flex</span> has a floating point value
representing the flexibility of the object.  Its default value is 0,
which indicates that the object is inflexible.  Objects that are
flexible can shrink or grow as the box shrinks and grows. Whenever
there is extra space left over in a box, the flexible objects are
expanded to fill that space.  All flex is relative. For example, a
child with a flex of 2 is twice as flexible as a child with a flex of
1.</p>

<div class="example">

<pre>
&lt;box style="box-orient: vertical; height: 200px"&gt;
     &lt;button&gt;Cat&lt;/button&gt;
     &lt;button style="box-flex: 1"&gt;Piranha&lt;/button&gt;
     &lt;button&gt;Antidisestablishmentarianism&lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img alt="" src="images/box5.gif">

<p>In the above example, the box is 200 pixels tall, which is more
than enough room for the three buttons. Because the first and third
buttons are inflexible, they remain the same size as in the previous
example. The second button is specified as being flexible, and because
it is the only flexible object in the box, it receives all of the
extra space.</p>

</div>

<p>When several objects in a box are flexible, the extra space is
divided among the objects based on how flexible they are. The box
determines how much space to give an object by adding up the flex
values on all of its children. An object gets an amount of extra space
equal to the percentage of flex that it is responsible for.</p>

<div class="example">

<p>For example, if two objects have a flex of 1, then after both
objects are given their preferred sizes, the first object gets 1/(1+1)
= 1/2 of the extra space, and the second object also gets 1/2 of the
extra space.</p>

<pre>
&lt;box style="box-orient: vertical; height: 200px"&gt;
     &lt;button style="box-flex: 1"&gt;Cat&lt;/button&gt;
     &lt;button style="box-flex: 1"&gt;Piranha&lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img src="images/box6.gif" alt="">

</div>

<div class="example">

<p>Here is another example using objects with different flex values.</p>

<pre class="xml">
&lt;box style="box-orient: vertical; height: 200px"&gt;
     &lt;button style="box-flex: 1"&gt;Cat&lt;/button&gt;
     &lt;button style="box-flex: 2"&gt;Piranha&lt;/button&gt;
     &lt;button style="box-flex: 3"&gt;Canary&lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img src="images/box7.gif" alt="">

</div>


<h2>Preferred, Minimum, and Maximum Sizes</h2>

<p>For inflexible objects, the specification of the <span
class="property">'width'</span> and <span
class="property">'height'</span> CSS properties can be used to specify
an object's size. If these properties are omitted (and thus have tho
value <span class="css">auto</span>), an inflexible object will be
sized intrinsically, i.e., it will be given the minimum amount of
space required to lay out the item without unnecessary line breaks
(also known as the <em>maximum intrinsic width</em>).</p>

<div class="example">

<pre>
&lt;outer-box&gt;         outer-box { display: box; width: 12em;
     &lt;inner-box/&gt;               box-orient: horizontal; }
     &lt;inner-box/&gt;   inner-box { display: box; width: 10em; }
&lt;/outer-box&gt;
</pre>

<p>This would result in the two inner boxes overflowing the outer box
on the right hand side by 8em.</p>

</div>

<p>The <span class="property">'overflow'</srpan> property controls how
boxes are rendered when their contents are wider (or taller) than
themselves.</p>

<p>With flexible objects, there are more options. Just as with
inflexible objects, the <span class="property">'width'</span> and
<span class="property">'height'</span> properties can be used to
specify a preferred size. However, unlike inflexible objects, this
size is only a guideline.  A flexible object will stretch as
necessary. It will also shrink if required until it can shrink no more
(e.g., when the object hits its minimum required intrinsic size).</p>

<div class="example">

<pre>
&lt;box style="box-orient: vertical"&gt;
     &lt;button style="box-flex: 1; height:1000px"&gt;
        Cat
     &lt;/button&gt;
&lt;/box&gt;
</pre>

<p><img alt="" src="images/box9.gif">

<p><img alt="" src="images/box8.gif">

<p>In the above example the box is shrinking, and despite the
specification of 1000 pixels as the preferred height, the button,
because it is flexible, shrinks with the box. It continues to shrink
until the minimum required height for the button is reached. After
that, the button can shrink no further. If the box were to continue to
shrink, the button's contents would be clipped, and a portion of the
button would no longer be visible.</p>

<p>Items within a box can therefore have their own notions of minimum
and maximum intrinsic sizes. In the above example, the button could
not get any smaller than the minimum height required to draw its
borders and its text.</p>

</div>

<p>For a more fine-grained control of minimum and maximum sizes, the
<span class="property">'min-width'</span>, <span
class="property">'min-height'</span>, <span
class="property">'max-width'</span>, and <span
class="property">'max-height'</span> CSS properties can be used. When
specified, these properties provide extra information to the box as it
shrinks and grows the object in question.</p>

<div class="example">

<p>In a horizontal box, for example, if a minimum width is specified,
then the flexible object will not be allowed to shrink below that
width. If a maximum width is specified, then the flexible object will
not be allowed to grow beyond that width.</p>

<pre class="xml">
&lt;box style="box-orient: vertical"&gt;
    &lt;iframe style="box-flex: 1; min-height:100px; max-height:300px; 
                   width:300px" 
            src="http://www.mozillazine.org/"/&gt;
&lt;/box&gt;
</pre>

<p><img alt="" src="images/box10.jpeg">

<p><img alt="" src="images/box11.jpeg">

<p>The above example demonstrates the use of <span
class="property">'min-height'</span> and <span
class="property">'max-height'</span> within a vertical box. In the
first image the box has been shrunk until it is smaller than 100
pixels in height. Because the iframe has a specified minimum height of
100 pixels, it is not allowed to shrink any further, and so as the box
falls below 100 pixels, the iframe gets clipped, and portions of it
become invisible.</p>

<p>In the second image, the box has been expanded past 300 pixels in
height. Even though the box is getting bigger, the extra space is not
being consumed by the iframe, because its maximum height of 300 pixels
has been reached. It will grow no further.</p>

</div>

<div class="example">

<p>Below is another example illustrating min and max width.</p>

<pre class="xml">
&lt;box&gt;
     &lt;button style="box-flex: 1; max-width: 50px"&gt;Child 1&lt/button&gt;
     &lt;button style="box-flex: 1; min-width: 50px"&gt;Child 2&lt/button&gt;
&lt;/box&gt;
</pre>

<p><img alt="" src="images/box12.gif">

<p>In the above example, the box has been stretched so that it is very
wide. The first child has a maximum width of 50 pixels, and it divides
the excess space equally with the second child until its maximum width
has been reached. After that, since it is not allowed to grow any
further, the remaining space all goes to the second child.</p>

</div>



<h2>Packing Controls</h2>

    <table class="propdef">
      <caption>
        <dfn>'box-pack'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>start | end | center | justify</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>start</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>When all of the items within a box are inflexible or when all
objects have grown to their maximum sizes and can stretch no further,
extra space may be left over in the box.  An additional property can
be used to dictate how any additional space should be distributed
between objects.  The CSS property <span
class="property">'box-pack'</span> has the possible values of <span
class="css">start</span>, <span class="css">end</span>, <span
class="css">center</span> and <span class="css">justify</span>.  The
default is <span class="css">justify</span>.

<div class="example">
<pre class="xml">
&lt;box style="box-align: center; box-pack: center; 
                 width: 300px; height: 300px"&gt;
     &lt;button&gt;centered&lt/button&gt;
&lt;/box&gt;
</pre>

<p><img alt="" src="images/box13.gif">

</div>

<p>
In the above example, the button is centered within the box using the <span class="property">'box-align'</span>
and <span class="property">'box-pack'</span> properties together.  The former centers the button vertically, and
the latter centers the button horizontally.


<h2>Flex Groups</h2>

    <table class="propdef">
      <caption>
        <dfn>'box-flex-group'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>&lt;integer&gt;</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>1</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>children of box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>Flexible objects can be assigned to <dfn>flex groups</dfn> using
the <span class="css">'box-flex-group'</span> property.  This property
is a natural number value (with 1 being the first flex group).  The
default value is 1.</p>

<p>When a box needs to expand flexible objects, it will expand all
objects in the lowest-numbered flex group first.  Only when all
objects have hit their maximum sizes will objects from the next flex
group be processed.  Similarly, when a box shrinks objects, it starts
shrinking objects in the highest specified flex group, moving to
lower-numbered groups as objects begin hitting their minimum
sizes.</p>

<p>The scope of this property is the box (the parent element).</p>

<h2>Multiple Lines</h2>

    <table class="propdef">
      <caption>
        <dfn>'box-lines'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>single | multiple</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>single</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>By default a horizontal box will lay out its children in a single
row, and a vertical box will lay out its children in a single column.
This behavior can be changed using the box-lines property. The default
value is single, which means that all objects will always be placed in
a single row or column, and any objects that don't fit will simply be
considered overflow.</p>

<p>If a value of multiple is specified, however, then the box is
allowed to expand to multiple lines (that is, multiple rows or
columns) in order to accommodate all of its children. The box must
attempt to fit its children on as few lines as possible by shrinking
all objects down to their minimum widths if necessary.</p>

<p>If the children still do not fit on a line after being reduced to
their minimum widths, then children are moved one by one onto a new
line, until the objects remaining on the previous line fit. This
process can repeat to an arbitrary number of lines. If a line contains
only a single object that doesn't fit, then the object should stay on
that line and overflow out of the box.</p>

<p>One the number of lines has been determined, objects with box-flex
specified flex up to their max widths in an attempt to fill the
remaining space on the lines. Each line computes flexes independently,
so only objects on that line are considered when evaluating flex and
flex-groups.</p>

<h2>Ordinal Groups</h2>

    <table class="propdef">
      <caption>
        <dfn>'box-ordinal-group'</dfn>
      </caption>
      <tbody>
        <tr>
          <td><em>Value:</em></td>
          <td>&lt;integer&gt;</td>
        </tr>
        <tr>
          <td><em>Initial:</em></td>
          <td>1</td>
        </tr>
        <tr>
          <td><em>Applies to:</em></td>
          <td>children of box elements</td>
        </tr>
        <tr>
          <td><em>Inherited:</em></td>
          <td>no</td>
        </tr>
        <tr>
          <td><em>Percentages:</em></td>
          <td>n/a</td>
        </tr>
        <tr>
          <td><em>Media:</em></td>
          <td>visual</td>
        </tr>
        <tr>
          <td><em>Computed Value:</em></td>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

<p>Children of a box element can be assigned to <dfn>ordinal
groups</dfn> using the <span class="css">'box-ordinal-group'</span>
property. This property is a natural number value. The default value
is 1.</p>

<p>Ordinal groups can be used in conjunction with the 'box-direction'
property to control the order in which objects appear within a box.
When the specified direction is normal, a box will start with the
lowest numbered ordinal group and ensure that those objects appear to
the left (for horizontal boxes) or at the top (for vertical boxes) of
the container. Objects with the same ordinal group are flowed in the
order they were declared in the content model. An object of a lower
ordinal group will always appear before an object of a higher ordinal
group. In the reverse direction, the highest ordinal group appears
first, and the container positions objects from the highest group down
to the lowest.</p>

<h2>Visibility</h2>

<p>Items within a box can use the CSS <span
class="property">'visibility'</span> property to render themselves
invisible.  Boxes behave like tables in that the value <span
class="css">collapsed</span> can be used to specify that an item
within a box should not take up any space at all (just like <span
class="css">display:none</span>).  Flexible objects expand as needed
to fill any space left open by a collapsed item.</p>


<h2>Overflow</h2>

<p>Items within a box may use the CSS <span
class="property">'overflow'</span> property to obtain horizontal and
vertical scrollbars as needed.  Flexible objects that shrink below
their minimum intrinsic size can display scrollbars using the <span
class="css">auto</span> value.  If overflow is <span
class="css">hidden</span>, the object will be clipped
instead. <em>Note that the initial value is <span
class="css">visible</span>, which is typically not the preferred
effect in user interfaces.</em></p>
<!--
<p class="issue">[Editor's Note: XXX what about 'resizer'??]</p>
-->

<h2 id="inlinesAndBlocks">Inlines and Blocks</h2>

<p>Like with 'block' elements, all children of 'box' elements are
block-level. If inline-level elements are nested inside boxes, they
get wrapped in an anonymous block which then takes part in the box
layout.</p>

<p>Boxes size the blocks inside them in much the same way as blocks.
In particular, <span class="css">width:auto</span> means that the box
will fill the box's containing block. Similarly, the <span
class="property">'min-width'</span>, <span
class="property">'min-height'</span>, <span
class="property">'max-width'</span>, and <span
class="property">'max-height'</span> CSS properties act the same on
boxes as on blocks.</p>

<!--
<h2>Grids</h2>

<p>The box can be extended into two dimensions through the use of a
<dfn>grid</dfn> element.  A grid consists of two !!XXX!!, the first
defining <dfn>columns</dfn> and the second defining
<dfn>rows</dfn>. (This is conceptually similar to tables, but
significantly simpler in practice.) Conceptually, the grid is a stack
that consists of two layers, a bottom layer that contains the columns,
and a top layer that contains the rows.  (The rows can be thought of as
having a higher CSS z-index than the columns, although this is only a
conceptual model, as <span class="property">'span'</span> only applies
to positioned elements.)</p>

<p>All columns and rows in a grid must be specified explicitly.
(Grids are thus simplified by not supporting dynamic discovery of the
number of columns the way HTML tables do).</p>

<p class="issue">[Issue: That's great, but we need a major explanation
of error handling here! Implied elements, anyone?]</p>

<p>The following additional values for the CSS display property allow
grids to be used from CSS: <span class="css">grid</span>, <span
class="css">inline-grid</span>, <span class="css">grid-group</span>
and <span class="css">grid-line</span>.  The <span
class="css">grid-group</span> and <span class="css">grid-line</span>
properties, when used in conjunction with the <span
class="css">box-orient</span> property define the <span
class="css">rows</span>, <span class="css">columns</span>, <span
class="css">row</span> and <span class="css">column</span> elements.

XXX HOW?!?!?!

<p>Boxes or nested grids make up the cells of the grid, and they can
be placed within either a column or a row. Note that with this layout
it is possible for two objects to be placed within the same (i,j)
position of the grid, one in the bottom columns layer, and the other
in the rows layer.

<p>The <span class="property">'box-align'</span> and <span
class="property">'box-flex'</span> properties, when specified on a row
or a column, apply to all the cells in the row or column.  These
properties are ignored when specified on objects inside a row or
column.  The properties on the row and column override.  Similarly,
widths and heights and min/max-widths and heights can be specified on
rows and columns and will override anything specified on cells.

<p> Note that <span class="property">'box-pack'</span> is unnecessary
in a grid, since <span class="property">'box-align'</span> can be
specified on both the row and column to allow for full control of a
cell's positioning.

<div class="example">

<pre>
&lt;grid style="width:300px; height:300px"&gt;
    &lt;columns&gt;
        &lt;column style="width: 0; box-flex: 1"/&gt;
        &lt;column style="width: 0; box-flex: 1"/&gt;
    &lt;/columns&gt;
    &lt;rows&gt;
        &lt;row style="height: 0; box-flex: 1"&gt;
            &lt;button&gt;Child 1,1&lt;/button&gt;
            &lt;button&gt;Child 1,2&lt;/button&gt;
        &lt;/row&gt;
        &lt;row style="height: 0; box-flex: 1"&gt;
            &lt;button&gt;Child 2,1&lt;/button&gt;
            &lt;button&gt;Child 2,2&lt;/button&gt;
        &lt;/row&gt;
    &lt;/rows&gt;
&lt;/grid&gt;
</pre>

<p><img src="images/box14.jpg" alt="">

<p>The stylesheet used with this example is as follows:</p>

<pre>
  grid { display: grid; }
  columns { display: XXX; }
  rows { display: XXX; }
  column { display: XXX; }
  row { display: XXX; }
  button { display: box; }
</pre>

</div>

<p>The rows and columns elements can flex and overflow just as other
boxes can, allowing for scrolling grids in either the horizontal or
vertical direction (e.g., a spreadsheet).

<p>Rows and columns elements can be nested and used in conjunction
with the <span class="property">'visibility'</span> (e.g., <span
class="css">collapsed</span>) and <span
class="property">'overflow'</span> (e.g., <span
class="css">auto</span>) properties to easily obtain a multi-column
tree widget with a scrolling body.

<p> Because the two children of the grid element are just boxes, they
can contain content other than rows and columns.  By default this
content will be stretched across the whole grid, e.g., a text area
placed in between two rows would stretch to fill the entire width of
the grid.  By allowing other objects within the rows and columns, many
use cases involving spans become unnecessary.  Spans, therefore, are
not supported in grids.

-->

    <h2>Examples</h2>

    <p>This section will include some sample bindings and maybe even the source to one or two
    complete dialog boxes.</p>

    <hr title="Separator from footer">

    <h2 id="profiles">Profiles</h2>

    <p>[This section explains what parts of this module belong in which profiles.]</p>

    <p>We have at least 4 profiles: level 1, level 2, level 3 and full</p>

    <h2 class="no-num"><a name="acknowledgments">Acknowledgments</a></h2>

    <p>[This section will contain acknowledgments]</p>
<!--
    <p>Mac HIG. XXX</p>
-->

    <h2 class="no-num" id="references">References</h2>
    <h3 class="no-num">Normative references</h3>
    <!--normative-->
    <h3 class="no-num">Other references</h3>
    <!--informative-->

<!--
      <li>[ACTIONS] <a name="ACTIONS">Vidur Apparao,</a> Brendan Eich, Ramanathan Guha, Nisheeth
      Ranjan ; "<em>Action Sheets : a Modular Way of Defining Behavior for XML and HTML</em>",
      Netscape Communications Corp., submission to the W3C, June 19 1998 (<a href=
      "http://www.w3.org/TR/NOTE-AS"><code class=
      "xml">http://www.w3.org/TR/NOTE-AS</code></a>)</li>

      <li>[BECSS] <a name="BECSS">Vidur Apparao,</a> Daniel Glazman, Chris Wilson ; "
      <em>Behavioral Extensions to CSS</em> ", W3C Working Draft 04 Aug 1999 (<a href=
      "http://www.w3.org/TR/1999/WD-becss-19990804"><code class=
      "xml">http://www.w3.org/TR/1999/WD-becss-19990804</code></a>)</li>

      <li>[HTC] <a name="HTC">Chris Wilson;</a> "<em>HTML Components, Componentizing Web
      Applications</em>", Microsoft, submission to the W3C, October 23 1998 (<code class="xml"><a
      href=
      "http://www.w3.org/TR/1998/NOTE-HTMLComponents-19981023">http://www.w3.org/TR/NOTE-HTMLComponents-19981023</a></code>)</li>
-->

    <h2 class="no-num">Index</h2>
    <!--index-->
    <!-- Keep this comment at the end of the file
    Local variables:
    mode: sgml
    sgml-declaration:"~/SGML/HTML4.decl"
    sgml-default-doctype-name:"html"
    sgml-minimize-attributes:t
    sgml-nofill-elements:("pre" "style" "br")
    sgml-live-element-indicator:t
    End:
    -->
  </body>
</html>

