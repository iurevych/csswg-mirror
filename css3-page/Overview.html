<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html lang=en>
 <head>
  <title> CSS Paged Media Module Level 3</title>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">

  <style type="text/css">
  .keyword { font-weight:bold }
  .equation { padding: 2% }
  table.equation {text-align:center}
  td, th { vertical-align: top }
  pre { font-size: 1em; }
  
  #margin-values { border-collapse: collapse; }  
  #margin-values td, 
  #margin-values th 
  { 
                padding: 0.2em; 
                border: thin solid black;
  }

  .property-list
  {
                border: 1px solid black;
                padding: .2em;
                margin-top: 2em;
  }
  
  .property-list td
  {
                border: 1px solid black;
                padding: .1em;
  }

  .editorial 
  { 
                display: block; 
                font-family: arial, helvetica, sans-serif;
      font-size: 80%;
      margin-left: .5in; 
      margin-right: 1in ; 
      padding: 0.125in;
      background: #FFFFDD ;
  }
     
  .editorial:after { content: "Ed."}
  .RFC2119 
  { 
                text-transform: lowercase; 
                font-style: italic 
  }
  
  em em.RFC2119 
  { 
                text-transform: lowercase; 
                font-style: normal 
  } 
     
  table.page-sizes 
  {
                border: thin solid; 
                margin-top: 1.5em;
  }
  table.page-sizes td 
  { 
                border: thin solid; 
                padding: .5em;
  }
  table.page-sizes th 
  { 
                border: thin solid; 
                padding: .5em; 
                background: #ffffaa;
  }

</style>

 <body>
  <div>
   <div class=head> <!--begin-logo-->
    <p><a href="http://www.w3.org/"><img alt=W3C height=48
     src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

    <h1>CSS Paged Media Module Level 3</h1>

    <h2 class="no-num no-toc" id=w3c-working>Editor's Draft 25 April 2009</h2>

    <dl>
     <dt>This version:

     <dd><a
      href="http://dev.w3.org/csswg/css3-page/">http://dev.w3.org/csswg/css3-page/</a></dd>
     <!-- <dd><a href="http://www.w3.org/TR/2009/ED-css3-page-20090425">http://www.w3.org/TR/2009/WD-css3-page-20090425</a></dd> -->

     <dt>Latest version:

     <dd><a
      href="http://www.w3.org/TR/css3-page">http://www.w3.org/TR/css3-page</a>

     <dt>Previous version:

     <dd><a
      href="http://www.w3.org/TR/2004/CR-css3-page-20040225/">http://www.w3.org/TR/2004/CR-css3-page-20040225/</a>

     <dt>Editors:

     <dd>Melinda Grant, Hewlett-Packard

     <dd>H&aring;kon Wium Lie, Opera Software

     <dd>Elika J. Etemad, Hewlett-Packard
    </dl>
    <!--begin-copyright-->
    <p class=copyright><a
     href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
     rel=license>Copyright</a> &copy; 2009 <a
     href="http://www.w3.org/"><acronym title="World Wide Web
     Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
     href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute
     of Technology">MIT</acronym></a>, <a
     href="http://www.ercim.org/"><acronym title="European Research
     Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a
     href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
     href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
     <a
     href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
     and <a
     href="http://www.w3.org/Consortium/Legal/copyright-documents">document
     use</a> rules apply.</p>
    <!--end-copyright--></div>

   <hr title="Separator for header">

   <h2 class="no-num no-toc" id=abstract>Abstract</h2>

   <p>This module describes the page model that partitions a flow into pages.
    It builds on the <a href="/TR/CSS21/box.html">Box model module</a> and
    introduces and defines the page model and paged media. It adds
    functionality for pagination, page margins, page size and orientation,
    headers and footers, widows and orphans, and image orientation. Finally
    it extends generated content to enable page numbering and running headers
    / footers.</p>
   <!-- "Status of this document" -->
   <h2 class="no-num no-toc" id=status>Status of this Document</h2>
   <!--begin-status-->
   <p>This is a public copy of the editors' draft. It is provided for
    discussion only and may change at any moment. Its publication here does
    not imply endorsement of its contents by W3C. Don't cite this document
    other than as work in progress.</p>

   <p>The (<a
    href="http://lists.w3.org/Archives/Public/www-style/">archived</a>)
    public mailing list <a
    href="mailto:www-style@w3.org">www-style@w3.org</a> (see <a
    href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
    discussion of this specification. When sending e-mail, please put the
    text &#8220;css3-page&#8221; in the subject, preferably like this:
    &#8220;[<!---->css3-page<!---->] <em>&hellip;summary of
    comment&hellip;</em>&#8221;</p>

   <p>This document was produced by the <a href="/Style/CSS/members">CSS
    Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

   <p>This document was produced by a group operating under the <a
    href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
    Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
    rel=disclosure>public list of any patent disclosures</a> made in
    connection with the deliverables of the group; that page also includes
    instructions for disclosing a patent. An individual who has actual
    knowledge of a patent which the individual believes contains <a
    href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with <a
    href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of
    the W3C Patent Policy</a>.</p>
   <!--end-status-->
   <p>This document contains the <abbr title="Cascading Style
    Sheets">CSS3</abbr> Paged Media Module W3C Last Call <a
    href="/2005/10/Process-20051014/tr.html#RecsWD">Working Draft</a> of 25
    April 2009. The Last Call period ends on <span class=fudge>TBD</span>.</p>

   <p>Relative to the previous Last Call Working Draft, this version
    incorporates changes to the formerly named &lsquo;<code
    class=property>fit</code>&rsquo; and &lsquo;<code
    class=property>fit-position</code>&rsquo; properties; they are renamed to
    &lsquo;<code class=property><a
    href="#propdef-image-fit">image-fit</a></code>&rsquo; and &lsquo;<code
    class=property><a
    href="#propdef-image-posn">image-position</a></code>&rsquo; and redefined
    to enable additional use cases. The margin-box sizing algorithm has been
    reworded to be a bit simpler, and many miscellaneous clarifications and
    editorial improvements have been incorporated.</p>

   <p>Features at-risk (may be removed if they lack implementor interest):</p>

   <ul>
    <li>image-fit

    <li>image-position

    <li>comma-separated page selectors
   </ul>

   <p>Expected next revision to this document is another LCWD, driven by the
    change in definition of &lsquo;<code class=property><a
    href="#propdef-image-fit">image-fit</a></code>&rsquo; and &lsquo;<code
    class=property><a
    href="#propdef-image-posn">image-position</a></code>&rsquo;.</p>

   <p>The <a href="lc2_issues.htm">Disposition of Comments</a> document
    contains the current issues list and responses to input received during
    this Last Call period.</p>

   <h2 class="no-num no-toc" id=contents>Table of Contents</h2>
   <!--begin-toc-->
   <ul class=toc>
    <li><a href="#intro"><span class=secno>1 </span>Introduction</a>

    <li><a href="#conformance"><span class=secno>2 </span>Conformance</a>

    <li><a href="#page-terms"><span class=secno>3 </span>Page Terminology</a>
     

    <li><a href="#page-box-page-rule"><span class=secno>4 </span>The Page
     Model</a>
     <ul class=toc>
      <li><a href="#content-outside-box"><span class=secno>4.1 </span>Content
       outside the page box</a>

      <li><a href="#painting"><span class=secno>4.2 </span>Page Backgrounds
       and Painting Order</a>

      <li><a href="#progression"><span class=secno>4.3 </span>Page
       Progression</a>
     </ul>

    <li><a href="#page-selector-and-context"><span class=secno>5 </span>Page
     Selectors and the Page Context</a>
     <ul class=toc>
      <li><a href="#at-page-rule"><span class=secno>5.1 </span>The @page
       Rule</a>

      <li><a href="#left-right-first"><span class=secno>5.2 </span>Page
       pseudo-classes: :left, :right, and :first</a>

      <li><a href="#syntax-page-selector"><span class=secno>5.3 </span>@page
       rule grammar</a>

      <li><a href="#cascading-and-page-context"><span class=secno>5.4
       </span>Cascading in the page context</a>
     </ul>

    <li><a href="#margin-boxes"><span class=secno>6 </span>Margin Boxes</a>
     <ul class=toc>
      <li><a href="#margin-at-rules"><span class=secno>6.1 </span>At-rules
       for margin boxes</a>

      <li><a href="#populating-margin-boxes"><span class=secno>6.2
       </span>Populating margin boxes</a>

      <li><a href="#margin-box-dimensions"><span class=secno>6.3
       </span>Computing Margin Box Dimensions</a>
       <ul class=toc>
        <li><a href="#max-margin-dimension"><span class=secno>6.3.1
         </span>Margin Box Layout Terminology</a>

        <li><a href="#margin-dimension"><span class=secno>6.3.2 </span>Margin
         Box Variable Dimension Computation Rules</a>

        <li><a href="#margin-constraints"><span class=secno>6.3.3
         </span>Margin Box Fixed Dimension Computation Rules</a>
       </ul>

      <li><a href="#margin-box-ex"><span class=secno>6.4 </span>Margin box
       examples</a>
     </ul>

    <li><a href="#page-properties"><span class=secno>7 </span>Page
     Properties</a>
     <ul class=toc>
      <li><a href="#page-based-counters"><span class=secno>7.1
       </span>Page-based counters</a>

      <li><a href="#margin-text-alignment"><span class=secno>7.2
       </span>Margin boxes and default values</a>
     </ul>

    <li><a href="#page-size"><span class=secno>8 </span>Page size</a>
     <ul class=toc>
      <li><a href="#page-size-prop"><span class=secno>8.1 </span>Page size:
       the &lsquo;<code class=property>size</code>&rsquo; property</a>
       <ul class=toc>
        <li><a href="#some-examples"><span class=secno>8.1.1 </span>Some
         examples:</a>

        <li><a href="#page-size-media-query"><span class=secno>8.1.2
         </span>Media Queries</a>
       </ul>

      <li><a href="#renderingpages"><span class=secno>8.2 </span>Rendering
       page boxes that do not fit a page sheet</a>

      <li><a href="#positioning-page-box"><span class=secno>8.3
       </span>Positioning the page box on the sheet</a>
     </ul>

    <li><a href="#page-breaks"><span class=secno>9 </span>Page Breaks</a>
     <ul class=toc>
      <li><a href="#pg-br-before-after"><span class=secno>9.1 </span>Break
       before/after elements: <span class=property>&lsquo;<code
       class=property>page-break-before</code>&rsquo;</span>, <span
       class=property>&lsquo;<code
       class=property>page-break-after</code>&rsquo;</span>, <span
       class=property>&lsquo;<code
       class=property>page-break-inside</code>&rsquo;</span></a>

      <li><a href="#using-named-pages"><span class=secno>9.2 </span>Using
       named pages: &lsquo;<code class=property>page</code>&rsquo;</a>

      <li><a href="#breaks-inside"><span class=secno>9.3 </span>Breaks inside
       elements: &lsquo;<code class=property>orphans</code>&rsquo;,
       &lsquo;<code class=property>widows</code>&rsquo;</a>

      <li><a href="#allowed-pg-brk"><span class=secno>9.4 </span>Allowed page
       breaks</a>

      <li><a href="#forced-pg-brk"><span class=secno>9.5 </span>Forced page
       breaks</a>

      <li><a href="#best-pg-brk"><span class=secno>9.6 </span>"Best" page
       breaks</a>
     </ul>

    <li><a href="#image-properties"><span class=secno>10 </span>Image
     Properties</a>
     <ul class=toc>
      <li><a href="#image-orientation"><span class=secno>10.1
       </span>Orienting an Image on the Page: the image-orientation
       property</a>

      <li><a href="#img-fit"><span class=secno>10.2 </span>The &lsquo;<code
       class=property>image-fit</code>&rsquo; Property</a>

      <li><a href="#img-fit"><span class=secno>10.3 </span>The &lsquo;<code
       class=property>image-position</code>&rsquo; Property</a>
     </ul>

    <li class=no-num><a href="#properties-list">Appendix A: Applicable CSS2.1
     Properties</a>
     <ul class=toc>
      <li class=no-num><a
       href="#properties-that-apply-within-the-page-co">Properties that apply
       within the page context</a>

      <li class=no-num><a
       href="#properties-that-apply-within-the-margin-">Properties that apply
       within the margin contexts</a>
     </ul>

    <li class=no-num><a href="#transfer-possibilities">Appendix B: Transfer
     Possibilities</a>

    <li class=no-num><a href="#references">References</a>
     <ul class=toc>
      <li class=no-num><a href="#normative-references">Normative
       References</a>

      <li class=no-num><a href="#informative-references">Informative
       References</a>
     </ul>
   </ul>
   <!--end-toc--> <!-- "Introduction" -->
   <h2 id=intro><span class=secno>1 </span>Introduction</h2>

   <p>Paged media (e.g., paper, transparencies, photo album pages, pages
    displayed on computer screens as printed output simulations) differ from
    <a href="/TR/CSS2/media.html#continuous-media-group">continuous media</a>
    in that the content of the document is split into one or more discrete
    static display surfaces. To handle pages, CSS3 Paged Media describes how:</p>

   <ul>
    <li><a href="#page-breaks">page breaks</a> are created and avoided;

    <li>the page properties such as size, orientation, margins, border, and
     padding are specified;

    <li>headers and footers are established within the page margins;

    <li>content such as page counters are placed in the headers and footers;
     and

    <li>orphans and widows can be controlled.
   </ul>

   <p>This module defines a <a href="#page-model">page model</a> that
    specifies how a document is formatted within a rectangular area, called
    the <a href="#page-box-page-rule">page box</a>, that has finite width and
    height.

   <p>Although CSS3 does not specify how user agents transfer page boxes to
    sheets, it does include certain mechanisms for telling user agents about
    the intended page sheet <a href="#page-size">size and orientation</a>. In
    the general case, CSS3 assumes that one page box will be transferred to
    one surface of similar size.</p>

   <p>All properties defined in this specification also accept the <a
    href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">inherit</a>
    keyword as their value, but for readability it has not been listed
    explicitly.

   <h2 id=conformance><span class=secno>2 </span>Conformance</h2>

   <p>All of the text in this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. The keywords
    "<em class=RFC2119>MUST</em>", "<em class=RFC2119>SHALL</em>", "<em
    class=RFC2119>MUST NOT</em>", "<em class=RFC2119>SHALL NOT</em>", "<em
    class=RFC2119>REQUIRED</em>", "<em class=RFC2119>SHOULD</em>", "<em
    class=RFC2119>SHOULD NOT</em>", "<em class=RFC2119>RECOMMENDED</em>",
    "<em class=RFC2119>MAY</em>", and "<em class=RFC2119>OPTIONAL</em>" when
    used in this document are to be interpreted as described in <cite>RFC
    2119</cite> <a href="#RFC2119"
    rel=biblioentry>[RFC2119]<!--{{!RFC2119}}--></a>. However, for
    readability, these words do not appear in all uppercase letters in this
    specification.</p>

   <p>Examples in this specification are introduced with the words "for
    example" or are set apart from the normative text with
    <code>class="example"</code>, like this:

   <div class=example>
    <p>This is an example of an informative example.</p>
   </div>

   <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

   <p class=note>Note, this is an informative note.</p>

   <h2 id=page-terms><span class=secno>3 </span>Page Terminology</h2>

   <p>The following terminology and accompanying diagrams help to describe
    the page model:</p>

   <dl>
    <dt id=page-sheet>Page sheet

    <dd><img alt="The corner of a page sheet with the non-printable area at
     the edge and printable area inside it" height=148 src=PageSheet.png
     style="float: right;" width=194>The page sheet is one surface of the
     physical medium. The illustration to the right shows a representation of
     the upper-left corner of a page sheet.

    <dt id=printable-area>Printable and non-printable areas

    <dd>The non-printable area is the area of a page sheet that a physical
     device such as a printer is not capable of marking reliably, usually due
     to the printer's paper handling mechanism. This value is printer
     dependent and is usually a small region along each edge of the page
     sheet. The printable area is the area of page sheet that a printer
     <em>is</em> capable of marking reliably. The size of the printable area
     is the size of the page sheet reduced by the size of the non-printable
     area. A user agent may not know the dimensions of this area for a
     particular printing device; but when its dimensions are known, user
     agents <em class=RFC2119>MAY</em> adjust the formatting of the document
     so that content falls within the printable area. How this adjustment is
     accomplished is device dependent within the constraints expressed in the
     sections <a href="#renderingpages">Rendering page boxes that do not fit
     a page sheet</a> and <a href="#content-outside-box">Content outside the
     page box</a>.

    <dt id=page-orientation>Page Orientation

    <dd>The page orientation is defined by comparing the length of the edges
     of a <a href="#page-box">page box</a>. The page box is a rectangle with
     two perpendicular edges called the long edge and the short edge. The
     length of the long edge is always greater than or equal to the length of
     the short edge. When the page box is square, the two edges are of the
     same length and either can be used as the long edge with the other being
     the short edge. This specification defines page orientations of
     &lsquo;<code class=property>portrait</code>&rsquo; and &lsquo;<code
     class=property>landscape</code>&rsquo;.

    <dt id=portrait>Portrait Orientation

    <dd>A portrait page's height is greater than or equal to its width.
     Horizontal elements are parallel to the short edge and vertical elements
     to the long edge.

    <dt id=landscape>Landscape Orientation

    <dd>A landscape page's width is greater than or equal to its height.
     Horizontal elements are parallel to the long edge and vertical elements
     to the short edge.

    <dt id=duplex-printing>Duplex Printing

    <dd>Duplex printing prints one page box per side of a page sheet and uses
     both sides of the page sheet. This module provides no ability to specify
     whether a document is duplex printed, but the concept of left and right
     pages is based on the assumption that the document is duplex printed,
     regardless of whether or not it actually is.

    <dt id=binding-edge>Binding Edge

    <dd>The binding edge is the edge of the page box that is toward the
     binding if the material is bound. The binding edge often has a larger
     margin than the opposite edge to provide for the space used by the
     binding. The binding edge can be any of the four edges. However, page
     sheets are customarily bound so that the binding edge of page boxes with
     portrait orientation is vertical. This module provides no method to
     specify the binding edge. In duplex printing, the binding edge is on
     opposite sides of the page box for the left and right pages.

    <dt id=facing-pages>Facing Pages

    <dd>Facing pages are two sequential pages such that when the document is
     duplex printed they are on separate sheets of paper. Typically, the
     earlier page will be the back side of one sheet and the later page will
     be the front side of another. They are usually laid out so that the
     binding edges of facing pages are vertical and adjacent when the pages
     are placed in their normal reading orientation.

    <dt id=left-page>Left Page

    <dd>A page that would be on the left if it is part of a pair of facing
     pages as typically laid out. Page layouts for documents using a
     left-to-right page progression have the earlier of the facing pages on
     the left. Rules specific to the left page can be specified using the
     <span class=css>&lsquo;<code class=css>:left</code>&rsquo;</span> page
     selector.

    <dt id=right-page>Right Page

    <dd>A page that would be on the right if it is part of a pair of facing
     pages as typically laid out. Page layouts for documents using a
     right-to-left page progression have the earlier of the facing pages on
     the right. Rules specific to the right page can be specified using the
     <span class=css>&lsquo;<code class=css>:right</code>&rsquo;</span> page
     selector.
   </dl>

   <h2 id=page-box-page-rule><span class=secno>4 </span>The Page Model</h2>

   <p>In the paged media formatting model, the document is transferred into
    one or more page boxes. The <dfn id=page-box>page box</dfn> is a
    specialized CSS box that maps to a rectangular print media surface, such
    as a page of paper. It is roughly analogous to the <a
    href="/TR/CSS21/visuren.html#viewport">viewport</a>. <img alt=""
    height=266 src=PageBox.png style="float: right;" width=267> As with other
    CSS <a href="/TR/CSS21/box.html">boxes</a>, a page box consists of
    margin, border, padding, and content areas. The containing block of the
    page box is the rectangle that coincides with its margin edges.

   <p>The content and margin areas of a page box have special functions:</p>

   <ul>
    <li>The content area of a page box is called the <dfn id=page-area>page
     area</dfn>. The content of the document is flowed into one or more page
     boxes. The page area acts as a container for all the boxes generated by
     the root element and its descendants that are laid out within a given
     page box. The edges of the page area on the first page establish the
     rectangle that is the initial <a
     href="/TR/CSS21/visudet.html#containing-block-details">containing
     block</a> of the document.

    <li>The margin area of a page box is divided into 16 <dfn
     id=margin-boxes0>margin boxes</dfn>. Each margin box has its own margin,
     border, padding and content areas. Margin boxes are typically used to
     display running headers and footers.
   </ul>

   <p>The properties of a <dfn id=page-box0>page box</dfn> are determined by
    properties <a href="/TR/CSS21/syndata.html#declaration">declared</a>
    within the <dfn id=page-context0><a href="#page-context">page
    context</a></dfn>, which is the <a
    href="/TR/CSS21/syndata.html#x14">declaration block</a> of the <code><a
    href="#page">@page</a></code> rule. Page boxes differ from other boxes in
    that the <span class=property>&lsquo;<code
    class=property>width</code>&rsquo;</span> and <span
    class=property>&lsquo;<code class=property>height</code>&rsquo;</span>
    properties do not apply to a page box. The size of the page box is
    specified using the <span class=property>&lsquo;<code class=property><a
    href="#size">size</a></code>&rsquo;</span> property in the page context.</p>

   <p>Declarations in the page context affect the page box and/or can inherit
    to the margin boxes, but they do not apply to or inherit into the
    document's root element or other content.</p>

   <h3 id=content-outside-box><span class=secno>4.1 </span>Content outside
    the page box</h3>

   <p>When formatting content in the page model, some content may end up
    outside the page box. For example, an element whose &lsquo;<code
    class=property>white-space</code>&rsquo; property has the value
    &lsquo;<code class=property>pre</code>&rsquo; can generate a box that is
    wider than the page box. As another example, when boxes are positioned
    absolutely or relatively, they may end up in "inconvenient" locations.
    For example, images may be placed on the edge of the page box or 100,000
    meters below the page box.</p>

   <p>A specification for the exact formatting of such elements lies outside
    the scope of this document. However, it is recommended that authors and
    user agents observe the following general principles concerning content
    outside the page box:</p>

   <ul>
    <li>
     <p>Content should be allowed slightly beyond the page box to allow pages
      to "bleed".

    <li>
     <p>User agents <em class=RFC2119>SHOULD</em> avoid generating a large
      number of content-empty pages to honor the positioning of elements
      (e.g., printing 100 blank pages is probably neither the author's nor
      the user's intent). A <dfn id=content-empty>Content-empty page</dfn> is
      a page box whose page area contains no printable content other than
      backgrounds and/or borders. A page box whose page area contains
      generated content, or content whose visibility is &lsquo;<code
      class=property>hidden</code>&rsquo;, or invisible content such as a
      zero-width space is not a content-empty page. On the other hand, a page
      containing only a background and/or borders and/or margin-box content
      <em>is</em> a content-empty page.

     <p class=note>Note, however, that generating a small number of empty
      page boxes is sometimes necessary to honor the <span
      class=css>&lsquo;<code class=property>left</code>&rsquo;</span> and
      <span class=css>&lsquo;<code class=property>right</code>&rsquo;</span>
      values for <span class=property>&lsquo;<code class=property><a
      href="#page-break-before">page-break-before</a></code>&rsquo;</span>
      and <span class=property>&lsquo;<code class=property><a
      href="#page-break-after">page-break-after</a></code>&rsquo;</span>.

    <li>
     <p>Authors <em class=RFC2119>SHOULD NOT</em> position elements in
      inconvenient locations just to avoid rendering them. Instead:

     <ul>
      <li>To suppress box generation entirely, set the <span
       class=property>&lsquo;<code
       class=property>display</code>&rsquo;</span> property to <span
       class=css>&lsquo;<code class=property>none</code>&rsquo;</span>.

      <li>To make a box invisible, set the <span class=property>&lsquo;<code
       class=property>visibility</code>&rsquo;</span> property.
     </ul>

    <li>
     <p>This specification does not define how boxes positioned outside the
      page box are handled. Possibilities include discarding them or creating
      page boxes for them at the end of the document.
   </ul>

   <h3 id=painting><span class=secno>4.2 </span>Page Backgrounds and Painting
    Order</h3>

   <p>When drawing a page of content, the page background and borders are
    painted first (underneath). Margin-boxes are painted over (on top of) the
    page box. The root element then paints the canvas and the document
    contents within the page padding box.</p>

   <p>The exact painting order of margin boxes is not specified, however it
    is <em class=RFC2119>recommended</em> that when margin boxes overlap,
    paint order should place center/middle margin boxes on top of corner
    margin boxes, which are in turn painted on top of other boxes. More
    precisely, in terms of the algorithm in <a
    href="http://www.w3.org/TR/CSS21/zindex.html">CSS2.1 Appendix E</a> the
    exact "tree order" of margin boxes is not defined, but it is recommended
    that center/middle boxes be after corner boxes, which should themselves
    be after other boxes.</p>

   <p>The UA may support the <code>z-index</code> property for margin boxes.
    In this case the root element, together with the canvas background and
    all of the document contents, are treated as a single element with a
    <code>z-index</code> value of &lsquo;<code class=css>0</code>&rsquo;: the
    margin boxes never interleave with parts of the document content, they
    may only paint in front of or behind the document content and its canvas.
    The page box itself generates a new stacking context and is treated as
    the parent of all the margin boxes as well as the document content. In
    other words, nothing ever paints behind the page box backgrounds or
    borders. Since the <code>position</code> property does not apply to
    margin boxes, <code>z-index</code> always affects margin boxes as if they
    were positioned elements regardless of the <code>position</code>
    property's value. <span class=issue>Mark this at-risk.</span></p>

   <h3 id=progression><span class=secno>4.3 </span>Page Progression</h3>

   <p>CSS distinguishes between left pages and right pages on all documents,
    whether they are printed duplex or not. Each left page is followed by a
    right page and vice versa. Left and right pages can be styled differently
    with the <a href="#left-right-first"><code>:left</code> and
    <code>:right</code> pseudo-classes</a>.

   <p>Whether the first page of a document is a left page or a right page
    depends on the page progression of the document. The <dfn
    id=page-progression>page progression</dfn> is the direction in which the
    printed pages of a document would be sequenced when laid out
    side-to-side. For example, English and horizontally-set Japanese
    typically progress from left to right, whereas Arabic and vertically-set
    Japanese pages typically progress from right to left. In documents with
    with a left-to-right page progression the first page of the document is a
    right page, and vice versa.</p>

   <p>The page progression direction is determined as follows:</p>

   <ul>
    <li>If text is laid out in horizontal lines, the page progression is the
     same as the inline progression.

    <li>If text is laid out in vertical lines, the page progression is the
     same as the block progression.
   </ul>

   <p>If the UA supports the &lsquo;<code
    class=property>direction</code>&rsquo; and &lsquo;<code
    class=property>block-progression</code>&rsquo; properties from the CSS 3
    Text Layout Module <a href="#CSS3TEXTLAYOUT"
    rel=biblioentry>[CSS3TEXTLAYOUT]<!--{{CSS3TEXTLAYOUT}}--></a>, it must
    determine whether the first page is a left or right page from the values
    of those properties on the root element.</p>

   <p>To explicitly force a document to begin printing on a left or right
    page, authors can <a href="#page-break-before">insert a page break
    before</a> the first generated box. The UA must suppress the first
    (empty) page(s) in this case (and the <code>:first</code> selector
    applies to the first printed page).</p>

   <h2 id=page-selector-and-context><span class=secno>5 </span>Page Selectors
    and the Page Context</h2>

   <h3 id=at-page-rule><span class=secno>5.1 </span>The @page Rule</h3>

   <p>Authors can specify various aspects of a page box, such as its
    dimensions, orientation, and margins, within an <a class=css
    href="#page">@page</a> rule. An <a class=css href="#page">@page</a> rule
    consists of the keyword <span class=css>&lsquo;<code class=css><a
    href="#page">@page</a></code>&rsquo;</span>, an <em
    class=RFC2119>OPTIONAL</em> page name followed with no intervening space
    by an <em class=RFC2119>OPTIONAL</em> page pseudo-class, and a block of
    declarations (said to be in the <dfn id=page-context>page context</dfn>).
    <a href="#margin-at-rules">Margin at-rules</a> may be interleaved with
    the declarations in the page context.

   <p>The <em class=RFC2119>OPTIONAL</em> page name and <em
    class=RFC2119>OPTIONAL</em> page pseudo-class constitute the <dfn
    id=page-selector>page selector</dfn>. The page selector specifies for
    which pages the declarations apply. In CSS3, page selectors can designate
    the first page of a document, all left pages, all right pages, or <a
    href="#using-named-pages">pages with specific names</a>. Multiple
    selectors may be combined with a comma (which may be preceded and/or
    followed by white space); in this case the &lsquo;<code class=css><a
    href="#page">@page</a></code>&rsquo; rule applies to pages that match any
    of the page selectors. (Note: this feature is at-risk.) If no page
    selector is given, then the &lsquo;<code class=css><a
    href="#page">@page</a></code>&rsquo; rule applies to all pages.</p>

   <p>Properties declared within the page context apply to the page box.</p>

   <p>If an error is encountered during the processing of a declaration block
    within a page or a margin context, the <a
    href="/TR/CSS21/syndata.html#parsing-errors">Rules for handling parsing
    errors</a> apply; that is, valid declarations within the block are
    applied.</p>

   <h3 id=left-right-first><span class=secno>5.2 </span>Page pseudo-classes:
    :left, :right, and :first</h3>

   <p>When printing double-sided documents, left and right pages are often
    formatted differently. This can be expressed through CSS pseudo-classes
    defined in the <a href="#page-context">page context</a>.</p>

   <p>All pages are automatically classified by user agents as either left
    pages or right pages. The <span class=css>&lsquo;<code
    class=css>:left</code>&rsquo;</span> and <span class=css>&lsquo;<code
    class=css>:right</code>&rsquo;</span> page pseudo-classes can be used to
    selectively apply rules to only the left or right pages, respectively.</p>

   <div class=example> The following example creates left and right binding
    edges using these pseudo-classes:
    <pre>
@page :left {
margin-left: 3cm;
margin-right: 4cm;
}

@page :right {
margin-left: 4cm;
margin-right: 3cm;
}
</pre>
   </div>

   <p>If different declarations have been given for left and right pages, the
    user agent <em class=RFC2119>MUST</em> honor these declarations even if
    the user agent does not transfer the page boxes to left and right sheets
    (i.e., a printer that only prints on one side of the medium must
    nevertheless produce correctly formatted output).</p>

   <p>Authors can also specify style for the first page of a document with
    the <span class=css>&lsquo;<code class=css>:first</code>&rsquo;</span>
    pseudo-class. Such style rules are applied only to the first printed page
    of a document.</p>

   <div class=example>
    <pre>
@page { margin: 2cm } /* All margins set to 2cm */

@page :first {
margin-top: 10cm /* Top margin on first page 10cm */
}
</pre>
   </div>

   <div class=example>
    <pre>
html {page-break-before: always;}
</pre>

    <p>For an XHTML document with a left-to-right page progression, the above
     style rule will cause the first page of the document to print on a
     &lsquo;<code class=css>:right</code>&rsquo; page</p>
   </div>

   <div class=note>
    <p><em><strong>Note.</strong> Adding declarations to the <span
     class=css>&lsquo;<code class=css>:left</code>&rsquo;</span> or <span
     class=css>&lsquo;<code class=css>:right</code>&rsquo;</span>
     pseudo-class does not necessarily influence whether the document comes
     out of the printer double- or single-sided (which is outside the scope
     of this specification).</em></p>
   </div>

   <div class=note>
    <p><em><strong>Note.</strong> Future versions of CSS may include other
     page pseudo-classes.</em></p>
   </div>

   <h3 id=syntax-page-selector><span class=secno>5.3 </span>@page rule
    grammar</h3>

   <p>The syntax for the @page rule is a specialization of the generic
    at-rule defined by CSS 2.1. This grammar extends the at-rule syntax to
    allow @page rules nested inside @media rules. User agents <em
    class=RFC2119>MUST</em> adhere to the following grammar:</p>

   <p>See <a href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>,
    Section 4.1.1 and Appendix G for the expansion of missing productions:</p>

   <p id=specializatons-of-ATKEYWORD> All new lexical tokens are
    specializations of the ATKEYWORD lexical token:</p>

   <pre class=lexical>
PAGE_SYM              ::= "@page"
TOPLEFTCORNER_SYM     ::= "@top-left-corner"
TOPLEFT_SYM           ::= "@top-left"
TOPCENTER_SYM         ::= "@top-center"
TOPRIGHT_SYM          ::= "@top-right"
TOPRIGHTCORNER_SYM    ::= "@top-right-corner"
BOTTOMLEFTCORNER_SYM  ::= "@bottom-left-corner" 
BOTTOMLEFT_SYM        ::= "@bottom-left"
BOTTOMCENTER_SYM      ::= "@bottom-center"
BOTTOMRIGHT_SYM       ::= "@bottom-right"
BOTTOMRIGHTCORNER_SYM ::= "@bottom-right-corner"
LEFTTOP_SYM           ::= "@left-top"
LEFTMIDDLE_SYM        ::= "@left-middle"
LEFTBOTTOM_SYM        ::= "@left-bottom"
RIGHTTOP_SYM          ::= "@right-top"
RIGHTMIDDLE_SYM       ::= "@right-middle"
RIGHTBOTTOM_SYM       ::= "@right-bottom"

<span id=syntax-prod-media>media</span> : 
     MEDIA_SYM S* medium [ COMMA S* medium ]* LBRACE S* [ page | ruleset ]* '}' S*
     ;

<a href="#page" id=syntax-prod-page>page</a> :
     PAGE_SYM S* IDENT? S* pseudo_page? S* 
     '{' S* [ margin_box | ruleset ]? [ ';' S* [ margin_box | ruleset ]? ]* '}' S*
     ;
<span class=issue>Space should not be allowed between name and pseudo.</span>
<span id=syntax-prod-pseudo-page>pseudo_page</span> :
     ':' [ "left" | "right" | "first" ]
     ;

<span id=syntax-prod-margin>margin_box</span> :
     margin_sym S* '{' ruleset* '}' S*
     ;

<span id=syntax-prod-margin-sym>margin_sym</span> :
     TOPLEFTCORNER_SYM | 
     TOPLEFT_SYM | 
     TOPCENTER_SYM | 
     TOPRIGHT_SYM | 
     TOPRIGHTCORNER_SYM |
     BOTTOMLEFTCORNER_SYM | 
     BOTTOMLEFT_SYM | 
     BOTTOMCENTER_SYM | 
     BOTTOMRIGHT_SYM |
     BOTTOMRIGHTCORNER_SYM |
     LEFTTOP_SYM |
     LEFTMIDDLE_SYM |
     LEFTBOTTOM_SYM |
     RIGHTTOP_SYM |
     RIGHTMIDDLE_SYM |
     RIGHTBOTTOM_SYM 
     ;
</pre>

   <p id=page-selector-syntax-restrict> The value &lsquo;<code
    class=property>auto</code>&rsquo; is not a valid page name and must be
    treated as matching nothing.

   <div class=example>
    <p>The following are examples of page selectors (declaration block
     intentionally left blank)</p>

    <pre>
@page { ... }
@page :left { ... }
@page :right { ... }
@page LandscapeTable { ... }
@page CompanyLetterHead:first { ... } /*  identifier and pseudo page. */
@page:first { ... };
</pre>

    <p>The following are examples of margin boxes where the declaration
     blocks are intentionally left blank.</p>

    <pre>
@page {
 @top-left { ... /* document name */ }
 @bottom-center { ... /* page number */}
}
@page :left { @left-middle { ... /* page number in left margin */ }}
@page :right{ @right-middle { ... /* page number in right margins of right pages */}}

@page :left { @bottom-left-corner { ... /* left page numbers */ }}
@page :right { @bottom-right-corner { ... /* right page numbers */ }}
@page :first { @bottom-left-corner { ... /* empty footer on 1st page */ }
             @bottom-right-corner { ... /* empty footer */ } }
</pre>
   </div>

   <h3 id=cascading-and-page-context><span class=secno>5.4 </span>Cascading
    in the page context</h3>

   <p>Declarations in page and margin contexts <a
    href="/TR/CSS21/cascade.html">cascade</a> just like declarations in <a
    href="/TR/CSS21/syndata.html#rule-sets">rule sets</a>.</p>

   <p>The specificity of page selectors is computed in a manner analogous to
    the computations defined in the <a
    href="/TR/CSS21/selector.html">Selectors</a> module:</p>

   <ul>
    <li>if the page selector has a named page, f=1; else f=0

    <li>if the page selector has a &lsquo;<code
     class=css>:first</code>&rsquo; pseudo-class, g=1; else g=0

    <li>if the page selector has a &lsquo;<code class=css>:left</code>&rsquo;
     or &lsquo;<code class=css>:right</code>&rsquo; pseudo-class, h=1; else
     h=0
   </ul>

   <p>Concatenating the three numbers f-g-h gives the specificity.</p>

   <p>Properties that are not explicitly set within the page or margin
    context take their initial values and do not inherit from any element.</p>

   <div class=example>
    <p>Some page specificity calculation examples follow:</p>

    <pre>
      @page { } /* f=0 g=0 h=0 -&gt; specificity = 000 */
      @page :left { } /* f=0 g=0 h=1 -&gt; specificity = 001 */
      @page :first { } /* f=0 g=1 h=0 -&gt; specificity = 010 */
      @page artsy { } /* f=1 g=0 h=0 -&gt; specificity = 100 */
      @page artsy:left { } /* f=1 g=0 h=1 -&gt; specificity = 101 */
      @page artsy:first { } /* f=1 g=1 h=0 -&gt; specificity = 110 */ 
</pre>
   </div>

   <div class=example>
    <p>Consider the following usage example:</p>

    <pre>
@page {
margin-left: 3cm;
}

@page :left {
margin-left: 4cm;
}
</pre>

    <p>Due to the higher specificity of the pseudo-class selector, the left
     margin on left pages will be 4cm and all other pages (the right-facing
     pages) will have a left margin of 3cm.</p>
   </div>

   <div class=example>
    <p>In this example, the higher specificity of the green rules wins over
     the red rule. Therefore the first page will have blue text in the
     top-left margin box and green text in the top-right margin box, while
     subsequent pages will have red text in the margin boxes.</p>

    <pre>
@page :first {
color: green;

@top-left {
  content: "foo";
  color: blue;
}
@top-right {
  content: "bar";
}
}

@page { color: red;
@top-center {
  content: "Page " counter(page);
  }
}
</pre>
   </div>

   <div class=example>
    <p>Page contexts cascade, so the following stylesheet would style pages
     with 25 millimeter margins and 14 point type in the margin boxes:</p>

    <pre>
@page { margin: 25mm;}
@page { font-size: 14pt;}
</pre>
   </div>

   <h2 id=margin-boxes><span class=secno>6 </span>Margin Boxes</h2>

   <p>Margin boxes are boxes within the page margin that, like
    pseudo-elements, can contain generated content.</p>

   <p>Margin boxes can be used to create page headers and footers, which are
    portions of the page set aside for supplementary information such as the
    page number or document title.</p>

   <div class=example>
    <p>Typically, a <dfn id=page-header>page header</dfn> is located at the
     top of the page in documents with a predominately horizontal writing
     direction and on the side opposite the <a href="#binding-edge">binding
     edge</a> for documents with a predominately vertical writing direction.
     One possible design of page headers for horizontally written documents
     uses the <span class=css>&lsquo;<code
     class=property>top-left-corner</code>&rsquo;</span>, <span
     class=css>&lsquo;<code class=property>top-left</code>&rsquo;</span>,
     <span class=css>&lsquo;<code
     class=property>top-center</code>&rsquo;</span>, <span
     class=css>&lsquo;<code class=property>top-right</code>&rsquo;</span> and
     <span class=css>&lsquo;<code
     class=property>top-right-corner</code>&rsquo;</span> margin boxes.
     Another design, for vertically written documents, could use the <span
     class=css>&lsquo;<code class=property>right-top</code>&rsquo;</span>,
     <span class=css>&lsquo;<code
     class=property>right-middle</code>&rsquo;</span>, and <span
     class=css>&lsquo;<code class=property>right-bottom</code>&rsquo;</span>
     margin boxes for <a href="#right-page">right facing pages</a> and <span
     class=css>&lsquo;<code class=property>left-top</code>&rsquo;</span>,
     <span class=css>&lsquo;<code
     class=property>left-middle</code>&rsquo;</span>, and <span
     class=css>&lsquo;<code class=property>left-bottom</code>&rsquo;</span>
     for <a href="#left-page">left facing pages</a>.</p>

    <p>The <dfn id=page-footer>page footer</dfn> is typically at the opposite
     end of the page from the page header. For example, the design of a
     horizontally written document with a page header at the top of the page
     could use the <span class=css>&lsquo;<code
     class=property>bottom-left-corner</code>&rsquo;</span>, <span
     class=css>&lsquo;<code class=property>bottom-left</code>&rsquo;</span>,
     <span class=css>&lsquo;<code
     class=property>bottom-center</code>&rsquo;</span>, <span
     class=css>&lsquo;<code class=property>bottom-right</code>&rsquo;</span>
     and <span class=css>&lsquo;<code
     class=property>bottom-right-corner</code>&rsquo;</span> margin boxes as
     the page footer. The design of a vertically written document could use
     the margin boxes of the binding edge of the page for the page footer.</p>
   </div>

   <p>Margin boxes are oriented with respect to the content and are
    independent of page orientation, for example the top margin boxes are
    above the page area in both portrait and landscape orientation. The
    various margin boxes are defined and illustrated in the diagram below:

   <table class=data id=margin-box-def summary="defintion of each of the
    margin boxes">
    <caption>Table 1 Margin Box Definitions</caption>

    <thead>
     <tr>
      <th>Box

      <th>Description

      <th>Placement

    <tbody>
     <tr id=top-margin-boxes-def>
      <th id=top-left-corner-box-def>top-left-corner

      <td>a fixed-size box defined by the intersection of the top and left
       margins of the page box

      <td><img alt="the top left corner box with margin, border, and padding,
       nested within intersection of the page's top and left margins"
       height=47 src=TopLeftCornerBox.png width=181>

     <tr id=top-left-box-def>
      <th>top-left

      <td>a variable-width box filling the top page margin between the
       top-left-corner and top-center margin boxes

      <td><img alt="the top left box with margin, border, and padding, nested
       in the page's top margin next to the top left corner box" height=47
       src=TopLeftMarginBox.png width=181>

     <tr id=top-center-box-def>
      <th>top-center

      <td>a variable-width box centered horizontally between the page's left
       and right border edges and filling the page top margin between the
       top-left and top-right margin boxes

      <td><img alt="the top center box with margin, border, and padding,
       centered within the page's top margin" height=47
       src=TopCenterMarginBox.png width=181>

     <tr id=top-right-box-def>
      <th>top-right

      <td>a variable-width box filling the top page margin between the
       top-center and top-right-corner margin boxes

      <td><img alt="the top right box with margin, border, and padding,
       nested within the page's top margin" height=47
       src=TopRightMarginBox.png width=181>

     <tr>
      <th id=top-right-corner-box-def>top-right-corner

      <td>a fixed-size box defined by the intersection of the top and right
       margins of the page box

      <td><img alt="the top right corner box with margin, border, and
       padding, nested within the intersection of the page's top and right
       margin" height=47 src=TopRightCornerMarginBox.png width=181>

     <tr id=left-margin-boxes-def>
      <th id=left-top-box-def>left-top

      <td>a variable-height box filling the left page margin between the
       top-left-corner and left-middle margin boxes

      <td rowspan=3><img alt="left-top, left-middle, and left-bottom margin
       boxes in the page box's left margin" height=226
       src=LeftMarginBoxes.png width=181>

     <tr id=left-middle-box-def>
      <th>left-middle

      <td>a variable-height box centered vertically between the page's top
       and bottom border edges and filling the left page margin between the
       left-top and left-bottom margin boxes

     <tr id=left-bottom-box-def>
      <th>left-bottom

      <td>a variable-height box filling the left page margin between the
       left-middle and bottom-left-corner margin boxes

     <tr id=right-margin-boxes-def>
      <th id=right-top-box-def>right-top

      <td>a variable-height box filling the right page margin between the
       top-right-corner and right-middle margin boxes

      <td rowspan=3><img alt="right-top, right-middle, and right-bottom
       margin boxes in the page box's right margin" height=226
       src=RightMarginBoxes.png width=181>

     <tr id=right-middle-box-def>
      <th>right-middle

      <td>a variable-height box centered vertically between the page's top
       and bottom border edges and filling the right page margin between the
       right-top and right-bottom margin boxes

     <tr id=right-bottom-box-def>
      <th>right-bottom

      <td>a variable-height box filling the right page margin between the
       right-middle and bottom-right-corner margin boxes

     <tr id=bottom-margin-boxes-def>
      <th id=bottom-left-corner-box-def>bottom-left-corner

      <td>a fixed-size box defined by the intersection of the bottom and left
       margins of the page box

      <td><img alt="bottom left corner box with margin, border, and padding,
       nested within the page margin at the intersection of the left and
       bottom page margins" height=48 src=BottomLeftCornerBox.png width=181>

     <tr id=bottom-left-box-def>
      <th>bottom-left

      <td>a variable-width box filling the bottom page margin between the
       bottom-left-corner and bottom-center margin boxes

      <td><img alt="bottom left margin box with margin, border, and padding,
       nested within the page's bottom margin next to the bottom-left-corner
       box" height=48 src=BottomLeftMarginBox.png width=181>

     <tr id=bottom-center-box-def>
      <th>bottom-center

      <td>a variable-width box centered horizontally between the page's left
       and right border edges and filling the bottom page margin between the
       bottom-left and bottom-right margin boxes

      <td style="vertical-align: middle;"><img alt="bottom center box with
       margin, border, and padding, nested within the page's bottom margin
       and centered on the page" height=48 src=BottomCenterMarginBox.png
       width=181>

     <tr id=bottom-right-box-def>
      <th>bottom-right

      <td>a variable-width box filling the bottom page margin between the
       bottom-center and bottom-right-corner margin boxes

      <td><img alt="bottom right margin box with margin, border, and padding,
       nested within the page's bottom margin and next to the
       bottom-right-corner box" height=48 src=BottomRightMarginBox.png
       width=181>

     <tr id=bottom-right-corner-box-def>
      <th>bottom-right-corner

      <td>a fixed-size box defined by the intersection of the bottom and
       right margins of the page box

      <td><img alt="bottom right corner box with margin, border, and padding,
       nested within the page margin at the intersection of the right and
       bottom page margins" height=48 src=BottomRightCornerBox.png width=181>
   </table>

   <h3 id=margin-at-rules><span class=secno>6.1 </span>At-rules for margin
    boxes</h3>

   <p>Margin boxes are created by <a href="#margin-at-rules">margin
    at-rules</a> inside the <a href="#page-context">page context</a>.</p>

   <p>A <dfn id=margin-at-rule>margin at-rule</dfn> consists of an <a
    href="#specializatons-of-ATKEYWORD">ATKEYWORD</a> that identifies the
    margin box (e.g. <span class=css>&lsquo;<code
    class=css>@top-left</code>&rsquo;</span>) and a block of declarations
    (said to be in the <dfn id=margin-context>margin context</dfn>).</p>

   <div class=example>
    <p>The following style sheet establishes a page header containing the
     title ("Hamlet") on the left side and the page number, preceded by "Page
     ", on the right side:</p>

    <pre>
@page {
  size: 8.5in 11in;
  margin: 10%;

  @top-left {
    content: "Hamlet";
  }
  @top-right {
    content: "Page " counter(page);
  }
}
</pre>
   </div>

   <h3 id=populating-margin-boxes><span class=secno>6.2 </span>Populating
    margin boxes</h3>

   <p>A margin box is instantiated if and only if the computed value of its
    &lsquo;<code class=property>content</code>&rsquo; property does not match
    that of its initial value.

   <div class=example>
    <p>The following style sheet creates a green box in each corner of the
     page except the bottom-left corner.</p>

    <pre>
  @page {
    @top-left-corner { content: " "; border: solid green; }
    @top-right-corner { content: url(foo.png); border: solid green; }
    @bottom-right-corner { content: counter(page); border: solid green; }
    @bottom-left-corner { content: normal; border: solid green; }
  }
</pre>
   </div>

   <h3 id=margin-box-dimensions><span class=secno>6.3 </span>Computing Margin
    Box Dimensions</h3>

   <p>The width and height of each margin box is determined by the rules
    below. These rules define the equivalent of CSS2.1 Sections 10.3 and 10.6
    for margin boxes.</p>

   <p>The rules for applying &lsquo;<code
    class=property>min-height</code>&rsquo;, &lsquo;<code
    class=property>max-height</code>&rsquo;, &lsquo;<code
    class=property>min-width</code>&rsquo;, and &lsquo;<code
    class=property>max-width</code>&rsquo; <a href="#CSS21"
    rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> do apply to margin boxes and
    may imply a recalculation of the width, height, and/or margins if the
    dimensions resulting from the specified &lsquo;<code
    class=property>width</code>&rsquo; or &lsquo;<code
    class=property>height</code>&rsquo; violate their constraints. If the UA
    does not support the &lsquo;<code class=property>min-height</code>&rsquo;
    or &lsquo;<code class=property>min-width</code>&rsquo; properties then it
    must behave as if &lsquo;<code class=property>min-height</code>&rsquo;
    and &lsquo;<code class=property>min-width</code>&rsquo; were always zero.
    

   <h4 id=max-margin-dimension><span class=secno>6.3.1 </span>Margin Box
    Layout Terminology</h4>

   <p>In addition to the box model definitions in CSS2.1 <a href="#CSS21"
    rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>, the following terms are
    defined for use in the subsequent margin box calculations:</p>

   <dl>
    <dt id=MaxBoxWidth>max box width

    <dd>the sum of the page's left border width, left padding, <a
     href="#page-box">page area</a> width, right padding, and right border
     width. In other words, it is the distance between the <a
     href="#page-box">page box</a>&lsquo;<code class=css>s left border edge
     and right border edge. This quantity is used when calculating dimensions
     of the top and bottom margin boxes.</code>

    <dt id=MaxBoxHeight>max box height

    <dd>the sum of the page&rsquo;s top border width, top padding, <a
     href="#page-box">page area</a> height, bottom padding, and bottom border
     width. In other words, it is the distance between the <a
     href="#page-box">page box</a>&lsquo;<code class=css>s top border edge
     and bottom border edge. This quantity is used when calculating
     dimensions of the left and right margin boxes.</code>

    <dt>outer width

    <dd>the sum of a margin box&rsquo;s left and right margins, left and
     right border widths, left and right padding, and content-box width.

    <dt>outer height

    <dd>the sum of a margin box's top and bottom margins, top and bottom
     border widths, used top and bottom padding, and content-box height.
   </dl>

   <p>The <dfn id=containing-block>containing block</dfn> for a corner margin
    box is the rectangle defined by the intersection of the two page margins
    meeting at that corner.</p>

   <p>For all other margin boxes, the <dfn id=containing-block0>containing
    block</dfn> is the rectangle formed by the encapsulating page margin
    minus the containing blocks of the adjacent corners' margin boxes. This
    means that the size of this containing block is given in one dimension by
    the used page margin and in the other dimension by the <a
    href="#MaxBoxWidth">max box width</a> (for top and bottom margin boxes)
    or <a href="#MaxBoxHeight">max box height</a> (for left and right margin
    boxes).</p>

   <h4 id=margin-dimension><span class=secno>6.3.2 </span>Margin Box Variable
    Dimension Computation Rules</h4>

   <p>The following rules apply to &lsquo;<code
    class=property>top-left</code>&rsquo;, &lsquo;<code
    class=property>top-center</code>&rsquo; and &lsquo;<code
    class=property>top-right</code>&rsquo; margin boxes, which are referred
    to as A, B, and C, respectively, in the expression below.</p>

   <ul>
    <li>The UA chooses used values for each box's width, left and right
     margin, left and right border thickness, and left and right padding. It
     chooses them in such a way that the sum of the squares of the boxes'
     left and right margins, i.e. the value of:
     <div class=equation> margin-left<sub>A</sub>² +
      margin-left<sub>B</sub>² + margin-left<sub>C</sub>² +
      margin-right<sub>A</sub>² + margin-right<sub>B</sub>² +
      margin-right<sub>C</sub>²</div>
     is as small as possible under the constraints below.
     <ol>
      <li>The sum of the outer widths of the three boxes is equal to max box
       width. (Margin box margins do not collapse.)

      <li>If the center box is not empty or if its computed width is not
       &lsquo;<code class=property>auto</code>&rsquo;, then the outer widths
       of the other two boxes are equal to each other (i.e., the center box
       is centered in that case).

      <li>If a box is empty and its computed width is &lsquo;<code
       class=property>auto</code>&rsquo;, then the used values of its left
       and right padding width and left and right border width are all 0.
       (This makes such a box invisible, because, by item 5, its width is
       also 0.)

      <li>The used values of the margin boxes' left and right margins are
       their respective computed values, unless the respective computed value
       is &lsquo;<code class=property>auto</code>&rsquo;.

      <li>If a box's computed width is &lsquo;<code
       class=property>auto</code>&rsquo;, then its used width must be greater
       than or equal to its <a
       href="/TR/CSS21/visudet.html#float-width">preferred minimum width</a>.

      <li>If a box's computed width is &lsquo;<code
       class=property>auto</code>&rsquo;, then its used width must also be
       less than or equal to its <a
       href="/TR/CSS21/visudet.html#float-width">preferred width</a>.
     </ol>

    <li>If the above constraints are contradictory ("over-constrained"), then
     drop rule 6 above. If they are still contradictory, then the right
     margin of the left box and the left margin of the right box are treated
     as if their computed values were &lsquo;<code
     class=property>auto</code>&rsquo;.
   </ul>

   <p class=note> Note: By their definitions, margins can be negative, but
    widths cannot.</p>

   <p>The used values for &lsquo;<code
    class=property>bottom-left</code>&rsquo;, &lsquo;<code
    class=property>bottom-center</code>&rsquo; and &lsquo;<code
    class=property>bottom-right</code>&rsquo; margin boxes are established by
    the same rules as for &lsquo;<code class=property>top-left</code>&rsquo;,
    &lsquo;<code class=property>top-center</code>&rsquo;, and &lsquo;<code
    class=property>top-right</code>&rsquo;, respectively.</p>

   <p>The used values for &lsquo;<code class=property>left-top</code>&rsquo;,
    &lsquo;<code class=property>left-middle</code>&rsquo; and &lsquo;<code
    class=property>left-bottom</code>&rsquo; boxes are established by the
    same rules, with "width" replaced by "height", "left" by "top", "right"
    by "bottom" and "center" by "middle".</p>

   <p>The used values for &lsquo;<code
    class=property>right-top</code>&rsquo;, &lsquo;<code
    class=property>right-middle</code>&rsquo; and &lsquo;<code
    class=property>right-bottom</code>&rsquo; margin boxes are established by
    the same rules as for &lsquo;<code class=property>left-top</code>&rsquo;,
    &lsquo;<code class=property>left-middle</code>&rsquo; and &lsquo;<code
    class=property>left-bottom</code>&rsquo;, respectively.</p>

   <h4 id=margin-constraints><span class=secno>6.3.3 </span>Margin Box Fixed
    Dimension Computation Rules</h4>

   <p>The rules below are used to calculate the used values of each
    &lsquo;<code class=property>top-left-corner</code>&rsquo;, &lsquo;<code
    class=property>top-left</code>&rsquo;, &lsquo;<code
    class=property>top-center</code>&rsquo;, &lsquo;<code
    class=property>top-right</code>&rsquo;, and &lsquo;<code
    class=property>top-right-corner</code>&rsquo; margin box's &lsquo;<code
    class=property>height</code>&rsquo;, &lsquo;<code
    class=property>margin-top</code>&rsquo;, and &lsquo;<code
    class=property>margin-bottom</code>&rsquo; properties:</p>

   <ol>
    <li>The following constraint must hold among the used values of the
     margin box's properties:
     <p>&lsquo;<code class=property>margin-top</code>&rsquo; + &lsquo;<code
      class=property>border-top-width</code>&rsquo; + &lsquo;<code
      class=property>padding-top</code>&rsquo; + &lsquo;<code
      class=property>height</code>&rsquo; + &lsquo;<code
      class=property>padding-bottom</code>&rsquo; + &lsquo;<code
      class=property>border-bottom-width</code>&rsquo; + &lsquo;<code
      class=property>margin-bottom</code>&rsquo; = top page margin

    <li>If &lsquo;<code class=property>border-top-width</code>&rsquo; +
     &lsquo;<code class=property>padding-top</code>&rsquo; + &lsquo;<code
     class=property>height</code>&rsquo; (if it is not &lsquo;<code
     class=css>auto</code>&rsquo;) + &lsquo;<code
     class=property>padding-bottom</code>&rsquo; + &lsquo;<code
     class=property>border-bottom-width</code>&rsquo;, plus &lsquo;<code
     class=property>margin-top</code>&rsquo; and/or &lsquo;<code
     class=property>margin-bottom</code>&rsquo; if not &lsquo;<code
     class=css>auto</code>&rsquo;, is larger than the height of the top page
     margin, then any &lsquo;<code class=css>auto</code>&rsquo; values for
     &lsquo;<code class=property>margin-top</code>&rsquo; or &lsquo;<code
     class=property>margin-bottom</code>&rsquo; are, for the following rules,
     treated as zero.

    <li>If at this point all of &lsquo;<code
     class=property>height</code>&rsquo;, &lsquo;<code
     class=property>margin-top</code>&rsquo;, and &lsquo;<code
     class=property>margin-bottom</code>&rsquo; have a computed value other
     than &lsquo;<code class=css>auto</code>&rsquo;, the values are said to
     be "over-constrained". In this case, the specified value of &lsquo;<code
     class=property>margin-top</code>&rsquo; is treated as &lsquo;<code
     class=property>auto</code>&rsquo;.

    <li>If there is now exactly one value specified as &lsquo;<code
     class=property>auto</code>&rsquo;, its used value follows from the
     equality.

    <li>If &lsquo;<code class=property>height</code>&rsquo; is set to
     &lsquo;<code class=property>auto</code>&rsquo;, any other &lsquo;<code
     class=property>auto</code>&rsquo; values become &lsquo;<code
     class=css>0</code>&rsquo; and &lsquo;<code
     class=property>height</code>&rsquo; follows from the resulting equality

    <li>If both &lsquo;<code class=property>margin-top</code>&rsquo; and
     &lsquo;<code class=property>margin-bottom</code>&rsquo; are &lsquo;<code
     class=property>auto</code>&rsquo;, their used values are equal. This
     vertically centers the margin-box content within the top page margin.
   </ol>

   <p>The same rules apply to the bottom margin boxes (bottom-left-corner,
    bottom-left, bottom-center, bottom-right, and bottom-right-corner),
    except that in the overconstrained case, the &lsquo;<code
    class=property>margin-bottom</code>&rsquo; is ignored rather than the
    &lsquo;<code class=property>margin-top</code>&rsquo;.</p>

   <p>Analogous rules govern the properties for the left and right margin
    boxes with respect to &lsquo;<code class=property>width</code>&rsquo;
    (top-left-corner, left-top, left-middle, left-bottom, and
    bottom-left-corner; top-right-corner, right-top, right-middle,
    right-bottom, bottom-right-corner), with &lsquo;<code
    class=property>top</code>&rsquo; replaced by &lsquo;<code
    class=property>left</code>&rsquo;, &lsquo;<code
    class=property>bottom</code>&rsquo; replaced by &lsquo;<code
    class=property>right</code>&rsquo;, and &lsquo;<code
    class=property>height</code>&rsquo; replaced by &lsquo;<code
    class=property>width</code>&rsquo;. In the overconstrained case for left
    (right) margin boxes, the specified value of &lsquo;<code
    class=property>margin-left</code>&rsquo; (&lsquo;<code
    class=property>margin-right</code>&rsquo;) is ignored.</p>

   <h3 id=margin-box-ex><span class=secno>6.4 </span>Margin box examples</h3>

   <p>The following is a collection of examples of margin box usage.</p>

   <div class=example>
    <p>Here is an example of a page with only a top-left header:</p>

    <pre>
@page {
@top-left { content: "Header in Left Cell (top-left)" }
}
</pre>

    <p>Because there are no contents defined for the top-center or the
     top-right margin boxes, the extent of the top-left margin box is allowed
     to cross the center of the page box.</p>

    <p><img alt="Header Example 1" height=177 src=header-ex-1.png width=737></p>
   </div>

   <div class=example>
    <p>The following is an example of a page with a centered header:</p>

    <pre>
@page {
@top-center { content: "Header in Center Cell (top-center)" }
}
</pre>

    <p><img alt="Header Example 2" height=177 src=header-ex-2.png width=737></p>
   </div>

   <div class=example>
    <p>The following is an example of a page with a single header in the
     top-right margin box:</p>

    <pre>
@page {
@top-right { content: "Header in Right Cell (top-right)" }
}
</pre>

    <p>Because the content of the center cell is empty, the extent of the
     top-right margin box is allowed to cross the center of the page box.</p>

    <p><img alt="Header Example 3" height=177 src=header-ex-3.png width=737></p>
   </div>

   <div class=example>
    <p>The following is an example of a page with a top-center and a top-left
     header:</p>

    <pre>
@page {
@top-left { content: "Left Cell (top-left)" }
@top-center { content: "Header in Center Cell (top-center)" }
}
</pre>

    <p><img alt="Header Example 4" height=177 src=header-ex-4.png width=737></p>
   </div>

   <div class=example>
    <p>The following is an example of a page with a top-center and a
     top-right header:</p>

    <pre>
@page {
@top-center { content: "Header in Center Cell (top-center)" }
@top-right { content: "Right Cell (top-right)" }
}
</pre>

    <p><img alt="Header Example 5" height=177 src=header-ex-5.png width=737></p>
   </div>

   <div class=example>
    <p>The following is an example of a page with top-left and top-right
     headers:</p>

    <pre>
@page {
@top-left { content: "Header in top-left with approx. "
                   "twice as many words as right cell." }
@top-right { content: "Right cell (top-right)" }
}
</pre>

    <p>Because there are no center cell contents, the extent of the top-left
     is allowed to cross the center of the page box. As the intrinsic width
     of the top-left contents is approximately twice the intrinsic width of
     that of the top-right, the top-left margin box is approximately twice as
     wide as the top-right margin box.</p>

    <p><img alt="Header Example 6" height=177 src=header-ex-6.png width=737></p>
   </div>

   <h2 id=page-properties><span class=secno>7 </span>Page Properties</h2>

   <div>
    <p>The following properties can be used in the <a
     href="#page-context">page context</a> to style the appearance of the
     page box and margin boxes:</p>

    <ul>
     <li><a href="/TR/CSS21/colors.html#background-properties">background
      properties</a>

     <li><a href="/TR/CSS21/box.html#border-properties">border properties</a>

     <li><a href="/TR/CSS21/colors.html#propdef-color">color</a>

     <li><a href="/TR/CSS21/generate.html#counters">counter properties</a>

     <li><a href="/TR/CSS21/visuren.html#direction">direction</a>

     <li><a href="/TR/CSS21/fonts.html">font properties</a>

     <li><a href="/TR/CSS21/visudet.html#line-height">line-height</a>

     <li><a href="/TR/CSS21/box.html#margin-properties">margin properties</a>

     <li><a href="/TR/CSS21/ui.html#dynamic-outlines">outline properties</a>

     <li><a href="/TR/CSS21/box.html#padding-properties">padding
      properties</a>

     <li><a href="/TR/CSS21/generate.html#quotes-specify">quotes</a>

     <li><a href="#page-size">size</a>

     <li><a href="/TR/CSS21/text.html">text properties</a>

     <li><a href="/TR/CSS21/visufx.html#visibility">visibility</a>
    </ul>

    <p>That is, the margin boxes inherit values for inheritable properties
     from the page context.</p>

    <p>The following properties can be used in the <a
     href="#margin-at-rule">margin context</a> to style margin boxes and
     their content:</p>

    <ul>
     <li><a href="/TR/CSS21/colors.html#background-properties">background
      properties</a>

     <li><a href="/TR/CSS21/box.html#border-properties">border properties</a>
      

     <li><a href="/TR/CSS21/colors.html#propdef-color">color</a>

     <li><a href="/TR/CSS21/generate.html#content">content</a>

     <li><a href="/TR/CSS21/generate.html#counters">counter properties</a>

     <li><a href="/TR/CSS21/fonts.html">font properties</a>

     <li><a href="/TR/CSS21/visudet.html#the-height-property">height</a> <a
      href="/TR/CSS21/visudet.html#min-max-heights">properties</a>

     <li><a href="/TR/CSS21/visudet.html#line-height">line-height</a>

     <li><a href="/TR/CSS21/box.html#margin-properties">margin properties</a>
      

     <li><a href="/TR/CSS21/ui.html#dynamic-outlines">outline properties</a>

     <li><a href="/TR/CSS21/visufx.html#overflow">overflow</a>

     <li><a href="/TR/CSS21/box.html#padding-properties">padding
      properties</a>

     <li><a href="/TR/CSS21/generate.html#quotes-specify">quotes</a>

     <li><a href="/TR/CSS21/text.html">text properties</a>

     <li><a href="/TR/CSS21/visudet.html#line-height">vertical-align</a>

     <li><a href="/TR/CSS21/visufx.html#visibility">visibility</a>

     <li><a href="/TR/CSS21/visudet.html#the-width-property">width</a> <a
      href="/TR/CSS21/visudet.html#min-max-widths">properties</a>

     <li><a href="/TR/CSS21/visuren.html#z-index">z-index</a>
    </ul>

    <p>A detailed list of properties that <em class=RFC2119>MUST</em> be
     supported within page and margin contexts by a conforming implementation
     can be found in <a href="#properties-list">Appendix A</a>.</p>

    <p>Other properties defined by <a href="#CSS21"
     rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> do not apply in these
     contexts. Behavior for properties not included in CSS 2.1 and not listed
     here or in Appendix A is undefined.</p>

    <p class=note> Note: The intent of leaving other properties undefined is
     to allow the gradual addition of appropriate CSS3 properties as they
     emerge, without having to update this specification with each addition.</p>

    <p><a href="http://www.w3.org/TR/CSS21/cascade.html#value-stages">As with
     elements in the document</a>, both the page context and the margin
     context have a computed value for every property, even if that property
     does not apply to the page or margin box.</p>

    <p>The normal rules for CSS properties apply with the following
     exceptions:</p>

    <ul>
     <li>Margin boxes inherit from the page context. The page context
      inherits from the root element. However, since the previous revision of
      CSS Paged Media Level 3 did not specify this point, an implementation
      that sets inherited properties in the page context to their initial
      values (as for the root element) is also conformant to CSS Paged Media
      Level 3. Note that this exception will be removed in Level 4.

     <li>Values in units of &lsquo;<code class=css>em</code>&rsquo; and
      &lsquo;<code class=css>ex</code>&rsquo; are interpreted relative to the
      font associated with their context. When used on the &lsquo;<code
      class=property>font-size</code>&rsquo; property in the margin context,
      they are relative to the font of the page context. When used on the
      &lsquo;<code class=property>font-size</code>&rsquo; property in the
      page context, they are relative to the &lsquo;<code
      class=property>font-size</code>&rsquo; of the root element. However,
      since a previous revision of CSS Paged Media Level 3 was ambiguous on
      this point, an implementation that treats &lsquo;<code
      class=css>em</code>&rsquo; and &lsquo;<code class=css>ex</code>&rsquo;
      on &lsquo;<code class=property>font-size</code>&rsquo; as relative to
      the initial value is also conformant to CSS Paged Media Level 3. Note
      that this exception will be removed in Level 4.

     <li>Percentage values on the margin and padding properties are relative
      to the dimensions of the containing block. For right and left values,
      percentages are relative to the width of the containing block; for top
      and bottom values, percentages are relative to the height of the
      containing block.

     <li>The <span class=property>&lsquo;<code
      class=property>width</code>&rsquo;</span> and <span
      class=property>&lsquo;<code class=property>height</code>&rsquo;</span>
      properties do not apply to the page box. For margin boxes their used
      values are calculated as described in the <a
      href="#margin-box-dimensions">Computing Margin Box Dimensions</a>
      section.

     <li>The page background covers the entire page box, including the page
      margins. Background images are positioned as for any other box, by
      default anchored within the page area (i.e. the page box's content
      box); however if &lsquo;<code
      class=property>background-attachment</code>&rsquo; is &lsquo;<code
      class=property>fixed</code>&rsquo; then the image is positioned
      relative to the page box including its margins.

     <li>The rules for counter scoping are modified <a
      href=page-based-counters>as described below</a>.

     <li>As on the &lsquo;<code class=css>::before</code>&rsquo; and
      &lsquo;<code class=css>::after</code>&rsquo; pseudo-classes, the
      &lsquo;<code class=css>normal</code>&rsquo; value of the &lsquo;<code
      class=property>content</code>&rsquo; property computes to &lsquo;<code
      class=css>none</code>&rsquo; on margin boxes.
    </ul>

    <p>It is <em class=RFC2119>recommended</em> that user agents establish a
     default page margin via the user agent stylesheet that includes any
     non-printable area. It is further <em class=RFC2119>recommended</em>
     that authors assume that the default page area will not include
     unprintable regions.</p>

    <h3 id=page-based-counters><span class=secno>7.1 </span>Page-based
     counters</h3>

    <p>Counters can be defined and controlled within an <span
     class=css>&lsquo;<code class=css><a
     href="#page">@page</a></code>&rsquo;</span> rule, and used as content in
     margin boxes. This is useful for maintaining a page count.</p>

    <div class=example>
     <p>The following rules result in the placement of the current page
      number in the middle of the outside margin of each page.</p>

     <pre>
@page {
margin: 10%;
counter-increment: page;

@top-center {
  font-family: sans-serif;
  font-weight: bold;
  font-size: 2em;
  content: counter(page);
}
}
</pre>
    </div>

    <p>A &lsquo;<code class=property>counter-increment</code>&rsquo; within
     either a page or margin context causes the counter to increment with the
     generation of each page box.</p>

    <p>If a counter is reset or incremented within the page context, it is in
     scope for all margin boxes and obscures all counters of the same name
     within the document.</p>

    <p>If a counter is reset or incremented within a margin context, it is in
     scope for that margin box and obscures any counters of the same name in
     both the page context and the document.</p>

    <p>If a counter that has not been reset or incremented within the margin
     context or the page context is used by counter() or counters() in the
     margin context, then the resultant value is exactly as if the margin box
     were an element within the document at the start of the page, inside the
     deepest element in the normal flow that spans the page break. Use of the
     counter in this way does not affect the calculation of the counter's
     value.</p>

    <p>A counter named &lsquo;<code class=css><a
     href="#page">page</a></code>&rsquo; is automatically created and
     incremented on every page of the document. Specifically, the UA must
     automatically create and increment such a counter as if &lsquo;<code
     class=css>@page { counter-increment: page; }</code>&rsquo; were
     specified. The implied &lsquo;<code class=css><a
     href="#page">page</a></code>&rsquo; counter is a real counter, and can
     be directly affected using the &lsquo;<code
     class=property>counter-increment</code>&rsquo; and &lsquo;<code
     class=property>counter-reset</code>&rsquo; properties when named
     explicitly in those properties. It can also be used in the &lsquo;<code
     class=css>counter()</code>&rsquo; and &lsquo;<code
     class=css>counters()</code>&rsquo; function forms.</p>

    <p>Additionally, a counter named &lsquo;<code
     class=css>pages</code>&rsquo; is automatically created by the UA. Its
     value is always the total number of pages in the document. (In
     continuous media this is always 1.) The value of &lsquo;<code
     class=css>pages</code>&rsquo; cannot be manipulated: while &lsquo;<code
     class=property>counter-reset</code>&rsquo; and &lsquo;<code
     class=property>counter-increment</code>&rsquo; statements that set it
     are valid, they have no effect.

    <p>In all other respects, page-associated counters behave as described in
     <a href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>, <a
     href="TR/CSS21/generate.html#scope">Nested Counters and Scope</a> and <a
     href="/TR/CSS21/syndata.html#counter">Counters</a>.</p>

    <h3 id=margin-text-alignment><span class=secno>7.2 </span>Margin boxes
     and default values</h3>

    <p>Properties used within page or margin contexts take their initial
     values from their respective property definitions; however, user agents
     must behave as though the values in the following table were established
     by rules in the UA default style sheet.</p>

    <table class=data id=margin-values summary="definition of margin box
     default properties">
     <caption>Table 2. Default values for Margin Boxes</caption>

     <thead>
      <tr>
       <th>Margin box

       <th><span class=property>&lsquo;<code
        class=property>text-align</code>&rsquo;</span>

       <th><span class=property>&lsquo;<code
        class=property>vertical-align</code>&rsquo;</span>

     <tbody>
      <tr>
       <td><a href="#top-left-corner-box-def">top-left-corner</a>

       <td>right

       <td>middle

      <tr>
       <td><a href="#top-left-box-def">top-left</a>

       <td>left

       <td>middle

      <tr>
       <td><a href="#top-center-box-def">top-center</a>

       <td>center

       <td>middle

      <tr>
       <td><a href="#top-right-box-def">top-right</a>

       <td>right

       <td>middle

      <tr>
       <td><a href="#top-right-corner-box-def">top-right-corner</a>

       <td>left

       <td>middle

      <tr>
       <td><a href="#left-top-box-def">left-top</a>

       <td>center

       <td>top

      <tr>
       <td><a href="#left-middle-box-def">left-middle</a>

       <td>center

       <td>middle

      <tr>
       <td><a href="#left-bottom-box-def">left-bottom</a>

       <td>center

       <td>bottom

      <tr>
       <td><a href="#right-top-box-def">right-top</a>

       <td>center

       <td>top

      <tr>
       <td><a href="#right-middle-box-def">right-middle</a>

       <td>center

       <td>middle

      <tr>
       <td><a href="#right-bottom-box-def">right-bottom</a>

       <td>center

       <td>bottom

      <tr>
       <td><a href="#bottom-left-corner-box-def">bottom-left-corner</a>

       <td>right

       <td>middle

      <tr>
       <td><a href="#bottom-left-box-def">bottom-left</a>

       <td>left

       <td>middle

      <tr>
       <td><a href="#bottom-center-box-def">bottom-center</a>

       <td>center

       <td>middle

      <tr>
       <td><a href="#bottom-right-box-def">bottom-right</a>

       <td>right

       <td>middle

      <tr>
       <td><a href="#bottom-right-corner-box-def">bottom-right-corner</a>

       <td>left

       <td>middle
    </table>

    <div class=example>
     <p>This example style sheet could be used to create a centered header
      with the current chapter name:</p>

     <pre>body {counter-reset: chapter;}
div.chapter {counter-increment: chapter;}
@page {
margin: 10%;
@top-center { content: "Chapter" counter(chapter) }
}
</pre>
    </div>

    <h2 id=page-size><span class=secno>8 </span>Page size</h2>

    <p>People around the world use many different paper sizes. It is a goal
     of this specification that web content should be adaptable to a range of
     different sizes without having to write a specific style sheet for each
     paper size.</p>

    <p>However, in some situations it is important that a certain page size
     achieves a certain style. One way to achieve this goal is to utilize the
     &lsquo;<code class=property><a href="#size">size</a></code>&rsquo;
     property, which indicates that the document should preferentially be
     displayed on a surface of a certain size; another method is to use Media
     Queries <a href="#MEDIAQ" rel=biblioentry>[MEDIAQ]<!--{{MEDIAQ}}--></a>
     which allow different style sheets to be applied to different page
     sizes.</p>

    <h3 id=page-size-prop><span class=secno>8.1 </span>Page size: the
     &lsquo;<code class=property><a href="#size">size</a></code>&rsquo;
     property</h3>

    <table class=propdef summary="definition of the size property">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=size>size</dfn>

      <tr>
       <th>Value:

       <td>&lt;length&gt;{1,2} | auto | [ &lt;page-size&gt; || [ portrait |
        landscape] ]

      <tr>
       <th>Initial:

       <td>auto

      <tr>
       <td><em>Applies to:</em>

       <td>page context

      <tr>
       <th>Inherited:

       <td>N/A

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>paged

      <tr>
       <td><em>Computed value:</em>

       <td>specified value
    </table>

    <p>This property specifies the size and orientation of the <a
     href="#page-box">page box</a>. In the general case, where one page box
     is rendered onto one <a href="#page-sheet">page sheet</a>, the <span
     class=property>&lsquo;<code class=property><a
     href="#size">size</a></code>&rsquo;</span> property also indicates the
     size of the destination page sheet.</p>

    <p>The size of a page box can either be "absolute" (fixed size) or
     "relative" (scalable, i.e., fitting available sheet sizes).</p>

    <p>The first three values in the table below can be used to create
     relative page boxes.</p>

    <p>Other values define a fixed-size page box, and thereby indicate the
     preferred output media size. When possible, output should be rendered on
     the media size indicated. If the specified size is not available, the
     smallest available larger size should be used; if not available, the
     contents of the page box should be scaled down to fit the largest
     smaller page sheet available.</p>

    <p>If a <code><a href="#size">size</a></code> property declaration
     specifies a page size that would cause that declaration to not apply
     (e.g. a media query that qualifies it applies only to a different paper
     size) then the declaration must be <a
     href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>. <span
     class=issue>Is this a reasonable way of dealing with this
     conflict?</span></p>

    <div class=example>
     <p>In the following example

     <pre>
  @page {
    size: 4in 6in;
  }
  
  @media (max-width: 6in) {
    @page {
      size: letter;
    }
  }
  </pre>

     <p>The second <code><a href="#size">size</a></code> declaration is
      ignored, i.e. the specified value of the <code><a
      href="#size">size</a></code> property is <code>4in 6in</code>.
    </div>

    <table class=page-sizes>
     <tbody>
      <tr>
       <th>Value

       <th>Description

      <tr>
       <td>auto

       <td>The page box will be set to a size and orientation chosen by the
        UA. In the usual case, the page box size and orientation is chosen to
        match the target media sheet.

      <tr>
       <td>landscape

       <td>Specifies that the page's content be printed in landscape
        orientation. The longer sides of the page box are horizontal. If a
        <span class=css>&lsquo;<code
        class=css>&lt;page-size&gt;</code>&rsquo;</span> is not specified,
        the size of the page sheet is chosen by the UA.

      <tr>
       <td>portrait

       <td>Specifies that the page's content be printed in portrait
        orientation. The shorter sides of the page box are horizontal. If a
        <span class=css>&lsquo;<code
        class=css>&lt;page-size&gt;</code>&rsquo;</span> is not specified,
        the size of the page sheet is chosen by the UA.

      <tr>
       <td>&lt;length&gt;

       <td>The page box will be set to the given absolute dimension(s). If
        only one length value is specified, it sets both the width and height
        of the page box (i.e., the box is a square). If two length values are
        specified, the first establishes the page box width, and the second
        the page box height. Values in units of <span class=css>&lsquo;<code
        class=property>em</code>&rsquo;</span> and <span
        class=css>&lsquo;<code class=property>ex</code>&rsquo;</span> refer
        to the page context's font.

      <tr>
       <td>&lt;page-size&gt;

       <td>A page size can be specified using one of the following media
        names. This is the equivalent of specifying the <span
        class=css>&lsquo;<code
        class=css>&lt;page-size&gt;</code>&rsquo;</span> using length values.
        The definition of the the media names comes from <cite>Media
        Standardized Names</cite> <a href="#PWGMSN"
        rel=biblioentry>[PWGMSN]<!--{{!PWGMSN}}--></a>.
        <dl>
         <dt>A5

         <dd>Equivalent to the size of ISO A5 media: 148mm wide and 210 mm
          high.

         <dt>A4

         <dd>Equivalent to the size of IS0 A4 media: 210 mm wide and 297 mm
          high.

         <dt>A3

         <dd>Equivalent to the size of ISO A3 media: 297mm wide and 420mm
          high.

         <dt>B5

         <dd>Equivalent to the size of ISO B5 media: 176mm wide by 250mm
          high.

         <dt>B4

         <dd>Equivalent to the size of ISO B4 media: 250mm wide by 353mm
          high.

         <dt>letter

         <dd>Equivalent to the size of North American letter media: 8.5
          inches wide and 11 inches high

         <dt>legal

         <dd>Equivalent to the size of North American legal: 8.5 inches wide
          by 14 inches high.

         <dt>ledger

         <dd>Equivalent to the size of North American ledger: 11 inches wide
          by 17 inches high.
        </dl>
    </table>

    <p>The &lsquo;<code class=css>&lt;page-size&gt;</code>&rsquo; names can
     be used in conjunction with &lsquo;<code
     class=property>landscape</code>&rsquo; or &lsquo;<code
     class=property>portrait</code>&rsquo; to indicate both size and
     orientation.</p>

    <h4 id=some-examples><span class=secno>8.1.1 </span>Some examples:</h4>

    <div class=example>
     <pre>
@page {
size: A4 landscape;
}
</pre>

     <p>The above example sets the width of the page box to be 297mm and the
      height to be 210mm. The page box in this example should be rendered on
      a page sheet size of 210 mm by 297 mm.</p>
    </div>

    <div class=example>
     <p>In the following example, the outer edges of the page box will align
      with the page. The percentage value on the <span
      class=property>&lsquo;<code class=property>margin</code>&rsquo;</span>
      property is relative to the page size so if the page sheet dimensions
      are 210mm x 297mm (i.e., A4), the margins are 21mm and 29.7mm. Assuming
      there are no page borders or padding set in the UA default style sheet,
      the resulting page area is 189mm by 367.3mm (210mm-21mm by
      297mm-29.7mm).</p>

     <pre>
@page {
size: auto;/* auto is the initial value */
margin: 10%;
}
</pre>
    </div>

    <div class=example>
     <pre>
@page {
size: 8.5in 11in;/* width height */
}
</pre>

     <p>The above example sets the width of the page box to be 8.5 inches and
      the height to be 11 inches. This indicates that the page sheet size
      should be 8.5"x11" and the orientation &lsquo;<code
      class=property>portrait</code>&rsquo;.</p>
    </div>

    <h4 id=page-size-media-query><span class=secno>8.1.2 </span>Media Queries</h4>

    <p>This section is informative.</p>

    <p>By using Media Queries <a href="#MEDIAQ"
     rel=biblioentry>[MEDIAQ]<!--{{MEDIAQ}}--></a>, one style sheet can
     express different stylistic preferences for different page sizes.
     Consider this example:</p>

    <div class=example style="font-size: 10pt;">
     <pre>
 /* style sheet for "A4" printing */ 
 @media print and (width: 21cm) and (height: 29.7cm) {
    @page {
       margin: 3cm;
    }
 }
 
 /* style sheet for "letter" printing */
 @media print and (width: 8.5in) and (height: 11in) {
    @page {
        margin: 1in;
    }
 }
</pre>
    </div>

    <p>In the example above, "A4" sheets are given a "3cm" page margin, and
     "letter" sheets are given a "1in" page margin.</p>

    <h3 id=renderingpages><span class=secno>8.2 </span>Rendering page boxes
     that do not fit a page sheet</h3>

    <p>If a page box does not match the target page sheet dimensions, the
     user agent <em class=RFC2119>MAY</em> choose (in order of preference)
     to:</p>

    <ol>
     <li>Render the page box at the indicated size on a larger page sheet.

     <li>Rotate the page box 90° if this will make the page box fit the page
      sheet.

     <li>Scale the page box to fit the page sheet. (The aspect ratio of the
      page box <em class=RFC2119>should</em> be preserved.)

     <li>Reformat the page contents, including &lsquo;<code
      class=property>spilling</code>&rsquo; onto other page sheets.

     <li>Clip overflowed content (least preferred).
    </ol>

    <p>The user agent <em class=RFC2119>MAY</em> wish to consult the user
     before performing these operations.</p>

    <h3 id=positioning-page-box><span class=secno>8.3 </span>Positioning the
     page box on the sheet</h3>

    <p>When the page box is smaller than the page size, the user agent <em
     class=RFC2119>SHOULD</em> either:</p>

    <ul>
     <li>center the page box on the sheet since this will align double-sided
      pages and avoid accidental loss of information that is printed near the
      edge of the sheet; or

     <li>position the page box in the upper left corner of the page sheet, as
      this may minimize media consumption.
    </ul>

    <p>The user agent <em class=RFC2119>MAY</em> wish to consult the user in
     this regard.</p>
    <!-- "Page selector and page context" -->
    <h2 id=page-breaks><span class=secno>9 </span>Page Breaks</h2>

    <p>The following sections explain page breaking in CSS3 paged media. Five
     properties indicate where the user agent <em class=RFC2119>MAY</em> or
     <em class=RFC2119>SHOULD</em> break pages, and on what page (left or
     right) the subsequent content <em class=RFC2119>SHOULD</em> resume. Each
     page break ends layout in the current <a href="#page-box">page box</a>
     and causes remaining pieces of the document tree to be laid out in a new
     page box.</p>

    <p>When a page break splits a box, the box's bottom margins, borders, and
     padding have no visual effect where the split occurs; the box's
     background and left and right margins, border, and padding extend to the
     bottom of the page, through an ensuing blank page if one exists, and
     onto the top of the subsequent page.</p>

    <h3 id=pg-br-before-after><span class=secno>9.1 </span>Break before/after
     elements: <span class=property>&lsquo;<code class=property><a
     href="#page-break-before">page-break-before</a></code>&rsquo;</span>,
     <span class=property>&lsquo;<code class=property><a
     href="#page-break-after">page-break-after</a></code>&rsquo;</span>,
     <span class=property>&lsquo;<code class=property><a
     href="#page-break-inside">page-break-inside</a></code>&rsquo;</span></h3>

    <table class=propdef summary="property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=page-break-before>page-break-before</dfn>

      <tr>
       <th>Value:

       <td>auto | always | avoid | left | right

      <tr>
       <th>Initial:

       <td>auto

      <tr>
       <th>Applies to:

       <td>block-level elements

      <tr>
       <th>Inherited:

       <td>no

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>paged

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <table class=propdef summary="property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=page-break-after>page-break-after</dfn>

      <tr>
       <th>Value:

       <td>auto | always | avoid | left | right

      <tr>
       <th>Initial:

       <td>auto

      <tr>
       <th>Applies to:

       <td>block-level boxes, table row groups, table rows (but see prose)

      <tr>
       <th>Inherited:

       <td>no

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>paged

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <table class=propdef summary="property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=page-break-inside>page-break-inside</dfn>

      <tr>
       <th>Value:

       <td>auto | avoid

      <tr>
       <th>Initial:

       <td>auto

      <tr>
       <th>Applies to:

       <td>block-level boxes, table row groups, table rows, and table cells
        (but see prose)

      <tr>
       <th>Inherited:

       <td>no

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>paged

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <p>Values for these properties have the following meanings:</p>

    <dl>
     <dt>auto

     <dd>Neither force nor forbid a page break before / after / inside the
      generated box.

     <dt>always

     <dd>Always force a page break before / after the generated box.

     <dt>avoid

     <dd>Avoid a page break before / after / inside the generated box.

     <dt>left

     <dd>Force one or two page breaks before (after) the generated box so
      that the next page is formatted as a left page.

     <dt>right

     <dd>Force one or two page breaks before (after) the generated box so
      that the next page is formatted as a right page.
    </dl>

    <p>A potential page break location is typically under the influence of
     the parent element's <span class=property>&lsquo;<code class=property><a
     href="#page-break-inside">page-break-inside</a></code>&rsquo;</span>
     property, the <span class=property>&lsquo;<code class=property><a
     href="#page-break-after">page-break-after</a></code>&rsquo;</span>
     property of the preceding element, and the <span
     class=property>&lsquo;<code class=property><a
     href="#page-break-before">page-break-before</a></code>&rsquo;</span>
     property of the following element. When these properties have values
     other than <span class=css>&lsquo;<code
     class=property>auto</code>&rsquo;</span>, the values <span
     class=css>&lsquo;<code class=property>always</code>&rsquo;</span>, <span
     class=css>&lsquo;<code class=property>left</code>&rsquo;</span>, and
     <span class=css>&lsquo;<code class=property>right</code>&rsquo;</span>
     take precedence over <span class=css>&lsquo;<code
     class=property>avoid</code>&rsquo;</span>. See the section on <a
     href="#allowed-pg-brk">allowed page breaks</a> for the exact rules on
     how these properties affect page breaks.</p>

    <p>User Agents must apply these properties to block-level boxes and to
     table rows, table row groups, and&#8212;in the case of &lsquo;<code
     class=property><a
     href="#page-break-inside">page-break-inside</a></code>&rsquo;&#8212;table
     cells of block-level tables in the normal flow of the root element. User
     agents should also apply these properties to floated boxes whose
     containing block is in the normal flow of the root element. User agents
     may also apply these properties to other boxes.

    <h3 id=using-named-pages><span class=secno>9.2 </span>Using named pages:
     &lsquo;<code class=property><a href="#page">page</a></code>&rsquo;</h3>

    <table class=propdef summary="property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=page>page</dfn>

      <tr>
       <th>Value:

       <td>auto | &lt;identifier&gt;

      <tr>
       <th>Initial:

       <td>auto

      <tr>
       <th>Applies to:

       <td>block-level elements

      <tr>
       <th>Inherited:

       <td>no (but see prose)

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>paged

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <p>The <span class=property>&lsquo;<code class=property><a
     href="#page">page</a></code>&rsquo;</span> property is used to specify a
     particular type of page where an element <em class=RFC2119>SHOULD</em>
     be displayed.</p>

    <div class=example>
     <p>This example will put all tables on a right-hand side landscape page
      (named "rotated"):</p>

     <pre>
@page rotated { size: landscape }
table { page: rotated; page-break-before: right }
</pre>
    </div>

    <p>The <span class=property>&lsquo;<code class=property><a
     href="#page">page</a></code>&rsquo;</span> property works as follows: If
     a block box with inline content has a <span class=property>&lsquo;<code
     class=property><a href="#page">page</a></code>&rsquo;</span> property
     that is different from the preceding block box with inline content, then
     one or two page breaks are inserted between them, and the boxes after
     the break are rendered on a page box of the named type. See <a
     href="#forced-pg-brk">"Forced page breaks" below</a>.

    <p>The &lsquo;<code class=property><a href="#page">page</a></code>&rsquo;
     property does not inherit. However, if the &lsquo;<code
     class=property><a href="#page">page</a></code>&rsquo; value on an
     element is &lsquo;<code class=css>auto</code>&rsquo;, then it is treated
     as having the same name as its nearest ancestor with a non-auto value.
     When indicated on the root element, the effective name is the empty
     string.</p>

    <p>Because a previous version of this specification indicated that the
     &lsquo;<code class=property><a href="#page">page</a></code>&rsquo;
     property is inherited, an implementation that inherits the &lsquo;<code
     class=property><a href="#page">page</a></code>&rsquo; property and
     treats &lsquo;<code class=css>auto</code>&rsquo; as always naming the
     empty string remains conformant to CSS3 Paged Media. Therefore authors
     should not explicitly specify the &lsquo;<code
     class=css>auto</code>&rsquo; value on a descendant of an element with a
     non-&lsquo;<code class=css>auto</code>&rsquo; &lsquo;<code
     class=property><a href="#page">page</a></code>&rsquo; value as the
     resulting behavior will be unpredictable.

    <p>Page names are case-sensitive identifiers. However the &lsquo;<code
     class=css>auto</code>&rsquo; value, being a CSS keyword, is <a
     href="http://www.w3.org/TR/CSS21/syndata.html#characters">case-insensitive</a>.
     

    <div class=example>
     <p>In this example, the two tables are rendered on landscape pages
      (indeed, on the same page, if they fit). The page type "narrow" is used
      for the &lt;p&gt; after the second table, as the page properties for
      the table element are no longer in effect:</p>

     <pre>
@page narrow { size: 9cm 18cm }
@page rotated { size: landscape }
div { page: narrow }
table { page: rotated }
</pre>
     with this document:
     <pre>
&lt;div&gt;
&lt;table&gt;...&lt;/table&gt;
&lt;table&gt;...&lt;/table&gt;
&lt;p&gt;This text is rendered on a 'narrow' page&lt;/p&gt;
&lt;/div&gt;
</pre>
    </div>

    <h3 id=breaks-inside><span class=secno>9.3 </span>Breaks inside elements:
     &lsquo;<code class=property><a
     href="#orphans">orphans</a></code>&rsquo;, &lsquo;<code
     class=property><a href="#widows">widows</a></code>&rsquo;</h3>

    <table class=propdef summary="property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=orphans>orphans</dfn>

      <tr>
       <th>Value:

       <td>&lt;integer&gt;

      <tr>
       <th>Initial:

       <td>2

      <tr>
       <th>Applies to:

       <td>block-level elements

      <tr>
       <th>Inherited:

       <td>yes

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>visual

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <table class=propdef summary="property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=widows>widows</dfn>

      <tr>
       <th>Value:

       <td>&lt;integer&gt;

      <tr>
       <th>Initial:

       <td>2

      <tr>
       <th>Applies to:

       <td>block-level elements

      <tr>
       <th>Inherited:

       <td>yes

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>visual

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <p>The <span class=property>&lsquo;<code class=property><a
     href="#orphans">orphans</a></code>&rsquo;</span> property specifies the
     minimum number of line boxes in a block element that <em
     class=RFC2119>MUST</em> be left at the bottom of a page. The <span
     class=property>&lsquo;<code class=property><a
     href="#widows">widows</a></code>&rsquo;</span> property specifies the
     minimum number of line boxes of a block element that <em
     class=RFC2119>MUST</em> be left at the top of a page. Examples of how
     they are used to control page breaks are given below.</p>

    <p>Only positive integers are allowed as values of &lsquo;<code
     class=property><a href="#orphans">orphans</a></code>&rsquo; and
     &lsquo;<code class=property><a href="#widows">widows</a></code>&rsquo;.
     Negative values and zero are invalid must cause the declaration to be <a
     href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

    <p>If a block contains fewer lines than the value of &lsquo;<code
     class=property><a href="#widows">widows</a></code>&rsquo; or
     &lsquo;<code class=property><a
     href="#orphans">orphans</a></code>&rsquo;, the rule simply becomes that
     all lines in the block must be kept together.</p>

    <h3 id=allowed-pg-brk><span class=secno>9.4 </span>Allowed page breaks</h3>

    <p>In the normal flow, page breaks <em class=RFC2119>may</em> occur at
     the following places:</p>

    <ol>
     <li id=brk-btw-blocks>In the vertical margin between sibling block boxes
      (or rows in a table). When a <a href=forced-pg-brk>forced page
      break</a> occurs here, the used values of any adjoining &lsquo;<code
      class=property>margin-bottom</code>&rsquo; are set to zero. When an
      unforced page break occurs here, both the adjoining &lsquo;<code
      class=property>margin-top</code>&rsquo; and &lsquo;<code
      class=property>margin-bottom</code>&rsquo; are set to zero.

     <li id=brk-btw-lines>Between line boxes inside a block box.
    </ol>

    <p>These breaks are subject to the following rules:</p>

    <ul>
     <li><strong>Rule A:</strong> Breaking at <a
      href="#brk-btw-blocks">(1)</a> is allowed only if the &lsquo;<code
      class=property><a
      href="#page-break-after">page-break-after</a></code>&rsquo; and
      &lsquo;<code class=property><a
      href="#page-break-before">page-break-before</a></code>&rsquo;
      properties of all the elements generating boxes that meet at this
      margin allow it, which is when at least one of them has the value <span
      class=css>&lsquo;<code class=property>always</code>&rsquo;</span>,
      <span class=css>&lsquo;<code class=property>left</code>&rsquo;</span>,
      or <span class=css>&lsquo;<code
      class=property>right</code>&rsquo;</span>, or when all of them are
      <span class=css>&lsquo;<code class=property>auto</code>&rsquo;</span>.

     <li><strong>Rule B:</strong> However, if all of them are <span
      class=css>&lsquo;<code class=property>auto</code>&rsquo;</span> and a
      common ancestor of all the elements has a <span
      class=property>&lsquo;<code class=property><a
      href="#page-break-inside">page-break-inside</a></code>&rsquo;</span>
      value of <span class=css>&lsquo;<code
      class=property>avoid</code>&rsquo;</span>, then breaking here is not
      allowed.

     <li><strong>Rule C:</strong> Breaking at <a
      href="#brk-btw-lines">(2)</a> is allowed only if the number of line
      boxes between the break and the start of the enclosing block box is the
      value of &lsquo;<code class=property><a
      href="#orphans">orphans</a></code>&rsquo; or more, and the number of
      line boxes between the break and the end of the box is the value of
      &lsquo;<code class=property><a href="#widows">widows</a></code>&rsquo;
      or more.

     <li><strong>Rule D:</strong> In addition, breaking at <a
      href="#brk-btw-blocks">(2)</a> is allowed only if the &lsquo;<code
      class=property><a
      href="#page-break-inside">page-break-inside</a></code>&rsquo; property
      of all ancestors is <span class=css>&lsquo;<code
      class=property>auto</code>&rsquo;</span>.
    </ul>

    <p>If the above doesn't provide enough break points to keep content from
     overflowing the page boxes, then rules A, B and D are dropped in order
     to find additional breakpoints. In this case the UA may use the
     &lsquo;<code class=property>avoid</code>&rsquo;s that are in effect at
     those points to weigh the appropriateness of the new breakpoints;
     however, this specification does not suggest a precise algorithm.</p>

    <p>If that still does not lead to sufficient break points, rule C is
     dropped as well, to find still more break points.</p>

    <h3 id=forced-pg-brk><span class=secno>9.5 </span>Forced page breaks</h3>

    <p>A page break <em class=RFC2119>MUST</em> occur at <a
     href="#brk-btw-blocks">(1)</a> if, among the'page-break-after' and
     &lsquo;<code class=property><a
     href="#page-break-before">page-break-before</a></code>&rsquo; properties
     of all the elements generating boxes that meet at this margin, there is
     at least one with the value <span class=css>&lsquo;<code
     class=property>always</code>&rsquo;</span>, <span class=css>&lsquo;<code
     class=property>left</code>&rsquo;</span>, or <span
     class=css>&lsquo;<code class=property>right</code>&rsquo;</span>.</p>

    <p>When multiple &lsquo;<code class=property><a
     href="#page-break-before">page-break-before</a></code>&rsquo; and/or
     &lsquo;<code class=property><a
     href="#page-break-after">page-break-after</a></code>&rsquo; properties
     with values of "always", "left" or "right" apply at a margin, only one
     of them should generate page breaks. That is, no content-empty pages are
     generated by page-break properties, except for at most one content-empty
     page as may be required by &lsquo;<code
     class=property>right</code>&rsquo; and &lsquo;<code
     class=property>left</code>&rsquo; values to position ensuing content on
     a right- or left-facing page.</p>

    <p>A page break <em class=RFC2119>MUST</em> also occur at <a
     href="#brk-btw-blocks">(1)</a> if the last line box above this margin
     and the first one below it do not have the same value for &lsquo;<code
     class=property><a href="#page">page</a></code>&rsquo;.</p>

    <h3 id=best-pg-brk><span class=secno>9.6 </span>"Best" page breaks</h3>

    <p>CSS3 does <em>not</em> define which of a set of allowed page breaks
     <em class=RFC2119>MUST</em> be used; except as defined earlier in the
     section, CSS3 does not forbid a user agent to break at every possible
     break point, or to not break at all. But CSS3 does recommend that user
     agents observe the following guidelines (while recognizing that they are
     sometimes contradictory):</p>

    <ul>
     <li>Break as few times as possible.

     <li>Make all pages that don't end with a forced break appear to have
      about the same height.

     <li>Avoid breaking inside a replaced element.
    </ul>

    <div class=example>
     <p>Suppose, for example, that the style sheet contains <span
      class=css>&lsquo;<code class=css>orphans : 4</code>&rsquo;</span>,
      <span class=css>&lsquo;<code class=css>widows : 2</code>&rsquo;</span>,
      and there are 20 lines (line boxes) available at the bottom of the
      current page, and the next block in normal flow is considered for
      placement:</p>

     <ul>
      <li>If the block contains 20 line boxes or fewer, it <em
       class=RFC2119>SHOULD</em> be placed on the current page.

      <li>If the block contains 21 or 22 line boxes, the second part of the
       paragraph <em class=RFC2119>MUST</em> not violate the <span
       class=property>&lsquo;<code class=property><a
       href="#widows">widows</a></code>&rsquo;</span> constraint, and so the
       second part <em class=RFC2119>MUST</em> contain at least two line
       boxes; likewise the first part <em class=RFC2119>MUST</em> contain at
       least four line boxes.

      <li>If the block contains 23 line boxes or more, the first part <em
       class=RFC2119>SHOULD</em> contain 20 lines and the second part the
       remaining lines. (But if any part of the block is placed on the
       current page, that part <em class=RFC2119>MUST</em> contain at least
       four line boxes and the second part at least two line boxes.)
     </ul>

     <p>Now suppose that <span class=property>&lsquo;<code class=property><a
      href="#orphans">orphans</a></code>&rsquo;</span> is <span
      class=css>&lsquo;<code class=css>10</code>&rsquo;</span>, <span
      class=property>&lsquo;<code class=property><a
      href="#widows">widows</a></code>&rsquo;</span> is <span
      class=css>&lsquo;<code class=css>20</code>&rsquo;</span>, and there are
      8 lines available at the bottom of the current page:</p>

     <ul>
      <li>If the block contains 8 lines or fewer, it <em
       class=RFC2119>SHOULD</em> be placed on the current page.

      <li>If the block contains 9 lines or more, it <em class=RFC2119>MAY
       NOT</em> be split (that would violate the orphan constraint), so it
       <em class=RFC2119>MUST</em> move as a block to the next page.
     </ul>
    </div>

    <h2 id=image-properties><span class=secno>10 </span>Image Properties</h2>

    <p class=note>The following properties may be transferred to a more
     appropriate CSS module in the future.</p>

    <h3 id=image-orientation><span class=secno>10.1 </span>Orienting an Image
     on the Page: the <a href="#propdef-img-orient">image-orientation</a>
     property</h3>

    <p>Images from camera phones, digital cameras or scanners may be encoded
     sideways. For example, the first row of image data may represent the
     leftmost or rightmost column of image pixels. Furthermore, often such
     devices have limited resources, and do not have the capability to rotate
     the image into an upright orientation. However, this type of device may
     have internal knowledge or can accept input from its user as to the
     rotational correction to perform.</p>

    <p>The image-orientation property provides a way to specify an
     &lsquo;<code class=property>out-of-band</code>&rsquo; rotation to be
     applied to image source data. This facility is not intended to specify
     layout transformations such as arbitrary rotation or flipping the image
     in the horizontal or vertical direction. It is not needed to correctly
     orient an image when printing in landscape versus portrait orientation,
     as that rotation is done as part of layout.</p>

    <table class=propdef summary="image-orientation property definition">
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=propdef-img-orient>image-orientation</dfn>

      <tr>
       <th>Value:

       <td>&lt;angle&gt;

      <tr>
       <th>Initial:

       <td>0deg

      <tr>
       <th>Applies to:

       <td>images

      <tr>
       <th>Inherited:

       <td>N/A

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>visual

      <tr>
       <th>Computed value:

       <td>normalized angle (&lsquo;<code class=css>0deg</code>&rsquo;,
        &lsquo;<code class=css>90deg</code>&rsquo;, &lsquo;<code
        class=css>180deg</code>&rsquo;, or &lsquo;<code
        class=css>270deg</code>&rsquo;)
    </table>

    <p>&lsquo;<code class=property><a
     href="#propdef-img-orient">image-orientation</a></code>&rsquo; specifies
     an orthogonal rotation to be applied to an image before it is laid out.
     CSS layout processing applies to the image after rotation. This implies,
     for example:</p>

    <ul>
     <li>The intrinsic height and width are derived from the rotated rather
      than the original image dimensions;

     <li>The height (width) property applies to the vertical (horizontal)
      dimension of the image, <em>after</em> rotation.
    </ul>

    <p>The following values for the <span class=property>&lsquo;<code
     class=property><a
     href="#propdef-img-orient">image-orientation</a></code>&rsquo;</span>
     property apply to an image:</p>

    <dl>
     <dt>&lt;angle&gt;

     <dd>Positive values cause the image to be rotated to the right (in a
      clockwise direction), while negative values cause a rotation to the
      left. The angular value in degrees, radians or grads is rounded to the
      nearest cardinal angle. Values half way between cardinal angles, such
      as 45deg, round forward, in the direction of rotation. Values greater
      than 360deg or less than -360deg are moduloed to produce a value
      between 0deg and 360deg. Analogous rules apply for rad and grad unit
      values.
    </dl>

    <pre class=example>
The following example rotates the image 90 degrees clockwise:

img.ninety     { image-orientation: 90deg }
...
&lt;img class="ninety" src=... /&gt;
</pre>

    <h3 id=img-fit><span class=secno>10.2 </span>The &lsquo;<code
     class=property><a href="#propdef-image-fit">image-fit</a></code>&rsquo;
     Property</h3>

    <table class=propdef>
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=propdef-image-fit>image-fit</dfn>

      <tr>
       <th>Value:

       <td>fill | contain | cover

      <tr>
       <th>Initial:

       <td>fill

      <tr>
       <th>Applies to:

       <td>replaced elements

      <tr>
       <th>Inherited:

       <td>yes

      <tr>
       <th>Percentages:

       <td>N/A

      <tr>
       <th>Media:

       <td>visual

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <p>The &lsquo;<code class=property><a
     href="#propdef-image-fit">image-fit</a></code>&rsquo; property specifies
     how the contents of a replaced element should be scaled relative to the
     box established by its used height and width. It also enables scaling a
     replaced element's contents up to a specified maximum size or down to a
     specified minimum size while preserving its aspect ratio.</p>

    <p>Not all replaced elements can be scaled, but images typically can.</p>

    <p>The contents of a replaced element with an intrinsic aspect ratio
     (which may be derived from intrinsic dimensions) are scaled as follows:</p>

    <dl>
     <dt>fill

     <dd>Determine the used &lsquo;<code class=property>height</code>&rsquo;
      and &lsquo;<code class=property>width</code>&rsquo; <a
      href="/TR/CSS21/visudet.html">as usual</a>. Scale the content height
      and width independently so that the edges of the content just meet the
      edges of the box established by the used &lsquo;<code
      class=property>height</code>&rsquo; and &lsquo;<code
      class=property>width</code>&rsquo;.

     <dt>contain

     <dd>Determine the used &lsquo;<code class=property>height</code>&rsquo;
      and &lsquo;<code class=property>width</code>&rsquo; <a
      href="/TR/CSS21/visudet.html">as usual</a>, except if both &lsquo;<code
      class=property>height</code>&rsquo; and &lsquo;<code
      class=property>width</code>&rsquo; are &lsquo;<code
      class=property>auto</code>&rsquo;, and the used value of at least one
      of &lsquo;<code class=property>max-width</code>&rsquo; and &lsquo;<code
      class=property>max-height</code>&rsquo; is not &lsquo;<code
      class=property>none</code>&rsquo;, then compute the element's used
      width and used height as though the intrinsic dimensions of the
      contents were infinitely large numbers whose ratio is the actual
      intrinsic ratio of the contents.

     <dd>Scale the contents of the element, preserving their aspect ratio, to
      the largest size such that the width of the contents is less than or
      equal to the used width of the box and the height of the contents is
      less than or equal to the used height of the box.

     <dt>cover

     <dd>Determine the used &lsquo;<code class=property>height</code>&rsquo;
      and &lsquo;<code class=property>width</code>&rsquo; <a
      href="/TR/CSS21/visudet.html">as usual</a>, except if both &lsquo;<code
      class=property>height</code>&rsquo; and &lsquo;<code
      class=property>width</code>&rsquo; are &lsquo;<code
      class=property>auto</code>&rsquo;, and the used value of at least one
      of &lsquo;<code class=property>min-width</code>&rsquo; and &lsquo;<code
      class=property>min-height</code>&rsquo; is not &lsquo;<code
      class=css>0</code>&rsquo;, then compute the used width and used height
      of the element as though the intrinsic dimensions of the contents were
      infinitesimally small numbers whose ratio is the actual intrinsic ratio
      of the contents.

     <dd>Scale the contents of the element, preserving their aspect ratio, to
      the smallest size such that the width of the contents is greater than
      or equal to the used width of the box and the height of the contents is
      greater than or equal to the height of the box.
    </dl>

    <p>The &lsquo;<code class=property>overflow</code>&rsquo; property
     determines how to render parts of the replaced element's content that
     extend beyond the edges of its box. See the <a
     href="#propdef-image-position">&lsquo;<code
     class=property>image-position</code>&rsquo;</a> property for positioning
     the object with respect to the element's box.</p>

    <p class=note> Note: the &lsquo;<code class=property><a
     href="#propdef-image-fit">image-fit</a></code>&rsquo; property has
     similar semantics to the fit attribute in <a href="#SMIL10"
     rel=biblioentry>[SMIL10]<!--{{SMIL10}}--></a>.</p>

    <div class=figure>
     <p><img alt="Illustration of the four values" src="img_scale.png"
      style="width: 70%; border: thin solid black;"></p>

     <p class=caption> An example showing how each of the four values of
      &lsquo;<code class=property><a
      href="#propdef-image-fit">image-fit</a></code>&rsquo; causes the
      replaced element (blue figure) to be scaled to fit its height/width box
      (shown with a green background), with overflow &lsquo;<code
      class=property>visible</code>&rsquo; and &lsquo;<code
      class=property>hidden</code>&rsquo;, using the initial value for
      &lsquo;<code class=property><a
      href="#propdef-image-posn">image-position</a></code>&rsquo;.</p>
    </div>

    <h3 id=img-fit><span class=secno>10.3 </span>The &lsquo;<code
     class=property><a
     href="#propdef-image-posn">image-position</a></code>&rsquo; Property</h3>

    <table class=propdef>
     <tbody>
      <tr>
       <th>Name:

       <td><dfn id=propdef-image-posn>image-position</dfn>

      <tr>
       <th>Value:

       <td>[ [ <a class=noxref
        href="/TR/CSS21/syndata.html#value-def-percentage"><span
        class=value-inst-percentage>&lt;percentage&gt;</span></a> | <a
        class=noxref href="/TR/CSS21/syndata.html#value-def-length"><span
        class=value-inst-length>&lt;length&gt;</span></a> | left | center |
        right ] [ <a class=noxref
        href="/TR/CSS21/syndata.html#value-def-percentage"><span
        class=value-inst-percentage>&lt;percentage&gt;</span></a> | <a
        class=noxref href="/TR/CSS21/syndata.html#value-def-length"><span
        class=value-inst-length>&lt;length&gt;</span></a> | top | center |
        bottom ]? ] | [ [ left | center | right ] || [ top | center | bottom
        ] ]

      <tr>
       <th>Initial:

       <td>50% 50%

      <tr>
       <th>Applies to:

       <td>replaced elements

      <tr>
       <th>Inherited:

       <td>yes

      <tr>
       <th>Percentages:

       <td>refer to width and height of box itself

      <tr>
       <th>Media:

       <td>visual

      <tr>
       <th>Computed value:

       <td>specified value
    </table>

    <p>The &lsquo;<code class=property><a
     href="#propdef-image-posn">image-position</a></code>&rsquo; property
     determines the alignment of the replaced element inside its box. The
     values have the same meaning as the values for the &lsquo;<code
     class=property>background-position</code>&rsquo; property. See <a
     href="/TR/CSS21/colors.html#propdef-background-position">background-position</a>
     of these values.</p>

    <dl>
     <dt>&lt;percentage&gt; &lt;percentage&gt;

     <dd>With a value pair of &lsquo;<code class=css>0% 0%</code>&rsquo;, the
      upper left corner of the image is aligned with the upper left corner of
      the box's padding edge. A value pair of '100% 100%&lsquo;<code
      class=css> places the lower right corner of the image in the lower
      right corner of padding area. With a value pair of </code>&rsquo;14%
      84%&lsquo;<code class=css>, the point 14% across and 84% down the image
      is to be placed at the point 14% across and 84% down the padding
      area.</code>

     <dt>&lt;length&gt; &lt;length&gt;

     <dd>With a value pair of &rsquo;2cm 2cm', the upper left corner of the
      image is placed 2cm to the right and 2cm below the upper left corner of
      the padding area.

     <dt>&lsquo;<code class=css>top left</code>&rsquo;, &lsquo;<code
      class=css>left top</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>0% 0%</code>&rsquo;.

     <dt>&lsquo;<code class=property>top</code>&rsquo;, &lsquo;<code
      class=css>top center</code>&rsquo;, &lsquo;<code class=css>center
      top</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>50% 0%</code>&rsquo;.

     <dt>&lsquo;<code class=css>right top</code>&rsquo;, &lsquo;<code
      class=css>top right</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>100% 0%</code>&rsquo;.

     <dt>&lsquo;<code class=property>left</code>&rsquo;, &lsquo;<code
      class=css>left center</code>&rsquo;, &lsquo;<code class=css>center
      left</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>0% 50%</code>&rsquo;.

     <dt>&lsquo;<code class=property>center</code>&rsquo;, &lsquo;<code
      class=css>center center</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>50% 50%</code>&rsquo;.

     <dt>&lsquo;<code class=property>right</code>&rsquo;, &lsquo;<code
      class=css>right center</code>&rsquo;, &lsquo;<code class=css>center
      right</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>100% 50%</code>&rsquo;.

     <dt>&lsquo;<code class=css>bottom left</code>&rsquo;, &lsquo;<code
      class=css>left bottom</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>0% 100%</code>&rsquo;.

     <dt>&lsquo;<code class=property>bottom</code>&rsquo;, &lsquo;<code
      class=css>bottom center</code>&rsquo;, &lsquo;<code class=css>center
      bottom</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>50% 100%</code>&rsquo;.

     <dt>&lsquo;<code class=css>bottom right</code>&rsquo;, &lsquo;<code
      class=css>right bottom</code>&rsquo;

     <dd>Same as &lsquo;<code class=css>100% 100%</code>&rsquo;.
    </dl>

    <p>The computed value is the same as the specified value.</p>

    <p class=note> Note: areas of the box not covered by the replaced element
     will show the element's background.</p>

    <h2 class=no-num id=properties-list>Appendix A: Applicable CSS2.1
     Properties</h2>

    <h3 class=no-num id=properties-that-apply-within-the-page-co>Properties
     that apply within the page context</h3>

    <p>The following CSS 2.1 <a href="#CSS21"
     rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> properties apply to the
     page box. If a conforming user agent supports any of these properties on
     block boxes, then it must also support that property for the page box.</p>

    <table class=property-list>
     <tbody>
      <tr>
       <td rowspan=2><a href="/TR/CSS21/visuren.html#direction">bidi
        properties</a>

       <td>direction

     <tbody>
      <tr>
       <td rowspan=6><a
        href="/TR/CSS21/colors.html#background-properties">background
        properties</a>

       <td>background-color

      <tr>
       <td>background-image

      <tr>
       <td>background-repeat

      <tr>
       <td>background-attachment

      <tr>
       <td>background-position

      <tr>
       <td>background

     <tbody>
      <tr>
       <td rowspan=20><a href="/TR/CSS21/box.html#border-properties">border
        properties</a>

       <td>border-top-width

      <tr>
       <td>border-right-width

      <tr>
       <td>border-bottom-width

      <tr>
       <td>border-left-width

      <tr>
       <td>border-width

      <tr>
       <td>border-top-color

      <tr>
       <td>border-right-color

      <tr>
       <td>border-bottom-color

      <tr>
       <td>border-left-color

      <tr>
       <td>border-color

      <tr>
       <td>border-top-style

      <tr>
       <td>border-right-style

      <tr>
       <td>border-bottom-style

      <tr>
       <td>border-left-style

      <tr>
       <td>border-short-style

      <tr>
       <td>border-top

      <tr>
       <td>border-right

      <tr>
       <td>border-bottom

      <tr>
       <td>border-left

      <tr>
       <td>border

     <tbody>
      <tr>
       <td rowspan=2><a href="/TR/CSS21/generate.html#counters">counter
        properties</a>

       <td>counter-reset

      <tr>
       <td>counter-increment

     <tbody>
      <tr>
       <td colspan=2><a href="/TR/CSS21/colors.html#propdef-color">color</a>

     <tbody>
      <tr>
       <td rowspan=6><a href="/TR/CSS21/fonts.html">font properties</a>

       <td>font-family

      <tr>
       <td>font-size

      <tr>
       <td>font-style

      <tr>
       <td>font-variant

      <tr>
       <td>font-weight

      <tr>
       <td>font

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/visudet.html#line-height">line-height</a>

     <tbody>
      <tr>
       <td rowspan=5><a href="/TR/CSS21/box.html#margin-properties">margin
        properties</a>

       <td>margin-top

      <tr>
       <td>margin-right

      <tr>
       <td>margin-bottom

      <tr>
       <td>margin-left

      <tr>
       <td>margin

     <tbody>
      <tr>
       <td rowspan=5><a href="/TR/CSS21/ui.html#dynamic-outlines">outline
        properties</a>

       <td>outline-width

      <tr>
       <td>outline-style

      <tr>
       <td>outline-color

      <tr>
       <td>outline

     <tbody>
      <tr>
       <td rowspan=5><a href="/TR/CSS21/box.html#padding-properties">padding
        properties</a>

       <td>padding-top

      <tr>
       <td>padding-right

      <tr>
       <td>padding-bottom

      <tr>
       <td>padding-left

      <tr>
       <td>padding

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/generate.html#quotes-specify">quotes</a>

     <tbody>
      <tr>
       <td rowspan=8><a href="/TR/CSS21/text.html">text properties</a>

       <td>direction

      <tr>
       <td>letter-spacing

      <tr>
       <td>text-align

      <tr>
       <td>text-decoration

      <tr>
       <td>text-indent

      <tr>
       <td>text-transform

      <tr>
       <td>white-space

      <tr>
       <td>word-spacing

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/visufx.html#visibility">visibility</a>
    </table>

    <p>Properties that apply to the margin boxes can also be set within the
     page context: if inheritable or explicitly inherited (with the
     <code>inherit</code> keyword on the margin box), they will inherit to
     the margin boxes.</p>

    <h3 class=no-num id=properties-that-apply-within-the-margin->Properties
     that apply within the margin contexts</h3>

    <p>The following CSS 2.1 <a href="#CSS21"
     rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> properties apply to margin
     boxes. If a conforming user agents supports any of these properties on
     block boxes, then it must also support that property for margin boxes
     (except for <code>z-index</code>, which is optional for margin boxes).</p>

    <table class=property-list>
     <tbody>
      <tr>
       <td rowspan=2><a href="/TR/CSS21/visuren.html#direction">bidi
        properties</a>

       <td>direction

      <tr>
       <td>unicode-bidi

     <tbody>
      <tr>
       <td rowspan=6><a
        href="/TR/CSS21/colors.html#background-properties">background
        properties</a>

       <td>background-color

      <tr>
       <td>background-image

      <tr>
       <td>background-repeat

      <tr>
       <td>background-attachment

      <tr>
       <td>background-position

      <tr>
       <td>background

     <tbody>
      <tr>
       <td rowspan=20><a href="/TR/CSS21/box.html#border-properties">border
        properties</a>

       <td>border-top-width

      <tr>
       <td>border-right-width

      <tr>
       <td>border-bottom-width

      <tr>
       <td>border-left-width

      <tr>
       <td>border-width

      <tr>
       <td>border-top-color

      <tr>
       <td>border-right-color

      <tr>
       <td>border-bottom-color

      <tr>
       <td>border-left-color

      <tr>
       <td>border-color

      <tr>
       <td>border-top-style

      <tr>
       <td>border-right-style

      <tr>
       <td>border-bottom-style

      <tr>
       <td>border-left-style

      <tr>
       <td>border-short-style

      <tr>
       <td>border-top

      <tr>
       <td>border-right

      <tr>
       <td>border-bottom

      <tr>
       <td>border-left

      <tr>
       <td>border

     <tbody>
      <tr>
       <td rowspan=2><a href="/TR/CSS21/generate.html#counters">counter
        properties</a>

       <td>counter-reset

      <tr>
       <td>counter-increment

     <tbody>
      <tr>
       <td colspan=2><a href="">content</a>

     <tbody>
      <tr>
       <td colspan=2><a href="/TR/CSS21/colors.html#propdef-color">color</a>

     <tbody>
      <tr>
       <td rowspan=6><a href="/TR/CSS21/fonts.html">font properties</a>

       <td>font-family

      <tr>
       <td>font-size

      <tr>
       <td>font-style

      <tr>
       <td>font-variant

      <tr>
       <td>font-weight

      <tr>
       <td>font

     <tbody>
      <tr>
       <td rowspan=3><a
        href="/TR/CSS21/visudet.html#the-height-property">height</a> <a
        href="/TR/CSS21/visudet.html#min-max-heights">properties</a>

       <td>height

      <tr>
       <td>min-height

      <tr>
       <td>max-height

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/visudet.html#line-height">line-height</a>

     <tbody>
      <tr>
       <td rowspan=5><a href="/TR/CSS21/box.html#margin-properties">margin
        properties</a>

       <td>margin-top

      <tr>
       <td>margin-right

      <tr>
       <td>margin-bottom

      <tr>
       <td>margin-left

      <tr>
       <td>margin

     <tbody>
      <tr>
       <td rowspan=5><a href="/TR/CSS21/ui.html#dynamic-outlines">outline
        properties</a>

       <td>outline-width

      <tr>
       <td>outline-style

      <tr>
       <td>outline-color

      <tr>
       <td>outline

     <tbody>
      <tr>
       <td colspan=2><a href="/TR/CSS21/visufx.html#overflow">overflow</a>

     <tbody>
      <tr>
       <td rowspan=5><a href="/TR/CSS21/box.html#padding-properties">padding
        properties</a>

       <td>padding-top

      <tr>
       <td>padding-right

      <tr>
       <td>padding-bottom

      <tr>
       <td>padding-left

      <tr>
       <td>padding

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/generate.html#quotes-specify">quotes</a>

     <tbody>
      <tr>
       <td rowspan=7><a href="/TR/CSS21/text.html">text properties</a>

       <td>letter-spacing

      <tr>
       <td>text-align

      <tr>
       <td>text-decoration

      <tr>
       <td>text-indent

      <tr>
       <td>text-transform

      <tr>
       <td>white-space

      <tr>
       <td>word-spacing

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/visudet.html#line-height">vertical-align</a>

     <tbody>
      <tr>
       <td colspan=2><a
        href="/TR/CSS21/visufx.html#visibility">visibility</a>

     <tbody>
      <tr>
       <td rowspan=3><a
        href="/TR/CSS21/visudet.html#the-width-property">width</a> <a
        href="/TR/CSS21/visudet.html#min-max-widths">properties</a>

       <td>width

      <tr>
       <td>min-width

      <tr>
       <td>max-width

     <tbody>
      <tr>
       <td colspan=2><a href="/TR/CSS21/visuren.html#z-index">z-index</a>
    </table>

    <h2 class=no-num id=transfer-possibilities>Appendix B: Transfer
     Possibilities</h2>

    <p>Often, but not always, the page box has a one-to-one correspondence to
     the physical surface onto which the document is ultimately rendered. The
     CSS3 page model specifies formatting within the page box, but it is the
     user agent's responsibility to transfer the page box to the sheet. Some
     user agent transfer possibilities that are not addressed by CSS3
     include:</p>

    <ul id=complex-usecases>
     <li>Transferring one page box to one sheet (e.g. single-sided printing);

     <li>Transferring two page boxes to the front and back surfaces of the
      same sheet (e.g. double-sided printing);

     <li>Transferring N (small) page boxes to one sheet (called "N-up");

     <li>Transferring one (large) page box to N x M sheets (called "tiling");

     <li>Creating signatures. A <dfn id=signature>signature</dfn> is a group
      of pages printed on a sheet, which, when folded and trimmed like a
      book, appear in their proper sequence;

     <li>Printing one document to multiple output trays;

     <li>Generating files containing print instructions.
    </ul>

    <h2 class=no-num id=references>References</h2>

    <h3 class=no-num id=normative-references>Normative References</h3>
    <!--begin-normative--> <!-- Sorted by label -->
    <dl class=bibliography>
     <dt style="display:
      none"><!-- keeps the doc valid if the DL is empty --> <!---->

     <dt id=CSS21>[CSS21]

     <dd>Bert Bos; et al. <a
      href="http://www.w3.org/TR/2009/CR-CSS21-20090423"><cite>Cascading
      Style Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 23
      April 2009. W3C Candidate Recommendation. (Work in progress.) URL: <a
      href="http://www.w3.org/TR/2009/CR-CSS21-20090423">http://www.w3.org/TR/2009/CR-CSS21-20090423</a>
      </dd>
     <!---->

     <dt id=PWGMSN>[PWGMSN]

     <dd>Ron Bergman; Tom Hastings. <a
      href="ftp://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn10-20020226-5101.1.pdf"><cite>Media
      Standardized Names.</cite></a> 26 February 2002. IEEE ISTO Printer
      Working Group 5101.1-2002. URL: <a
      href="ftp://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn10-20020226-5101.1.pdf">ftp://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn10-20020226-5101.1.pdf</a>
      </dd>
     <!---->

     <dt id=RFC2119>[RFC2119]

     <dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
      words for use in RFCs to Indicate Requirement Levels.</cite></a>
      Internet RFC 2119. URL: <a
      href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
      </dd>
     <!---->
    </dl>
    <!--end-normative-->
    <h3 class=no-num id=informative-references>Informative References</h3>
    <!--begin-informative--> <!-- Sorted by label -->
    <dl class=bibliography>
     <dt style="display:
      none"><!-- keeps the doc valid if the DL is empty --> <!---->

     <dt id=CSS3TEXTLAYOUT>[CSS3TEXTLAYOUT]

     <dd>Elika J. Etemad; Paul Nelson. <cite>CSS3 Text Layout Module.</cite>
      (forthcoming). W3C Working Draft. (Work in progress.)</dd>
     <!---->

     <dt id=MEDIAQ>[MEDIAQ]

     <dd>Daniel Glazman; et al. <a
      href="http://www.w3.org/TR/2009/WD-css3-mediaqueries-20090423"><cite>Media
      Queries.</cite></a> 23 April 2009. W3C Candidate Recommendation. (Work
      in progress.) URL: <a
      href="http://www.w3.org/TR/2009/WD-css3-mediaqueries-20090423">http://www.w3.org/TR/2009/WD-css3-mediaqueries-20090423</a>
      </dd>
     <!---->

     <dt id=SMIL10>[SMIL10]

     <dd>Philipp Hoschka. <a
      href="http://www.w3.org/TR/1998/REC-smil-19980615"><cite>Synchronized
      Multimedia Integration Language (SMIL) 1.0 Specification.</cite></a> 15
      June 1998. W3C Recommendation. URL: <a
      href="http://www.w3.org/TR/1998/REC-smil-19980615">http://www.w3.org/TR/1998/REC-smil-19980615</a>
      </dd>
     <!---->
    </dl>
    <!--end-informative--></div>
  </div>
