<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">

<html>
 <head>
  <title>Flexible Box Layout Module</title>
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED" rel=stylesheet
  type="text/css">
  <link href="../default.css" rel=stylesheet type="text/css">

 <body>
  <div class=head>
   <h1 id=head-box-flexible>Flexible Box Layout Module</h1>

   <h2 class="no-num no-toc" id=w3c-working>Editor's Draft, 10 June 2009</h2>

   <dl>
    <dt>This version:

    <dd><!-- <a href="http://www.w3.org/TR/2009/WD-css3-flexbox-20090610/">http://www.w3.org/TR/2009/WD-css3-flexbox-20090610/</a></dd> -->
     <a
     href="http://dev.w3.org/csswg/css3-flexbox/">http://dev.w3.org/csswg/css3-flexbox/</a>
     

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-flexbox/">http://www.w3.org/TR/css3-flexbox/</a>
     

    <dt>Editors:

    <dd>L. David Baron, Mozilla Corporation, <a
     href="mailto:dbaron@dbaron.org">dbaron@dbaron.org</a>

    <dt>Authors and former editors:

    <dd>Neil Deakin, Mozilla Corporation, <a
     href="mailto:enndeakin@gmail.com">enndeakin@gmail.com</a>

    <dd>Ian Hickson, formerly of Opera Software, <a
     href="mailto:ian@hixie.ch">ian@hixie.ch</a>

    <dd>David Hyatt, Apple, <a
     href="mailto:hyatt@apple.com">hyatt@apple.com</a>
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2009 <a
    href="http://www.w3.org/"><acronym title="World Wide Web
    Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute
    of Technology">MIT</acronym></a>, <a
    href="http://www.ercim.org/"><acronym title="European Research Consortium
    for Informatics and Mathematics">ERCIM</acronym></a>, <a
    href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract><a name=abstract>Abstract</a></h2>

  <p>The draft describes a CSS box model optimized for interface design. It
   provides an additional layout system alongside the ones already in CSS. <a
   href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> In this new box
   model, the children of a box are laid out either horizontally or
   vertically, and unused space can be assigned to a particular child or
   distributed among the children by assignment of &ldquo;flex&rdquo; to the
   children that should expand. Nesting of these boxes (horizontal inside
   vertical, or vertical inside horizontal) can be used to build layouts in
   two dimensions. This model is based on the box model in the XUL
   user-interface language used for the user interface of many Mozilla-based
   applications (such as Firefox).

  <h2 class="no-num no-toc" id=table><a name=contents>Table of contents</a></h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#overview"><span class=secno>1 </span>Overview</a>

   <li><a href="#orientation"><span class=secno>2 </span>Orientation</a>

   <li><a href="#displayorder"><span class=secno>3 </span>Display order</a>

   <li><a href="#alignment"><span class=secno>4 </span>Alignment</a>

   <li><a href="#flex"><span class=secno>5 </span>Flexibility</a>

   <li><a href="#packing"><span class=secno>6 </span>Packing along the box
    axis</a>

   <li><a href="#multiple"><span class=secno>7 </span>Multiple Lines</a>
    <ul class=toc>
     <li><a href="#multiple"><span class=secno>7.1 </span>Multiple Lines and
      alignment</a>
    </ul>

   <li><a href="#inlinesAndBlocks"><span class=secno>8 </span>Relationship to
    Inlines and blocks</a>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative">Normative references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>
  </ul>
  <!--end-toc-->

  <hr>

  <h2 id=overview><span class=secno>1 </span>Overview</h2>

  <p> Flexible boxes lay out their children using a constraint-based system
   that supports both relative flexible sizing and intrinsic sizing. Elements
   within a box may be intrinsically sized yet have their size increased if
   additional space is available in the container or have their size reduced
   if less space is available. In addition, the position and order of
   elements within a box may be modified.

  <p> In CSS, flexible boxes (often referred to only as boxes in this
   specification) may be created by setting the <span
   class=property>&lsquo;<code class=property>display</code>&rsquo;</span>
   property. A block-level box can be specified with a value of <span
   class=css>&lsquo;<code class=property>box</code>&rsquo;</span> and an an
   inline box can be specified using a value of <span
   class=css>inline-box</span>.

  <p> A block-level box placed inside a block level element is positioned and
   sized as if it were any other block. An inline-level box placed inside
   another element is positioned and sized like an inline-block.

  <p> Inline children of a flexible box are wrapped in anonymous blocks. All
   other children are block-level. Elements within boxes are sized
   intrinsically. This means that the size is determined by the size needed
   for its content, or, in the case of replaced elements, the size of the
   replaced element. The intrinsic size of non-replaced elements may be
   affected by widths and heights specified on the descendants. When
   determining the intrinsic size of an element, the calculation is done
   without adding any line breaks, except those necessary (e.g. for content
   with a white-space of &lsquo;<code class=property>pre</code>&rsquo;).

  <p> Children of boxes may specify their width and height using the <span
   class=property>&lsquo;<code class=property>width</code>&rsquo;</span> and
   <span class=property>&lsquo;<code
   class=property>height</code>&rsquo;</span> properties. The width and
   height of replaced elements is computed as with replaced elements in
   inline contexts. Otherwise, if the width is set to &lsquo;<code
   class=property>auto</code>&rsquo;, then the used value is the intrinsic
   size, which may be calculated using a shrink-to-fit algorithm, as with
   inline-block elements, i.e., it will be given the minimum amount of space
   required to lay out the element without unnecessary line breaks.
   Similarly, if the height is set to &lsquo;<code
   class=property>auto</code>&rsquo;, then the used value in a similar
   manner.

  <p> An unnested box placed inside an enclosing block will obey all the
   usual sizing rules of the block. For example, setting the width of an
   unnested box to 100% ensures that the box is the maximum width permitted
   by the enclosing block (ignoring any margins, border and padding on that
   box).

  <p> The difference between boxes and blocks is in how the children of the
   element are laid out. Children of boxes are all block-level (inline-level
   contents get wrapped in anonymous blocks, as described in the section on
   <a href="http://damowmow.com/temp/csswg/old/ui/inlinesAndBlocks">inlines
   and blocks</a>). These blocks then get stacked in the direction specified
   by the <span class=property><a href="#propdef-box-orient">&lsquo;<code
   class=property>box-orient</code>&rsquo;</a></span> and <span
   class=property><a href="#propdef-box-direction">&lsquo;<code
   class=property>box-direction</code>&rsquo;</a></span> properties, and
   order specified by the <span class=property><a
   href="#propdef-box-direction">&lsquo;<code
   class=property>box-ordinal-group</code>&rsquo;</a></span> property. They
   are aligned within the box according to the <span class=property><a
   href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a></span> property. The boxes may
   then flex or be distributed as specified by the <span class=property><a
   href="#propdef-box-flex">&lsquo;<code
   class=property>box-flex</code>&rsquo;</a></span>, <span class=property><a
   href="#propdef-box-flex-group">&lsquo;<code
   class=property>box-flex-group</code>&rsquo;</a></span>, <span
   class=property><a href="#propdef-box-pack">&lsquo;<code
   class=property>box-pack</code>&rsquo;</a></span> and <span
   class=property><a href="#propdef-box-pack">&lsquo;<code
   class=property>box-lines</code>&rsquo;</a></span> properties.

  <p> The <span class=property>&lsquo;<code
   class=property>float</code>&rsquo;</span> and <span
   class=property>&lsquo;<code class=property>clear</code>&rsquo;</span>
   properties do not apply to children of box elements, so the used value for
   these properties is &lsquo;<code class=property>none</code>&rsquo;. These
   properties do apply to the box itself if it is not a child of another box.
   

  <div class=example>
   <p> For example:</p>

   <pre>
   &lt;p style="width: 400px;"&gt;
     &lt;button style="width: 200px;"&gt;Child 1&lt;/button&gt;
     &lt;button style="width: 100px;"&gt;Child 2&lt;/button&gt;
   &lt;/p&gt;
</pre>

   <p> In this example, the first button is 200 pixels wide and the second
    button is 100 pixels wide. As the box is 400 pixels wide, there is extra
    space left over which is placed after the two buttons but inside the box.
    The placement of this extra space may be modified using the various box
    properties described in the next sections. Neither the height of the
    buttons nor the height of the box are specified, so the height is
    computed intrinsically from the content. In this case, the buttons will
    be the height needed to display the label and button border, and the box
    will also be this height plus any margins around the buttons.</p>
  </div>

  <p> Elements within a box may use the <span class=property>&lsquo;<code
   class=property>overflow</code>&rsquo;</span> property to control whether a
   scrolling mechanism appears when the children of a box overflow. A
   scrolling mechanism may be displayed when flexible elements are reduced
   below their minimum intrinsic size when the overflow property is set to
   <span class=css>auto</span> or <span class=css>scroll</span>. If overflow
   is <span class=css>hidden</span>, the element will be clipped instead.
   <em>Note that the initial value is <span class=css>visible</span>, which
   is typically not the preferred effect in user interfaces.</em>

  <h2 id=orientation><span class=secno>2 </span>Orientation</h2>

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-orient- title="'box-orient'"> <a
     class=propdef-title name=propdef-box-orient><strong>&lsquo;<code
     class=property>box-orient</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td>horizontal | vertical | inline-axis | block-axis | <span
         class=default>inherit</span>

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>inline-axis

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>yes

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p> A box may lay out its children either horizontally or vertically.

  <dl>
   <dt>horizontal

   <dd>The box displays its children from left to right in a horizontal line.
    

   <dt>vertical

   <dd>The box displays its children from stacked from top to bottom
    vertically.

   <dt>inline-axis

   <dd>The box displays its children along the inline axis.

   <dt>block-axis

   <dd>The box displays its children along the block axis.
  </dl>

  <p> The inline and block axes are the writing-mode dependent keywords
   which, in English, map to horizontal and vertical respectively. When the
   orientation is omitted and the box is directly contained within another
   box, the default orientation is inherited from the parent. If the box is
   not contained within another box, the orientation is &lsquo;<code
   class=property>inline-axis</code>&rsquo;.

  <h2 id=displayorder><span class=secno>3 </span>Display order</h2>

  <p> Children within a horizontally oriented box are, by default, displayed
   from left to right in the same order as they appear in the source
   document. Children within a vertically oriented box are displayed top to
   bottom in the same order. The box-direction and box-ordinal-group
   properties may be used to change this ordering.

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-direction- title="'box-direction'"> <a
     class=propdef-title name=propdef-box-direction><strong>&lsquo;<code
     class=property>box-direction</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td>normal | reverse | <span class=default>inherit</span>

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>normal

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>yes

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p> The <span class=property><a href="#propdef-box-direction">&lsquo;<code
   class=property>box-direction</code>&rsquo;</a></span> property specifies
   the direction in which children of a box are displayed.

  <dl>
   <dt>normal

   <dd>A box with a computed value of horizontal for box-orient displays its
    children from left to right. A box with a computed value of vertical
    displays its children from top to bottom.

   <dt>reverse

   <dd>A box with a computed value of horizontal for box-orient displays its
    children from right to left. A box with a computed value of vertical
    displays its children from bottom to top.
  </dl>

  <p>When the direction is omitted and the box is directly contained within
   another box, the default direction is inherited from the parent. If the
   box is not contained within another box, the direction is &lsquo;<code
   class=property>normal</code>&rsquo;.

  <p> If the computed value for the box's &lsquo;<code
   class=property>direction</code>&rsquo; property is &lsquo;<code
   class=property>normal</code>&rsquo;, a child's left edge is placed next to
   the right edge of the previous child, or the left edge of the box for the
   first child. If the computed value for the box's &lsquo;<code
   class=property>direction</code>&rsquo; property is &lsquo;<code
   class=property>reverse</code>&rsquo;, a child's right edge is placed next
   to the left edge of the previous child, or the right edge of the box for
   the first child.

  <p> When the computed value for the overflow property is &lsquo;<code
   class=property>visible</code>&rsquo;, &lsquo;<code
   class=property>scroll</code>&rsquo; or &lsquo;<code
   class=property>auto</code>&rsquo;, the content may overflow the container.
   If the computed value for direction is normal, the content will overflow
   over the right or bottom side. If the computed value for direction is
   reverse, the content will overflow over the left or top side.

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-ordinal-group-
     title="'box-ordinal-group'"> <a class=propdef-title
     name=propdef-box-ordinal-group><strong>&lsquo;<code
     class=property>box-ordinal-group</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td>&lt;integer&gt;

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>1

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>children of box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p>The children of a box element may be assigned to <dfn
   id=ordinal0>ordinal groups</dfn> using the <span class=css><a
   href="#propdef-box-ordinal-group">&lsquo;<code
   class=property>box-ordinal-group</code>&rsquo;</a></span> property. This
   property is a natural number value with an initial value is 1.

  <p>Ordinal groups can be used in conjunction with the &lsquo;<code
   class=property>box-direction</code>&rsquo; property to control the order
   in which the direct children of a box appear. When the computed
   box-direction is normal, a box will display its elements starting from the
   lowest numbered ordinal group and ensure that those elements appear to the
   left (for horizontal boxes) or at the top (for vertical boxes) of the
   container. Elements with the same ordinal group are flowed in the order
   they appear in the source document tree. In the reverse direction, the
   ordinal groups are examined in the same order, except the elements appear
   reversed.

  <div class=example>
   <p> This example shows how ordinal groups might be used.</p>

   <pre>
    #div1 { display: box; }
    #span1 { box-ordinal-group: 2; }
    #span3 { box-ordinal-group: 2; }
    #span4 { box-ordinal-group: 1; }

    &lt;div id="div1"&gt;
      &lt;span id="span1" &gt;Sentence One&lt;/span&gt;
      &lt;span id="span2" &gt;Sentence Two&lt;/span&gt;
      &lt;span id="span3" &gt;Sentence Three&lt;/span&gt;
      &lt;span id="span4" &gt;Sentence Four&lt;/span&gt;
    &lt;/div&gt;
</pre>

   <p> The first ordinal group, 1, contains span2 and span4. As span2 does
    not specify an ordinal group, it will default to 1. The elements will be
    displayed in document order, so span2 will be displayed before span4. The
    second ordinal group, 2, contains the remaining two spans. The resulting
    display order will be:</p>

   <pre>
    span2 span4 span1 span3
</pre>
  </div>

  <p>Elements within a box can use the <span class=property>&lsquo;<code
   class=property>visibility</code>&rsquo;</span> property to render
   themselves invisible. Boxes behave like tables in that the value <span
   class=css>collapsed</span> can be used to specify that an element within a
   box should not take up any space at all. The computed width and height of
   a collapsed element are both 0, and the element is not considered when
   calculating flexibility. Other non-collapsed flexible elements may expand
   as needed to fill in any space left open by a collapsed element. <!--
  <h2 id="boxsizing">Box sizing</h2>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'box-sizing'">
  <a name="propdef-box-sizing" class="propdef-title"><strong>&lsquo;<code class=property>box-sizing</code>&rsquo;</strong></a>
</span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Value:</em>&nbsp;&nbsp;<td>content-box | padding-box | border-box | margin-box
<tr valign=baseline><td><em>Initial:</em>&nbsp;&nbsp;<td>1
<tr valign=baseline><td><em>Applies to:</em>&nbsp;&nbsp;<td>box and block elements
<tr valign=baseline><td><em>Inherited:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Percentages:</em>&nbsp;&nbsp;<td>no
<tr valign=baseline><td><em>Media:</em>&nbsp;&nbsp;<td>visual</a>
<tr valign=baseline><td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;<td>specified value
</table>
</dl>
</div>

  <p>The <span class="property"><a href="#propdef-box-sizing">&lsquo;<code class=property>box-sizing</code>&rsquo;</a></span>
   property determines how the <span class="property">&lsquo;<code class=property>height</code>&rsquo;</span> and
   <span class="property">&lsquo;<code class=property>width</code>&rsquo;</span> properties should be interpreted.

  </p><dl>
   <dt>content-box

   </dt><dd>This is the behavior of width and height as specified by CSS2. The
    specified width and height apply to the width and height respectively of
    the content box of the element. The padding and border of the element are
    drawn outside the specified width and height.

   </dd><dt>padding-box

   </dt><dd>The specified width and height of this element determine the padding
    box of the element. That is, any padding specified on the element is
    drawn inside this specified width and height. The content width
    and height is computed by subtracting the padding of the respective
    sides from the specified width and height. The padding-box size is the
    dimension used for the containing block of absolutely positioned blocks.

   </dd><dt>border-box

   </dt><dd>The specified width and height of this element determine the border
    box of the element. That is, any padding or border specified on the
    element is laid out and drawn inside this specified width and height. The
    content width and height is computed by subtracting the border and
    padding of the respective sides from the specified width and
    height. This is the behavior of width and height as commonly implemented
    by legacy HTML user agents for replaced elements and input elements.

   </dd><dt>margin-box

   </dt><dd>The specified width and height of this element determine the margin
    box of the element. That is, any margin, padding or border specified on
    the element is laid out and drawn inside this specified width and height.
    The content width and height is computed by subtracting the margin,
    border and padding of the respective sides from the specified
    width and height. When margins collapse, the height (or width, for
    horizontal block layout) is calculated before applying any collapsing
    algorithms.
  </dd></dl>

  <p>Note that despite the name of the property, <span class="property"><a href="#propdef-box-sizing">&lsquo;<code class=property>box-sizing</code>&rsquo;</a></span> applies to block and
   table-level elements as well as boxes.

-->
   

  <h2 id=alignment><span class=secno>4 </span>Alignment</h2>

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-align- title="'box-align'"> <a
     class=propdef-title name=propdef-box-align><strong>&lsquo;<code
     class=property>box-align</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td>start | end | center | baseline | <span
         class=default>stretch</span>

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>stretch

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p> When the size of the containing box is larger than the size of a child,
   extra space will be available. The <span class=property><a
   href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a></span> property specifies how a
   box's children are placed and aligned along the direction perpendicular to
   the box orientation, and where the extra space, if any, is positioned. For
   horizontal orientation, it specifies how the children are positioned
   vertically. For vertical orientation, it specifies how the children are
   positioned horizontally.

  <p>The amount of extra space may be different for each child. For example,
   if the containing box has a height of 200 pixels, and it contains two
   children at 100 and 150 pixels respectively, there will be 100 pixels of
   extra space for the first child and 50 pixels of space for the second
   child.

  <p>The following values are valid for the box-align property, but see the
   text afterward for more specifics as to how children are positioned.

  <dl>
   <dt>start

   <dd>For normal direction boxes, the top edge of each child is placed along
    the top of the box. Extra space is placed below the element. For reverse
    direction boxes, the bottom edge of each child is placed along the bottom
    of the box. Extra space is placed above the element.

   <dt>end

   <dd>For normal direction boxes, the bottom edge of each child is placed
    along the bottom of the box. Extra space is placed above the element. For
    reverse direction boxes, the top edge of each child is placed along the
    top of the box. Extra space is placed below the element.

   <dt>center

   <dd>Any extra space is divided evenly, with half placed above the child
    and the other half placed after the child.

   <dt>baseline

   <dd>If this box orientation is inline-axis or horizontal, all children are
    placed with their baselines aligned, and extra space placed before or
    after as necessary. For block flows, the baseline of the first non-empty
    line box located within the element is used. For tables, the baseline of
    the first cell is used. The children, once aligned on their baselines,
    should then be placed into the box so that the child with the earliest
    extent margin has its top margin edge (or bottom margin edge for reverse
    direction boxes) flush with the top (or bottom) edge of the box's content
    area. If the box does not have an &lsquo;<code
    class=property>auto</code>&rsquo; height, overflow will always be on the
    bottom (or top for reverse direction boxes) edge. If the box orientation
    is block-axis or vertical, then <span class=css>baseline</span> is
    interpreted as <span class=css>center</span>.

   <dt>stretch

   <dd>The height of each child is adjusted to that of the containing block.
    However, note the text below.
  </dl>

  <p>The following rules should be applied when determining the size of
   children inside boxes in the dimension opposite to the orientation of the
   box. Exceptions to these rules are noted under each of the possible values
   of &lsquo;<code class=property>box-align</code>&rsquo; below.

  <p>All normal flow children of boxes will attempt to satisfy the following
   sizing equation when placed inside vertical boxes if and only if at least
   one of the specified values is auto:

  <p>&lsquo;<code class=property>margin-left</code>&rsquo; + &lsquo;<code
   class=property>border-left-width</code>&rsquo; + &lsquo;<code
   class=property>padding-left</code>&rsquo; + &lsquo;<code
   class=property>width</code>&rsquo; + &lsquo;<code
   class=property>padding-right</code>&rsquo; + &lsquo;<code
   class=property>border-right-width</code>&rsquo; + &lsquo;<code
   class=property>margin-right</code>&rsquo; = width of containing box

  <p>and a similar equation for height when placed inside horizontal boxes:

  <p>&lsquo;<code class=property>margin-top</code>&rsquo; + &lsquo;<code
   class=property>border-top-width</code>&rsquo; + &lsquo;<code
   class=property>padding-top</code>&rsquo; + &lsquo;<code
   class=property>height</code>&rsquo; + &lsquo;<code
   class=property>padding-bottom</code>&rsquo; + &lsquo;<code
   class=property>border-bottom-width</code>&rsquo; + &lsquo;<code
   class=property>margin-bottom</code>&rsquo; = height of containing box

  <p>If all the values in the equation are specified (i.e., if there are no
   auto values), then the equation above does not apply, and the specified
   values should be used. If applying the equation results in a negative
   value for width/height, then that value is set to 0, and those values
   should be used.

  <p>If the value of <span class=property><a
   href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a></span> is <span
   class=css>stretch</span>, then elements obey the sizing rules specified
   above. This is the default value. If both width/height and one or both
   margin values are &lsquo;<code class=property>auto</code>&rsquo;, the
   &lsquo;<code class=property>auto</code>&rsquo; margins are set to 0 and
   the equation is used to find a value for width/height. Otherwise, if both
   margins are &lsquo;<code class=property>auto</code>&rsquo;, then the
   equation is solved under the additional constraint that the two margins
   must get the same value. If neither the width/height or either margin is
   auto, then the extra space is positioned as if box-align was start.

  <p>If the value of <span class=property><a
   href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a></span> is start, center,
   baseline, or end, and a value of &lsquo;<code
   class=property>auto</code>&rsquo; is specified for width/height, then the
   intrinsic size (or shrink to fit size) of the element should be used. If
   one margin has the value of auto, then the equations above should be used.
   If both margins have a value of auto then the above equations should be
   used, with the space being divided evenly between the two margins. These
   rules are similar to the rules for replaced elements inside blocks.

  <p>If the above would cause the width or height to greater than the
   computed maximum width or height, then the width or height is set to the
   maximum width or height, and the auto margins increased by the extra
   amount left over. If both margins are auto, they should both be increased
   by the same amount. If neither margin is auto, the extra space is placed
   as necessary depending on the box-align value.

  <p>Once the sizes are computed, the margin boxes of the elements should be
   aligned at the start, center, baseline, or end of the box. For horizontal
   boxes, this typically means the top, center, baseline or bottom of the
   box. For vertical boxes, the start and end alignments depend upon the
   direction. For LTR, the elements would be aligned at the left side of the
   box for start and the right side for end. For RTL, the elements would be
   aligned at the right of the box for start and the left side for end.

  <h2 id=flex><span class=secno>5 </span>Flexibility</h2>

  <p>Each element directly within a box may be made either <dfn
   id=flexible>flexible</dfn> and <dfn id=inflexible>inflexible</dfn>.
   Flexible elements may grow when the containing box has extra space
   available after the size of all of its children have been computed, and
   shrink if the size would cause the containing box to overflow, yet the
   preferred width of the flexible element is larger than its minimum width.
   Inflexible elements do not change in size, even when there is extra space
   left over in the box.

  <p> The flexibility only affects the size in the axis along the box's
   orientation. (e.g. the flexibility only affects the width in a horizontal
   box, and only the height in a vertical box.)

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-flex- title="'box-flex'"> <a
     class=propdef-title name=propdef-box-flex><strong>&lsquo;<code
     class=property>box-flex</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td>&lt;number&gt;

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>0.0

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>in-flow children of box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-flex-group- title="'box-flex-group'">
     <a class=propdef-title name=propdef-box-flex-group><strong>&lsquo;<code
     class=property>box-flex-group</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td>&lt;integer&gt;

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>1

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>in-flow children of box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p>An element is flexible when the <span class=css><a
   href="#propdef-box-flex">box-flex</a></span> property is specified. The
   <span class=css><a href="#propdef-box-flex">box-flex</a></span> property
   is a floating point value representing the flexibility of the element. Its
   initial value is 0, which indicates that the element is inflexible.
   Elements that are flexible can shrink or grow as the box shrinks and
   grows. Whenever there is extra space left over in a box, the flexible
   elements are expanded to fill that space. All flex is relative. For
   example, a child with a box-flex of 2 is twice as flexible as a child with
   a box-flex of 1. A negative value for box-flex is not allowed.

  <p>Flexible elements can be assigned to <dfn id=flex-groups0>flex
   groups</dfn> using the <span class=css><a
   href="#propdef-box-flex-group">&lsquo;<code
   class=property>box-flex-group</code>&rsquo;</a></span> property. This
   property is a natural number value (the first flex group is 1 and higher
   values are later flex groups). The initial value is 1.

  <p> In a horizontally oriented box, the preferred width of each child is
   computed. If the width of the margin box of each child is equal to the
   width of the containing block, then there is no extra space available, so
   the preferred widths are used for each child. If the width of the margin
   box adds up to a value smaller than the width of the containing block,
   then extra space is available. This extra space is divided up among the
   flexible children, as described below. If the width of the margin box adds
   up to a value larger than the width of the containing block, then the
   flexible children shrink as much as necessary to prevent overflow.

  <p> Flexibility only applies to elements in normal flow. As absolute and
   fixed positioned elements are not in flow, any flexibility or flexgroup
   specified on them is ignored. In addition, as the <span
   class=property>&lsquo;<code class=property>float</code>&rsquo;</span>
   property does not apply to children of flexible boxes, they are considered
   part of normal flow and flexibility does apply.

  <p> When dividing up extra space, first take all elements within the first
   flex group. Each element within that group should be given extra width
   based on the ratio of that element's flexibility compared to the
   flexibility of other elements within the same flex group.

  <p> However, if the preferred width of the element plus the extra width
   allotted to it is larger than the maximum width of the element, then the
   width is set to that maximum width, and any remaining extra width beyond
   that is divided up among the other children.

  <div class=example>
   <p> In this example there is 60 pixels of extra space available in the
    containing box.</p>

   <pre>
    #div1 { display: box; width: 300px; }
    #button1 { box-flex: 1.0; width: 100px; }
    #button2 { box-flex: 2.0; width: 140px; }

    &lt;div id="div1"&gt;
      &lt;button id="button1"&gt;Hello&lt;/button&gt;
      &lt;button id="button2"&gt;Goodbye&lt;/button&gt;
    &lt;/div&gt;
</pre>

   <p> As both child buttons are flexible, the extra space will be divided up
    between them. The first child button has a flexibility of 1.0 and the
    second child button has a flexibility of 2.0. The first button will
    receive 20 pixels of extra width and the second button will receive 40
    pixels of extra width, maintaining the same ratio of extra width to
    flexibility values. This extra width is added to the preferred size of
    the element.</p>

   <p> However, if the second button had a maximum width of 150 pixels, it
    could only grow by 10 pixels before hitting this maximum size, so the
    remaining 30 pixels would instead be given to the first element, breaking
    the flexibility ratio.</p>
  </div>

  <p> More specifically, the percentage of extra space that an element may
   receive is calculated as follows:

  <p>&lsquo;<code class=css>box-flex of child</code>&rsquo; / &lsquo;<code
   class=css>total of box-flex values of child and all siblings</code>&rsquo;
   

  <p> If the width of all flexible children within the group has been
   increased to their maximum widths, the process repeats for the children
   within the next flex group, using any space left over from the previous
   flex group. Once there are no more flex groups, and there is still space
   remaining, the extra space is divided within the containing box according
   to the box-pack property.

  <p> If the box would overflow after the preferred width of the children
   have been computed, then width is removed from flexible elements in a
   manner similar to that used when adding extra space. Each flex group is
   examined in turn and space is removed according to the ratio of the
   flexibility of each element. Elements do not shrink below their minimum
   widths.

  <p> If all children have been shrunk to their minimum sizes, then the box
   overflows, although if the box-lines property is set to multiple, the box
   may be able to move elements to additional lines to prevent this.

  <p> For vertically oriented boxes, the algorithm as described above is
   similar except using the height instead of the width.

  <p> When a child box of a horizontally oriented box contains an inline
   element, it is likely that shrinking the width of the element due to
   flexibility may cause the inline element to grow in height, as the text
   within it may need to wrap to additional lines.

  <div class=example>
   <p> Examples:</p>

   <pre>
    #div1 { display: box; box-orient: vertical; height: 200px }

    &lt;div id="div1"&gt;
      &lt;button&gt;Cat&lt;/button&gt;
      &lt;button style="box-flex: 1"&gt;Piranha&lt;/button&gt;
      &lt;button&gt;Antidisestablishmentarianism&lt;/button&gt;
    &lt;/div&gt;
</pre>

   <p> In the example above, the box is 200 pixels tall and is more than
    enough room for the three buttons. Because the first and third buttons
    are inflexible, they remain the same size, which is their intrinsic size.
    The second button is specified as being flexible, and because it is the
    only flexible element in the box, it receives all of the extra space.</p>

   <pre>
    &lt;div style="display: box; box-orient: vertical;"&gt;
      &lt;button style="box-flex: 1; height: 1000px;"&gt;
        Cat
      &lt;/button&gt;
    &lt;/div&gt;
</pre>

   <p> In this example, if the height of the box is reduced, for instance,
    because the user resized the containing viewport, the height of the
    flexible button also shrinks with the box, despite the specification of
    1000 pixels as the preferred height. It continues to shrink until the
    minimum required height for the button is reached, which here will likely
    be the height needed to display the button's label and border. After
    that, the button can shrink no further. Elements within a box can
    therefore have their own notions of minimum and maximum intrinsic sizes.
    In the above example, the button could not get any smaller than the
    minimum height required to draw its borders and its text.</p>

   <pre>
    #div1 { display: box; }
    #iframe1 { box-flex: 1; min-width: 100px; max-width: 300px; height: 300px; }

    &lt;div id="div1"&gt;
      &lt;iframe id="iframe1" src="http://www.mozilla.org/"/&gt;
    &lt;/div&gt;
</pre>

   <p> In this example, the iframe has a minimum width of 100 pixels and a
    maximum width of 300 pixels. If the containing box is less than 100
    pixels wide, the iframe will overflow its containing div. If the
    containing box is between 100 pixels and 300 pixels inclusive, the width
    of the iframe would be set to that size, minus any necessary padding,
    borders and margins. If the width of the containing box is larger than
    300 pixels, the extra space will be added inside the div. The extra space
    is added after the iframe inside the box.</p>

   <pre>
    &lt;p style="display: box;"&gt;
      &lt;button style="box-flex: 1; max-width: 50px;"&gt;Child 1&lt;/button&gt;
      &lt;button style="box-flex: 1; min-width: 50px;"&gt;Child 2&lt;/button&gt;
    &lt;/p&gt;
</pre>

   <p>In this example, the box has been stretched so that it is very wide.
    The first child has a maximum width of 50 pixels, and it divides the
    excess space equally with the second child until its maximum width has
    been reached. After that, since it is not allowed to grow any further,
    the remaining space all goes to the second child.</p>
  </div>

  <h2 id=packing><span class=secno>6 </span>Packing along the box axis</h2>

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-pack- title="'box-pack'"> <a
     class=propdef-title name=propdef-box-pack><strong>&lsquo;<code
     class=property>box-pack</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td><span class=default>start</span> | end | center | justify

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>start

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p>When all of the elements within a box are inflexible or when all
   elements have grown to their maximum sizes and can stretch no further,
   extra space may be left over in the box. The box-pack property may be used
   to dictate how any additional space along the box-axis should be
   distributed between elements. The box-pack property does not affect the
   position of elements in the opposite direction. That is, box-pack affects
   only the horizontal position in horizontally oriented boxes and only the
   vertical position in vertically oriented boxes.

  <dl>
   <dt>start

   <dd>For normal direction boxes, the left edge of the first child is placed
    at the left side, with all extra space placed after the last child. For
    reverse direction boxes, the right edge of the last child is placed at
    the right side, with all extra space placed before the first child.

   <dt>end

   <dd>For normal direction boxes, the right edge of the last child is placed
    at the right side, with all extra space placed before the first child.
    For reverse direction boxes, the left edge of the first child is placed
    at the left side, with all extra space placed after the last child.

   <dt>center

   <dd>The extra space is divided evenly, with half placed before the first
    child and the other half placed after the last child.

   <dt>justify

   <dd>The space is divided evenly in-between each child, with none of the
    extra space placed before the first child or after the last child. If
    there is only one child, treat the pack value as if it were start.
  </dl>

  <div class=example>
   <pre>
    &lt;p style="box-align: center; box-pack: center; width: 300px; height: 300px;"&gt;
      &lt;button&gt;centered&lt;/button&gt;
    &lt;/p&gt;
</pre>

   <p> In the example above, the button is centered within the box using the
    <span class=property><a href="#propdef-box-align">&lsquo;<code
    class=property>box-align</code>&rsquo;</a></span> and <span
    class=property><a href="#propdef-box-pack">&lsquo;<code
    class=property>box-pack</code>&rsquo;</a></span> properties together. The
    former centers the button vertically, and the latter centers the button
    horizontally.
  </div>

  <h2 id=multiple><span class=secno>7 </span>Multiple Lines</h2>

  <div class=propdef>
   <dl>
    <dt> <span class=index-def id=box-lines- title="'box-lines'"> <a
     class=propdef-title name=propdef-box-lines><strong>&lsquo;<code
     class=property>box-lines</code>&rsquo;</strong></a> </span>

    <dd>
     <table cellpadding=0 cellspacing=0 class=propinfo>
      <tbody>
       <tr valign=baseline>
        <td><em>Value:</em>&nbsp;&nbsp;

        <td><span class=default>single</span> | multiple

       <tr valign=baseline>
        <td><em>Initial:</em>&nbsp;&nbsp;

        <td>single

       <tr valign=baseline>
        <td><em>Applies to:</em>&nbsp;&nbsp;

        <td>box elements

       <tr valign=baseline>
        <td><em>Inherited:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Percentages:</em>&nbsp;&nbsp;

        <td>no

       <tr valign=baseline>
        <td><em>Media:</em>&nbsp;&nbsp;

        <td>visual

       <tr valign=baseline>
        <td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

        <td>specified value
     </table>
   </dl>
  </div>

  <p>By default a horizontal box will lay out its children in a single row,
   and a vertical box will lay out its children in a single column. This
   behavior can be changed using the box-lines property. The default value is
   single, which means that all elements will be placed in a single row or
   column, and any elements that don't fit will simply be considered
   overflow.

  <p>If a value of multiple is specified, however, then the box is allowed to
   expand to multiple lines (that is, multiple rows or columns) in order to
   accommodate all of its children. The box must attempt to fit its children
   on as few lines as possible by shrinking all elements down to their
   minimum widths or heights if necessary.

  <p>If the children in a horizontal box still do not fit on a line after
   being reduced to their minimum widths, then children are moved one by one
   onto a new line, until the elements remaining on the previous line fit.
   This process can repeat to an arbitrary number of lines. If a line
   contains only a single element that doesn't fit, then the element should
   stay on that line and overflow out of the box. The later lines are placed
   below the earlier lines in normal direction boxes and above in reverse
   direction boxes. The height of a line is the height of the largest child
   in that line. No additional space appears between the lines apart from the
   margins on the largest elements in each line. For calculating the height
   of a line, margins with a computed value of auto should be treated as
   having a value of 0.

  <p>A similar process occurs for children in a vertical box. Later lines in
   normal direction boxes are placed to the right of earlier lines and to the
   left in reverse direction boxes.

  <p>Once the number of lines has been determined, elements with a computed
   value for box-flex other than 0 stretch as necessary in an attempt to fill
   the remaining space on the lines. Each line computes flexes independently,
   so only elements on that line are considered when evaluating flex and
   flex-groups. The packing of elements in a line, as specified by the
   box-pack property, is also computed independently for each line.

  <div class=example>
   <p> This example shows four buttons that do not fit horizontally.</p>

   <pre>
    #div1 {
      display: box;
      box-lines: multiple;
      width: 300px;
    }
    button {
      box-flex: 1.0;
      width: 100px;
    }

    &lt;div id="div1"&gt;
      &lt;button id="button1"&gt;Elephant&lt;/button&gt;
      &lt;button id="button2"&gt;Tiger&lt;/button&gt;
      &lt;button id="button1"&gt;Antelope&lt;/button&gt;
      &lt;button id="button2"&gt;Wildebeest&lt;/button&gt;
    &lt;/div&gt;
</pre>

   <p> The buttons are shrunk to their minimum widths, in this case
    calculated intrinsically. Assume that the four buttons have a minimum
    intrinsic width of 80 pixels. This will allow the first three buttons to
    fit in 240 pixels with 60 pixels left over of remaining space. Because
    the box-lines property has a specified value of multiple, the fourth
    button may be moved onto a second line.</p>

   <p> Flexibility is applied to each element, separately for each line. The
    first line has 60 pixels of remaining space, so each of the three buttons
    on that line will receive 20 pixels of extra width. The remaining button
    on a line of its own will stretch to the entire width of the containing
    box, or 300 pixels.</p>

   <p> If the box was resized, the buttons may rearrange onto different lines
    as necessary. If the style rules in the example above were changed to the
    following:</p>

   <pre>
    #div1 {
      display: box;
      box-lines: multiple;
      box-pack: center;
      width: 300px;
    }
    button {
      box-flex: 1.0;
      width: 90px;
      max-width: 90px;
    }
</pre>

   <p> Now, each of the buttons will only stretch to include an additional 10
    pixels of width, as the maximum width of 90 pixels is only 10 pixels
    larger than the minimum intrinsic width of the buttons. The remaining 30
    pixels of space left over is divided up and placed inside the box outside
    of the buttons, as the value of box-pack is center. The fourth button
    will also appear at 90 pixels wide, centered within the box.</p>
  </div>

  <h3 id=multiple><span class=secno>7.1 </span>Multiple Lines and alignment</h3>

  <p class=note> Note: not sure what this should do yet.

  <p> The box-align property may be used to control the alignment of children
   in multiple line boxes, as with single line boxes. If box-align is start,
   the first line is placed along the top or left edge of the box (or the
   bottom or right edge for reverse direction boxes), and additional lines
   are placed afterward with no extra spacing between them. Each element
   within a line is placed with that same edge aligned. For instance, in a
   normal direction, vertical box, the top edges of each element are aligned
   with the top edge of the line it is within. If box-align is end, the first
   line is placed along the bottom or right edge of the box (or the top or
   left edge for reverse direction boxes), and additional lines are placed
   before. Each element within a line is placed with that same edge aligned.

  <p> If box-align is center, the extra spacing is divided evenly on both
   sides of the box, and the lines placed between this space. Elements are
   centered within their lines. If box-align is baseline, the elements in a
   line are aligned by their baselines as with single line boxes, with space
   placed before or after each element in the line as necessary. The first
   line is placed as with the value start.

  <p> If box-align is stretch, then each line is stretched equally, and the
   elements within each line are stretched to the size of the largest item in
   that line.

  <h2 id=inlinesAndBlocks><span class=secno>8 </span>Relationship to Inlines
   and blocks</h2>

  <p> A box placed in a block is considered a block level element and will be
   positioned and sized according to the rules for CSS 2.1 (section 10.3 for
   widths). Specifically, the following equation applies for calculating the
   width:

  <blockquote>
   <p>&lsquo;<code class=property>margin-left</code>&rsquo; + &lsquo;<code
    class=property>border-left-width</code>&rsquo; + &lsquo;<code
    class=property>padding-left</code>&rsquo; + &lsquo;<code
    class=property>width</code>&rsquo; + &lsquo;<code
    class=property>padding-right</code>&rsquo; + &lsquo;<code
    class=property>border-right-width</code>&rsquo; + &lsquo;<code
    class=property>margin-right</code>&rsquo; + scrollbar width (if any) =
    width of containing block
  </blockquote>

  <p>All children of &lsquo;<code class=property>box</code>&rsquo; elements
   are block-level. If inline-level elements are nested inside boxes, they
   get wrapped in an anonymous block which then takes part in the box layout.
   

  <p> If the width of a child of a flexible box is computed as &lsquo;<code
   class=property>auto</code>&rsquo;, then the used value is the
   shrink-to-fit width. This calculation is done similarly to how the width
   of a floating element is determined. Otherwise if the width has a computed
   value, then that value is used as the width.

  <p> In a horizontally oriented box, the flexibility is then applied which
   may increase or decrease the used width. In a vertically oriented box, the
   position and size of the child may be adjusted by the value of the
   container's <a href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a> property.

  <p> The <span class=property>&lsquo;<code
   class=property>min-width</code>&rsquo;</span>, <span
   class=property>&lsquo;<code
   class=property>min-height</code>&rsquo;</span>, <span
   class=property>&lsquo;<code class=property>max-width</code>&rsquo;</span>,
   and <span class=property>&lsquo;<code
   class=property>max-height</code>&rsquo;</span> CSS properties act the same
   on boxes as on blocks.

  <p> The height of a child of a flexible box is determined in the same
   manner as specified in the CSS specification. The used height may further
   be adjusted by the container's <a href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a> property in a horizontally
   oriented box, or the flexibility in a vertically oriented box.

  <p> Note that it is possible for a horizontally oriented box that the
   height of a flexible child containing an inline descendant will change
   when the flexibility is applied. Similarly, in a vertically oriented box,
   the height of a child may change based on the <a
   href="#propdef-box-align">&lsquo;<code
   class=property>box-align</code>&rsquo;</a> property of the box.

  <p class=note> Note: more details are needed here, and the relationship
   with other CSS constructs is yet to be defined.</p>
  <!--<h2 id="inlinesAndBlocks">Initial Containing Blocks</h2>

  <p>
  A user agent that supports flexible boxes may have a viewport where the size is
  computed from the content contained within it. Even if the viewport size is not
  known, it may be constrained by other physical constraints, such as the size of the
  screen, which may be used as the size of the viewport instead.

  </p><p>
  When the size of the viewport is not known, the size of the initial containing block
  will not be known beforehand. In this situation, this size will be computed from
  the contents within the block. Both the width and height of the initial containing
  block are considered to be 0 when computing a value that depends on the size of the
  initial containing block. Specifically, this means that a percentage size of
  the initial containing block will be calculated as 0.

  </p><p>
  Once the document has been laid out, the size of the viewport can be determined from
  the content, and that size may later be used when the document needs to be reflowed.
  -->

  <hr title="Separator from footer">

  <h2 class=no-num id=acknowledgments><a
   name=acknowledgments>Acknowledgments</a></h2>

  <p>[This section will contain acknowledgments]

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2009/CR-CSS21-20090423"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 23 April
    2009. W3C Candidate Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2009/CR-CSS21-20090423">http://www.w3.org/TR/2009/CR-CSS21-20090423</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>&lsquo;<code class=property>box-align</code>&rsquo;, <a
    href="#box-align-" title="'box-align'"><strong>4</strong></a>

   <li>&lsquo;<code class=property>box-direction</code>&rsquo;, <a
    href="#box-direction-" title="'box-direction'"><strong>3</strong></a>

   <li>&lsquo;<code class=property>box-flex</code>&rsquo;, <a
    href="#box-flex-" title="'box-flex'"><strong>5</strong></a>

   <li>&lsquo;<code class=property>box-flex-group</code>&rsquo;, <a
    href="#box-flex-group-" title="'box-flex-group'"><strong>5</strong></a>

   <li>&lsquo;<code class=property>box-lines</code>&rsquo;, <a
    href="#box-lines-" title="'box-lines'"><strong>7</strong></a>

   <li>&lsquo;<code class=property>box-ordinal-group</code>&rsquo;, <a
    href="#box-ordinal-group-"
    title="'box-ordinal-group'"><strong>3</strong></a>

   <li>&lsquo;<code class=property>box-orient</code>&rsquo;, <a
    href="#box-orient-" title="'box-orient'"><strong>2</strong></a>

   <li>&lsquo;<code class=property>box-pack</code>&rsquo;, <a
    href="#box-pack-" title="'box-pack'"><strong>6</strong></a>

   <li>flex groups, <a href="#flex-groups0" title="flex
    groups"><strong>5</strong></a>

   <li>flexible, <a href="#flexible" title=flexible><strong>5</strong></a>

   <li>inflexible, <a href="#inflexible"
    title=inflexible><strong>5</strong></a>

   <li>ordinal groups, <a href="#ordinal0" title="ordinal
    groups"><strong>3</strong></a>
  </ul>
  <!--end-index-->
  <!-- Keep this comment at the end of the file
    Local variables:
    mode: sgml
    sgml-declaration:"~/SGML/HTML4.decl"
    sgml-default-doctype-name:"html"
    sgml-minimize-attributes:t
    sgml-nofill-elements:("pre" "style" "br")
    sgml-live-element-indicator:t
    End:
    -->
