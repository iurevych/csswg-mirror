<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head><title>Flexible Box Layout Module</title>
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-ED"> <!-- TODO: remove before build -->
  <link rel=stylesheet href=http://dev.w3.org/csswg/default.css>
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-[STATUS]">
  <link rel="stylesheet" type="text/css" href="../default.css">
<style type="text/css">
	p { margin: .5em 0; }
	dd > p { text-indent: 0; }
	a > b { font-weight: normal; color: #800; }
</style>
</head><body>

<div class="head">
	<h1 id="head-box-flexible">Flexible Box Layout Module</h1>
	<h2 class="no-num no-toc" id="w3c-working">[LONGSTATUS], [DATE]</h2>

	<dl>
		<dt>This version:
			<dd><!-- <a href="http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]/">http://www.w3.org/TR/[YEAR]/WD-[SHORTNAME]-[CDATE]/</a></dd> -->
				<a href="http://dev.w3.org/csswg/[SHORTNAME]/">http://dev.w3.org/csswg/[SHORTNAME]/</a>

		<dt>Latest version:
			<dd><a href="http://www.w3.org/TR/css3-flexbox/">http://www.w3.org/TR/css3-flexbox/</a>

		<dt>Editors:
			<dd>Tab Atkins Jr. <a href="mailto:jackalmage@gmail.com">jackalmage@gmail.com</a>
			<dd>Alex Mogilevsky <a href="mailto:alexmog@microsoft.com">alexmog@microsoft.com</a>
			<dd>L. David Baron, Mozilla Corporation, <a href="mailto:dbaron@dbaron.org">dbaron@dbaron.org</a>

		<dt>Authors and former editors:
			<dd>Neil Deakin, Mozilla Corporation, <a href="mailto:enndeakin@gmail.com">enndeakin@gmail.com</a>
			<dd>Ian Hickson, formerly of Opera Software, <a href="mailto:ian@hixie.ch">ian@hixie.ch</a>
			<dd>David Hyatt, Apple, <a href="mailto:hyatt@apple.com">hyatt@apple.com</a>
	</dl>
	<!--copyright-->
</div>

<hr>

<div>
	<h2 class="no-num no-toc" id="abstract">Abstract</h2>

	<p>The draft describes a CSS box model optimized for interface design.
	It provides an additional layout system alongside the ones already in
	CSS.  [[!CSS21]]  In this new box model, the children of a box are
	laid out either horizontally or vertically, and unused space can be
	assigned to a particular child or distributed among the children by
	assignment of "flex" to the children that should expand.
	Nesting of these boxes (horizontal inside vertical, or vertical inside
	horizontal) can be used to build layouts in two dimensions.  This
	model is based on the box model in the XUL user-interface language
	used for the user interface of many Mozilla-based applications
	(such as Firefox).</p>
</div>

<div>
	<h2 class="no-num no-toc" id="table">Table of contents</h2>
	<!--toc-->
</div>

<hr>

<div>
	<h2 id="overview">Overview</h2>

	<p>CSS 2.1 defined four layout modes, algorithms which determine the size and 
	position of boxes based on their relationships with their sibling and ancestor 
	boxes: block layout, designed for laying out documents and simple applications,
	inline layout, designed for laying out text,
	table layout, designed for laying out information in a tabular format, and 
	positioned layout, designed for very explicit positioning without much regard 
	for other elements in the document. This module introduces a new layout mode, 
	flexbox layout, which is designed for laying out more complex applications and 
	webpages.</p>

	<p>Flexbox layout is superficially similar to block layout.  It lacks many of 
	the more complex text or document-formatting properties that can be used in 
	block layout, such as 'float' and 'columns', but in return it gains more simple
	and powerful tools for aligning its contents in ways that webapps and complex
	web pages often need.  The contents of a flexbox can be laid out in any direction,
	can have their order swapped around dynamically, and can "flex" their sizes
	and positions to respond to the available space.</p>

	<p>Similar to other layout modes such as table layout, a flexbox acts like a
	block when placed into other layout modes.  Inline flexboxes can also be declared, 
	which act like inline-blocks.</p>

	<p>Block-level and atomic inline-level children of the flexbox are referred
	to as <dfn>flexbox children</dfn> in this specification.  Inline children are
	wrapped in anonymous blocks, and these anonymous blocks are also <b>flexbox children</b>.</p>

	<div class="example">
		<p>For example:</p>

		<pre class=html>
&lt;p style="width: 400px; display: flexbox;">
	&lt;button style="width: 200px;">Child 1&lt;/button>
	&lt;button style="width: 100px;">Child 2&lt;/button>
&lt;/p>
		</pre>

		<p>In this example, the first button is 200 pixels wide and the second button is
		100 pixels wide. As the flexbox is 400 pixels wide, there is extra space left over
		which is placed after the two buttons but inside the flexbox. The placement of this
		extra space may be modified using the various flex properties described in the next
		sections. Neither the height of the buttons nor the height of the flexbox are specified,
		so the height is computed intrinsically from the content. In this case, the buttons
		will be the height needed to display the label and button border, and the flexbox will
		also be this height plus any margins around the buttons.</p>
	</div>

</div>

<!-- ====================================================================== -->

<div>
	<h2 id=display-flexbox>New values for 'display' property</h2>

	<table class="propdef">
		<tbody>
			<tr>
				<th>Name:
				<td>display
			<tr>
				<th>New value:
				<td>flexbox | inline-flexbox
		</tbody>
	</table>

	<p class=issue>The proliferation of "inline-*" display values is untenable and
	restrictive.  Table cells should be able to use the flexbox layout mode for 
	their contents, for example, rather than being forced to use block layout.
	It's expected that this will be fixed by splitting the 'display' property
	into subproperties controlling how the element formats its contents ('display-inside')
	and how it reacts to its surroundings ('display-outside').  Once that occurs,
	this section will instead describe a single new 'display-inside' value that 
	triggers flexbox layout.</p>

	<p>You can declare that an element is a flexbox, and thus should use flexbox 
	layout, by setting the 'display' property on the element to the value 
	''flexbox''.</p>

	<p>All children of a flexbox must be block-level or atomic inline-level 
	elements.  Contiguous runs of non-replaced inline elements are wrapped in an 
	anonymous block-level box.  Out-of-flow elements (such as absolutely 
	positioned elements - floats are also out-of-flow but can't exist as flexbox 
    children) leave behind a "placeholder" in their original source 
	location which is treated like a non-replaced inline element for the purpose of 
	this wrapping.  (This can, for example, create an empty flexbox child, if all 
	the children are block-level elements and one is absolutely positioned.)  It is 
	recommended that authors avoid putting in elements which are auto-wrapped with 
	anonymous boxes, as the anonymous boxes cannot be targetted and controlled with 
	the various flexbox properties defined in later sections.</p>

	<p>A flexbox child creates a new BFC.  The margins of a flexbox child 
	do not collapse with any other margin.  Flexboxes "shrinkwrap" their contents
	by default (when their 'width' or 'height' properties are ''auto''), similar
	to tables or floats.</p>

	<p>Setting ''display:flexbox'' on an element forces it to use a new layout 
	algorithm, and so some properties that were designed with the assumption of 
	block layout don't make sense in a flexbox context.  In particular:</p>

	<ul>
		<li>all of the 'column-*' properties in the Multicol module compute to their initial 
		values on a flexbox ('break-before', 'break-inside', and 'break-after' are still 
		valid on a flexbox).</li>
		<li>'float' and 'clear' compute to their initial values on a flexbox child</li>
		<li>'vertical-align' has no effect on a flexbox child</li>
		<li class=issue>[Others?]</li>
	</ul>
</div>

<!-- ====================================================================== -->

<div>
	<h2 id=flex-direction>Flexbox Direction: the 'flex-direction' property</h2>

	<table class=propdef>
		<tbody>
			<tr>
				<th>Name:
				<td><dfn>flex-direction</dfn>
			<tr>
				<th>Values:
				<td>lr | rl | tb | bt | inline | inline-reverse | block | block-reverse
			<tr>
				<th>Initial:
				<td>inline
			<tr>
				<th>Applies To:
				<td>flexboxes
			<tr>
				<th>Inherited:
				<td>no
			<tr>
				<th>Computed Value:
				<td>See text
			<tr>
				<th>Media:
				<td>visual
		</tbody>
	</table>

	<p>The 'flexbox-direction' property specifies how flexbox children 
	are placed on each line of the flexbox.  A value of ''lr'' means that 
	the first flexbox child is placed against the left edge of the flexbox, with 
	later children placed immediately to the right of the preceding flexbox child.  
	A value of ''rl'' is the same, but with the initial flexbox child 
	placed against the right edge of the flexbox and later children placed to the 
	left.  Both of these values mean that the flexbox is a <dfn>horizontal 
	flexbox</dfn>.  A value of ''tb'' means that the first flexbox 
	child is placed against the top edge of the flexbox, with later children placed 
	immediately below it, while ''bt'' means the first child is placed 
	against the bottom edge of the flexbox, with later children placed immediately 
	above it.  Both of these values mean that the flexbox is a <dfn>vertical 
	flexbox</dfn>.</p>

	<p>A value of ''inline'' computes to one of ''lr'', ''rl'', ''tb'', or ''bt'', 
	depending on the direction and block-flow of the flexbox: if the start side of
	the flexbox is the left side, ''inline'' must compute to ''lr''; similarly, if
	the start side of the flexbox is the right, top, or bottom side, ''inline''
	must compute to ''rl'', ''tb'', or ''bt'' respectively.  ''inline-reverse'',
	''block'', and ''block-reverse'' determine their computed value identically to
	''inline'', but use the location of the end side, before side, and after side
	of the flexbox, respectively.</p>

	<div class=example>
		<p>A vertical flexbox can be used to emulate the functionality of HTML's
		''&lt;center>'' element:</p>
		<pre>
&lt;div>
	&lt;span>foo foo foo foo&lt;/span>
	&lt;span>bar bar&lt;br>bar bar&lt;/span>
	&lt;span>foo foo foo foo foo foo foo foo foo foo foo foo&lt;/span>
&lt;/div>
&lt;style>
	div {
		display: flexbox;
		flex-direction: tb;
		width: 200px;
	}
	span {
		margin: 0 auto;
	}
&lt;/style>
		</pre>
		<p><img alt="" src="images/basic-vertical-flexbox.png"></p>
	</div>

	<p>In the rest of this specification, the direction in which new flexbox children
	are laid out will be referred to as the <dfn>layout direction</dfn> (if a
	precise direction is required) or the <dfn>layout axis</dfn> (if only the axis
	orientiation is required).</p>

	<p>The axis perpendicular to the ''layout axis'' will be refered to as the
	<dfn>transverse axis</dfn>, with the <dfn>transverse direction</dfn> being
	either a line extending from the ''before'' side of the flexbox to the ''after''
	side, or from the ''start'' side of the flexbox to the ''end'' side, whichever
	would produce a direction parallel to the ''transverse axis''.</p>

	<p>Similarly, the <dfn>layout size</dfn> is the width of the flexbox child in
	a horizontal flexbox, or the height in a vertical flexbox.  The <dfn>transverse size</dfn>
	is the height of the flexbox child in a horizontal flexbox, or the width in a
	vertical flexbox.</p>
</div>

<!-- ====================================================================== -->

<div>
	<h2 id=flex-order>Display Order: the 'flex-order' property</h2>

	<p>Flexbox children are, by default, displayed and laid out in the same order
	as they appear in the source document.  The 'flex-order' property may be used
	to change this ordering.</p>

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-order</dfn>
		<tr>
			<th>Value:
			<td>&lt;integer>
		<tr>
			<th>Initial:
			<td>1
		<tr>
			<th>Applies to:
			<td>flexbox children</td>
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
	</table>

	<p class=issue>Maybe name this 'flex-index' instead, to be consistent with 'z-index'.</p>

	<p>Flexbox children may be assigned to ordinal groups using the 'flex-order'
	property.  This property is an integer with an initial value of 1.</p>

	<p>Ordinal groups control the order in which flexbox children appear.  A flexbox
	will lay out its children starting from the lowest numbered ordinal group and
	going up.  Elements with the same ordinal group are laid out in the order they
	appear in the source document.

	<div class=example>
		<p>This example shows how ordinal groups might be used.</p>
		<pre><code>
	div { display: flexbox; }
	#span1 { flex-order: 2; }
	#span3 { flex-order: 2; }
	#span4 { flex-order: 1; }

	&lt;div>
		&lt;span id="span1">span1&lt;/span>
		&lt;span id="span2">span2&lt;/span>
		&lt;span id="span3">span3&lt;/span>
		&lt;span id="span4">span4&lt;/span>
	&lt;/div></code></pre>

		<p>The first ordinal group, 1, contains span2 and span4. As span2 does not 
		specify an ordinal group, it will default to 1. The elements will be displayed 
		in document order, so span2 will be displayed before span4. The second ordinal 
		group, 2, contains the remaining two spans. The resulting display order will 
		be:</p>

		<pre><code>span2 span4 span1 span3</code></pre>
	</div>
</div>

<!-- ====================================================================== -->

<div>
	<h2 id=flexibility>Flexibility</h2>

	<p>The defining aspect of Flexbox Layout is the ability to make various lengths
	of the flexbox children flexible.  Flexible lengths can be used for the 'width',
	'height', 'padding', and 'margin' properties.  A <dfn>flexible length</dfn> can grow if 
	the flexbox has extra space available, or shrink if the flexbox would otherwise
	overflow.</p>

	<p>When figuring out how large a flexible length should be, CSS starts with
	the length's <dfn>preferred size</dfn>.  For lengths specified using the ''fl''
	unit, the preferred size is ''0'' - it starts from nothing, and only gets some
	space if there is any left over to distribute.  For lengths specified with the
	''flex()'' function, the preferred size is the value of the first argument.</p>

	<p>CSS then sums all the lengths that are sharing space, whether they are flexible
	or inflexible, and subtracts that value from the total available space in that 
	direction.  If there's space left over, then any lengths with <dfn>positive flexibility</dfn>
	split the space between each other in proportion to their flexibility.  If
	the sum is larger than the available space, so that the flexbox would be overflowing,
	then any lengths with <dfn>negative flexibility</dfn> shrink in proportion to 
	their flexibility, so that the contents of the flexbox exactly fit without 
	overflowing.</p>

	<p>The 'flex-pack' and 'flex-align' properties offer more complex control over
	free-space distribution.  The precise details of how free space is determined 
	and assigned to flexible lengths is detailed in a later chapter.</p>

	<p>For <b>flexbox children</b>, the 'width', 'height', 'padding', and 'margin'
	properties additionally accept the <dfn>&lt;flex></dfn> data type.  Using 
	''&lt;flex>'' in any other context is a syntax error.  The ''&lt;flex>'' data 
	type can be expressed in two forms: the ''fl'' unit, and the ''flex()'' function.</p>

	<div>
		<h3 id=flex-unit>The ''fl'' unit</h3>

		<p>One way to indicate that a length is flexible is by setting the property's
		value using the <dfn>flex unit</dfn>, denoted as a ''&lt;number>'' followed by ''fl''.
		The ''fl'' unit defines a <b>flexible length</b> with a <b>preferred size</b>
		of ''0'', a minimum size of ''0'', no maximum size, and a flexibility equal 
		to its value.</p>
	</div>

	<div>
		<h3 id=flex-function>The ''flex()'' function</h3>

		<p>For more complex flexible lengths, the ''flex()'' function can be used
		to specify various attributes of the length; most importantly, the ''flex()''
		function can specify a non-zero length for the <b>preferred size</b>.  The
		syntax of the ''flex()'' function is:</p>

		<pre class=prod>flex( &lt;preferred-size>, &lt;flex-grow>[, &lt;flex-shrink>]? )</pre>

		<p>The first argument given to the function sets the <b>preferred size</b>
		of the <b>flexible length</b>.  It must be a value that would be valid for the property
		the ''flex()'' function is being used on, and resolves to the same length
		that it would if used in that property (with the exception of ''auto'', which
		is handled specially in flexbox layout).  It must not be a ''&lt;flex>'' 
		value itself.</p>

		<p>The second argument sets the <b>positive flexibility</b> of the length.
		It must be specified in flex units.</p>

		<p>The third argument is optional.  If provided, it sets the <b>negative flexibility</b>
		of the <b>flexible length</b>.  Just like the previous argument, it must
		be specified in <b>flex unit</b>s.  If not provided, the <b>negative flexibility</b>
		of the length is ''0''.</p>

		<p>Flexible lengths created by the ''flex()'' function have a minimum size
		of ''0'' and no maximum size.</p>
	</div>

	<div class=figure>
		<p class=caption><span class=issue>TODO: Diagram showing the relevant flexible
		lengths in both the layout and transverse axis.</span></p>
	</div>

	<div class=example>
		<p class=issue>TODO: Yank some examples from my original blog post and/or
		the HTML5ROCKS article.</p>
	</div>
</div>

<!-- ====================================================================== -->

<div>
	<h2 id=flex-pack>The 'flex-pack' property</h2>
	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-pack</dfn>
		<tr>
			<th>Value:
			<td>start | end | center | justify</td>
		<tr>
			<th>Initial:
			<td>start
		<tr>
			<th>Applies to:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
	</table>

	<p>Between and around the margins of <b>flexbox children</b> there are additional 
	flexible lengths, called <dfn>packing space</dfn>.  Packing space can absorb 
	leftover free space in a flexbox if there aren't any <b>flexible length</b>s 
	otherwise, or if all the <b>flexible length</b>s have reached their maximum
	size.  The 'flex-pack' property defines the flexibility of these packing spaces:

	<dl>
		<dt>start</dt>
		<dd>Flexbox children must be packed toward the start of the flexbox.  The
		last packing space (between the margin of the last flexbox child and the 
		edge of the flexbox) must absorb all leftover free space; all other packing
		spaces must have a length of ''0''.</dd>

		<dt>end</dt>
		<dd>Flexbox children must be packed toward the end of the flexbox.  The
		first packing space (between the edge of the flexbox and the margin of the 
		first flexbox child ) must absorb all leftover free space; all other packing
		spaces must have a length of ''0''.</dd>

		<dt>center</dt>
		<dd>Flexbox children must be packed toward the center of the flexbox.  The
		first and last packing spaces must equally split all leftover free space;
		all other packing spaces must have a length of ''0''.</dd>

		<dt>justify</dt>
		<dd>Flexbox children must be evenly distributed through the flexbox.  The
		first and last packing spaces must have a length of ''0''; all other packing
		spaces must equally split all leftover free space.</dd>
	</dl>

	<div class=figure>
		<p class=caption><span class=issue>TODO: Provide a diagram showing packing
		spaces.</p>
	</div>

	<div class=example>
		<p class=issue>TODO: Examples showing the four values.</p>
	</div>
</div>

<!-- ====================================================================== -->
<!-- Aborted new introduction to flexboxes
<p>A flexbox has two axes, which are treated differently by the space distribute algorithm:  the <b>layout axis</b>, which is the axis along which the flexbox grows as you add more children, and the <b>transverse axis</b>, which is the perpendicular axis.</p>

<img alt="In a horizontal flexbox, the layout axis is horizontal, while the transverse axis is vertical.">

<p>The layout axis is more interesting, as there are more places where things can potentially flex.  As such, there are more controls for specifying how to distribute free space in this axis: the 'width' or 'height' property starts things off, modified by the 'flex' property; the 'margin' property gives individual control over spacing between flexbox children; and the 'flex-pack' property gives a more flexbox-global level of control over the between-children spacing.</p>

<p>In general terms, determining where to allocate free space in the layout axis starts by determining just how much free space there is.  All the non-flexible lengths, and the preferred sizes of all the flexible widths or heights, are subtracted from the total width or height of the flexbox.  If a positive length is left over, this is split up among all the flexible lengths according to their flexibility.  Flexible margins automatically have a flexibility of 1, while widths or heights have their flexibility specified by the 'flex-grow' property.</p>

<div class=example>
	<p>Three boxes, all with a preferred size of 0, will end up with sizes exactly proportional to their flex-grow values.</p>
	<img alt="">
</div>
<div class=example>
	<p>If the three boxes have different preferred sizes, then they'll split the free space proportionately, but their final sizes won't be exactly proportional.</p>
	<img alt="">
</div>
<div class=example>
	<p>Margins can also participate in flex calculations.  They have a preferred size of 0, and a flexibility of 1.</p>
	<img alt="">
</div>

<p>If none of the lengths are flexible, or if all the flexible widths or height have reached their maximum size (if 'max-width' or 'max-height' properties are in effect), then any leftover space is distributed according to the 'flex-pack' property between the margins of the flexbox children.</p>

<div class=example>
	<p>If the flexbox is small enough, then the flexible child can absorb all the space...</p>
	<img>
	<p>...but if it gets large enough, there'll be extra space left over for 'flex-pack' to distribute.</p>
	<img>
</div>

<p>If the original calculation of how much free space was left gave a negative length (that is, if the preferred sizes of all the flexbox children sum to a larger length than the width or height of the flexbox), then flexible margins get set to 0, 'flex-pack' has no effect, and flexbox children with a non-zero 'flex-shrink' value split the responsibility for shrinking between themselves proportionally.  Just like when they grow, their size starts from the preferred size, then combines that with the proportional share of (negative) space.</p>

<div class=example>
	<p>When the children are too wide, the shrinkable elements reduce their size to fit...</p>
	<img>
	<p>...but if they all reach their minimum size, they just overflow.</p>
</div>

[write the transverse axis section]
-->
<!-- ====================================================================== -->

<div>
	<h2 id=flex-align>The 'flex-align' property</h2>

	<table class=propdef>
		<tr>
			<th>Name:
			<td><dfn>flex-align</dfn>
		<tr>
			<th>Value:
			<td>auto | baseline
		<tr>
			<th>Initial:
			<td>auto
		<tr>
			<th>Applies to:
			<td>flexboxes
		<tr>
			<th>Inherited:
			<td>no
		<tr>
			<th>Computed Value:
			<td>specified value
		<tr>
			<th>Media:
			<td>visual
	</table>

	<p>By default, laying out flexbox children in the <b>transverse axis</b> is
	a simple matter of determining free space and then splitting it between any
	<b>flexible length</b>s in that axis.  This is not always sufficient, however;
	in particular, it is often useful to align flexbox children by their baseline.
	The 'flex-align' property changes the way free space is allocated in the
	<b>transverse axis</b>.</p>

	<dl>
		<dt>auto</dt>
		<dd>Allocate free space in the <b>transverse axis</b> as normal, by distributing
		it proportionally between <b>flexible length</b>s in that axis.</dd>

		<dt>baseline</dt>
		<dd>
			<p>Align all flexbox children so that their baselines line up, then distribute
			free space above and below the content.</p>
			<p>This only has an effect on flexbox children with a horizontal baseline
			in a horizontal flexbox, or flexbox children with a vertical baseline
			in a vertical flexbox.  Otherwise, alignment for that flexbox child
			proceeds as if ''flex-align:auto'' had been specified.</p>
		</dd>
	</dl>

	<p>The precise effects that 'flex-align' has on alignment and free space
	distribution are detailed in a later chapter.</p>
</div>

<!-- ====================================================================== -->

<div>
	<h2 id=free-space-algorithm>Free Space Calculation and Distribution</h2>

	<p class="issue">TODO: to be completed.  I've done it <a href="http://www.xanthir.com/blog/b45o0">once before</a>, I just need
	to make the necessary modifications to accomodate the differences here, once we've
	decided on what changes to make.</p>
</div>

<!-- ====================================================================== -->

<div>
  <h2 id="inlinesAndBlocks">Relationship to Inlines and blocks</h2>
	<div class=issue>
		<p>This section seems necessary, but not the precise way it's written.  I
		need to identify precisely what data needs to be exposed both by the containing
		layout model (for the flexbox to use) and by the flexbox (for the containing
		layout model to use), and then write that up.  Then the other layout models
		we produce can re-use the same template.</p>

		<p>Need to define:</p>
		<ul>
			<li>The min/max/fit-content widths and heights of flexboxes in block contents</li>
			<li>Other stuff?</li>
		</ul>
	</div>
	<!--
  <p>
   A box placed in a block is considered a block level element and will be positioned
   and sized according to the rules for CSS 2.1 (section 10.3 for widths). Specifically,
   the following equation applies for calculating the width:
  </p>
  <blockquote>
  <p>'margin-left' + 'border-left-width' + 'padding-left' + 'width' + 'padding-right' + 'border-right-width' + 'margin-right' + scrollbar width (if any) = width of containing block
  </p>
  </blockquote>
  <p>All children of 'box' elements are block-level. If inline-level elements are nested
     inside boxes, they get wrapped in an anonymous block which then takes part in the
     box layout.

  </p><p>
     If the width of a child of a flexible box is computed as 'auto', then the used value
     is the shrink-to-fit width. This calculation is done similarly to how the width of
     a floating element is determined. Otherwise if the width has a computed value,
     then that value is used as the width.
  </p><p>

     In a horizontally oriented box, the flexibility is then applied which may increase
     or decrease the used width. In a vertically oriented box, the position and size
     of the child may be adjusted by the value of the container's
     <span class="property">'box-align'</span> property.
  </p><p>

     The <span class="property">'min-width'</span>, <span class="property">'min-height'</span>,
     <span class="property">'max-width'</span>, and <span class="property">'max-height'</span>
     CSS properties act the same on boxes as on blocks.
  </p><p>

     The height of a child of a flexible box is determined in the same manner as specified
     in the CSS specification. The used height may further be adjusted by the container's
     <span class="property">'box-align'</span> property in a horizontally
     oriented box, or the flexibility in a vertically oriented box.
  </p><p>

     Note that it is possible for a horizontally oriented box that the height of a
     flexible child containing an inline descendant will change when the flexibility is
     applied. Similarly, in a vertically oriented box, the height of a child may change
     based on the <span class="property">'box-align'</span> property of the
     box.
  </p>
	-->
</div>


  <hr title="Separator from footer">

  <h2 class="no-num" id="acknowledgments"><a name="acknowledgments">Acknowledgments</a></h2>

  <p>[This section will contain further acknowledgments.]</p>

  <p>Thanks for feedback from James Elmore and Shinichiro Hamaji.</p>

  <h2 class="no-num" id="references">References</h2>

  <h3 class="no-num" id="normative">Normative references</h3>
  <!--normative-->

  <h2 class="no-num" id="index">Index</h2>
  <!--index-->

  <h2 id="property" class="no-num">Property index</h2>
  <!--properties-->

  <!-- Keep this comment at the end of the file
    Local variables:
    mode: sgml
    sgml-declaration:"~/SGML/HTML4.decl"
    sgml-default-doctype-name:"html"
    sgml-minimize-attributes:t
    sgml-nofill-elements:("pre" "style" "br")
    sgml-live-element-indicator:t
    End:
    -->
</body></html>
