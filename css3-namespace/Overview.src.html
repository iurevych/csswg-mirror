<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>CSS3 Module: Namespace Declarations</title>
  <link rel="stylesheet" type="text/css" href="default.css">
  <link rel="stylesheet" type="text/css"
  href="http://www.w3.org/StyleSheets/TR/W3C-WD.css">
</head>

<body>

<div class="head">
<p><a rel="home" href="http://www.w3.org/" class="logo"><img height="48"
width="72" alt="W3C" src="http://www.w3.org/Icons/w3c_home"></a><a
rel="in-activity" href="../../" class="logo"><img
src="../../../Woolly/woolly-icon.png" alt="CSS WG"></a></p>

<h1>CSS3 Module: Namespaces</h1>

<h2 class="no-num no-toc">W3C Working Draft [DATE: 9 July 2006]</h2>
<dl>
  <dt>This version:</dt>
    <dd><a href="http://www.w3.org/TR/[YEAR]/WD-css3-ns-[ISODATE]/">http://www.w3.org/TR/[YEAR]/WD-css3-namespace-[ISODATE]/</a></dd>
  <dt>Latest version:</dt>
    <dd><a href="http://www.w3.org/TR/css3-namespace/">http://www.w3.org/TR/css3-namespace/</a></dd>
  <dt>Previous version:</dt>
    <dd><a href="[http://www.w3.org/PreviousVersionURI]">[http://www.w3.org/PreviousVersionURI]</a></dd>
  <dt>Editors:</dt>
    <dd><a href="">Anne van Kesteren</a></dd>
    <dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a></dd>
  <dt>Previous Editors:</dt>
    <dd>Peter Linss, Netscape Communications</dd>
    <dd>Chris Lilley, W3C</dd>
</dl>
<!--begin-copyright-->
<p>[Here will be included the file "../copyright.inc"]</p>
<!--end-copyright-->

<hr title="Separator for header">
</div>

<h2 class="no-num no-toc" id="abstract">Abstract</h2>

  <p>This CSS module defines the syntax for using namespaces in CSS.
    It introduces the <code>@namespace</code> rule for declaring the
    default namespace and binding namespaces to namespace prefixes, and
    it defines a syntax for using those prefixes in namespace-qualified
    names.</p>

<h2 class="no-num no-toc" id="status">Status of this document</h2>

<p>This is a draft of a module of CSS level&nbsp;3 (CSS3). It is derived
 with minimal change from the
 <a href="http://www.w3.org/1999/06/25/WD-css3-namespace-19990625/">CSS3 Namespace Enhancements</a>
 syntax proposal from 1999 with which the CSS WG has been in agreement
 for many years and which is already implemented in user agents. The material
 from that proposal found its way into drafts of [[SELECT]], [[CSS3SYN]]
 and [[CSS3VAL]]. [[SELECT]] is currently a Candidate Recommendation.
 Unfortunately, [[CSS3SYN]] has dependencies on (potentially) all other
 CSS3 modules and this, plus work on CSS2.1, has delayed the availability
 of this specification. To break the chain of dependencies and allow faster
 progress on the Recommendation track, the present module has been split out.
 It is primarily intended as a CSS3 module, though it could also be referenced
 by [[SVG12]] or indeed [[CSS21]].</p>

<p>This document is a working draft of the CSS working group which is part of
the <a href="http://www.w3.org/Style/">style activity</a> (see <a
href="http://www.w3.org/Style/Activity">summary</a>).</p>

<p>Comments on and discussions of this draft can be sent on the (<a
href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
mailing list <a href="mailto:www-style@w3.org">www-style@w3.org</a> (see <a
href="http://www.w3.org/Mail/Request">instructions</a>). W3C Members can also
send comments directly to the CSS working group.</p>

<p>This is a working draft and may therefore be updated, replaced or rendered
obsolete by other W3C documents at any time. It is inappropriate to use W3C
Working Drafts as reference material or to cite them as other than "work in
progress". Its publication does not imply endorsement by the W3C membership
or the <a href="http://www.w3.org/Style/Group">CSS Working Group</a> (<a
href="http://cgi.w3.org/MemberAccess/AccessRequest">members only</a>).</p>

<p>Patent disclosures relevant to CSS may be found on the Working Group's
public <a href="http://www.w3.org/Style/CSS/Disclosures">patent disclosure
page.</a></p>

<p>To find the latest version of this working draft, please follow the
"Latest version" link above, or visit the list of W3C <a
href="http://www.w3.org/TR/">Technical Reports</a>.</p>

<h2 class="no-num no-toc" id="contents">Table of contents</h2>
<!--toc-->

<div>
  <h2 id="intro">Introduction</h2>

  <p>This specification defines the syntax for using namespaces in CSS.
    It introduces the <code>@namespace</code> rule for declaring the
    default namespace and binding namespaces to namespace prefixes. This
    specification also defines a syntax for using those prefixes in
    namespace-qualified names, but does not define where such names are
    valid or what they mean. The terminology used in this specification
    is that of [[XML-NAMES11]].</p>

  <p>It should be noted that a down-level CSS client will (if it properly
    conforms to CSS forward compatible parsing rules) ignore all @namespace
    rules, as well as all style rules that make use of namespace qualified
    names. The syntax of delimiting namespace prefixes in CSS was deliberately
    chosen so that down-level CSS clients would ignore the style rules rather
    than possibly match them incorrectly.</p>
</div>

<div>
  <h2 id="conformance">Conformance</h2>

  <p>Implementations cannot not conform to this specification directly.
    Specifications for host languages which normatively reference this
    specification are expected to define their own conformance criteria.</p>
</div>

<div>
<h2 id="declaration">Declaring namespaces: the <code>@namespace</code> rule</h2>

  <p>The @namespace rule allows the style sheet author to declare a namespace
    prefix and associate it with a given namespace (a string). This namespace
    prefix can then be used in namespace-qualified names as described in other
    modules, for example the Selectors Module [[SELECT]] or the Values and Units
    module [[CSS3VAL]].</p>

  <div class="example">
    <pre>@namespace "http://www.w3.org/1999/xhtml";
  <!---->@namespace svg "http://www.w3.org/2000/svg";</pre>

    <p>The first rule declares a default namespace
      <code>http://www.w3.org/1999/xhtml</code> to be applied to names that
      have no explicit namespace component.</p>

    <p>The second rule declares a namespace prefix <code>svg</code> that
      is used to apply the namespace <code>http://www.w3.org/2000/svg</code>
      where the <code>svg</code> namespace prefix is used.</p>
  </div>


  <p>In CSS Namespaces, as in XML Namespaces [[REC-XML-NAMES]],
    the local prefix is merely a syntactic construct; it is the <em>expanded
    name</em> (the tuple of local name and namespace) that is significant.
    Thus the actual prefixes used in a CSS style sheet, and whether they are
    defaulted or not, are independent of the namespace prefixes used in the
    markup and whether these are defaulted or not.</p>

<h3 id="syntax">Syntax</h3>

  <p>The syntax for the @namespace rule is as follows (using the notation from
    the Grammar appendix of CSS2.1 [[!CSS21]]):</p>

  <pre><!--
       -->namespace
  <!-- -->  : NAMESPACE_SYM S* [namespace_prefix S*]? [STRING|URI] S* ';' S*
  <!-- -->  ;
  <!-- -->namespace_prefix
  <!-- -->  : IDENT
  <!-- -->  ;<!--
  --></pre>

  <p>with the new token:</p>

  <pre>"@namespace"              {return NAMESPACE_SYM;}</pre>

  <p>Any @namespace rules must follow all @import and @charset rules and precede
    all other non-ignored at-rules and rule sets in a style sheet. This is to
    avoid any confusion or issues regarding the scope of the declared namespace.
    For CSS syntax this adds <code>[ namespace [S|CDO|CDC]* ]*</code>
    immediately after <code>[ import [S|CDO|CDC]* ]*</code> in the
    <code>stylesheet</code> grammar.</p>

  <p>A URI string parsed from the <code>url()</code> syntax is treated as a
    literal string: no URI-specific normalization is applied. For this reason
    the string syntax is recommended, and the <code>url()</code> syntax
    discouraged <span class="issue">deprecated?</span>.</p>

<h3 id="scope">Scope</h3>

  <p>The namespace prefix applies only to the style sheet in which it is
    declared, and not any style sheets imported by that style sheet, style
    sheets that import that stylesheet, or any other style sheets applying
    to the document.</p>

<h3 id="prefixes">Declaring Prefixes</h3>

  <p>A <dfn>namespace prefix</dfn>, once declared, represents the namespace for
    which it was declared and can be used to indicate the namespace of a
    namespace-qualified name.</p>

  <p>If in the namespace declaration the namespace prefix is omitted, then the
    namespace is considered to be the default namespace. The <dfn>default
    namespace</dfn> applies to names that have no explicit namespace prefix.
    Modules that employ namespace prefixes must define in which contexts the
    default namespace applies. For example, following [[REC-XML-NAMES]], in
    Selectors [[SELECT]] the default namespace applies to type
    selectors&#8212;but it does not apply to attribute selectors. There is no
    default default namespace: modules that assign unqualified names to the
    default namespace must define how those unqualified names are to be
    interpreted when no default namespace is declared.</p>

  <p>If a namespace prefix is declared more than once only the last declaration
    shall be used.</p>
</div>

<div>
<h2 id="css-qnames">CSS Qualified Names</h2>

  <p>A <dfn>qualified name</dfn> is a name explicitly located within (associated
    with) a namespace.</p>

  <p>To form a qualified name in CSS syntax, a namespace prefix that has been
    previously declared is prepended to a local name (such as an element or
    attribute name), separated by a "vertical bar" (<code>|</code>, U+007C).
    The prefix may be left empty to indicate that the name belongs to no
    namespace. Some contexts may allow the use of an asterisk (<code>*</code>,
    U+002A) as a wildcard prefix to indicate a name in any namespace, including
    no namespace.</p>

  <div class="example">
    <p>Given the namespace declarations:</p>

    <pre>@namespace toto "http://toto.example.org";
  <!---->@namespace "http://example.com/foo";</pre>

    <p>In a context where the default namespace applies</p>

    <dl>
    <dt><code>toto|A</code></dt>
      <dd>represents the name <code>A</code> in the <code>http://toto.example.org</code>
        namespace.</dd>
    <dt><code>|B</code></dt>
      <dd>represents the name <code>B</code> that belongs to no namespace.</dd>
    <dt><code>*|C</code></dt>
      <dd>represents the name <code>C</code> in any namespace, including no
        namespace.</dd>
    <dt><code>D</code></dt>
      <dd>represents the name <code>D</code> in the <code>http://example.com/foo</code>
         namespace.</dd>
    </dl>
  </div>

  <p>CSS qualified names can be used in (for example) selectors and property
    values as described in other modules. Those modules should define the use
    of a namespace prefix that has not been properly declared as a parsing error
    that will cause the selector or declaration (etc.) to be considered invalid
    and ignored.</p>
</div>

<h2 class="no-num" id="acknowledgments">Acknowledgments</h2>

<p>This draft borrows heavily from earlier drafts on CSS namespace support
  by Chris Lilley and by Peter Linss [[CSS3NAMESPACE]] and early (unpublished)
  drafts on CSS and XML by H&aring;kon Lie and Bert Bos, and XML Namespaces
  and CSS by Bert Bos and Steven Pemberton. Many current and former members of
  the CSS working group have contributed to this document. Discussions on
  www-style@w3.org and in other places have also contributed ideas to this
  specification.</p>

<h2 class="no-num" id="references">References</h2>


<h3 class="no-num" id="normative-references">Normative references</h3>
<!--begin-normative-->


<p>[Here will be inserted the file "normative.inc"]</p>
<!--end-normative-->


<h3 class="no-num" id="informative-references">Informative references</h3>
<!--begin-informative-->


<p>[Here will be inserted the file "informative.inc"]</p>
<!--end-informative-->


</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
