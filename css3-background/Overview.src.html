<!DOCTYPE html PUBLIC '-//W3C//DTD HTML 4.01//EN'
  'http://www.w3.org/TR/html4/strict.dtd'>

<html lang="en">
<head>
  <title>CSS3 Backgrounds and Borders Module</title>
  <link rel="stylesheet" type="text/css" href="../default.css">
  <link rel="stylesheet" type="text/css"
  href="http://www.w3.org/StyleSheets/TR/W3C-ED.css">
</head>

<body>

<div class="head">
<p><a href="http://www.w3.org/"><img
src="http://www.w3.org/Icons/w3c_home" alt="W3C" height="48"
width="72" name="w3cLogo"></a>

<h1>CSS Backgrounds and Borders Module Level 3</h1>

<h2 class="no-num no-toc">W3C Working Draft [DATE]</h2>
<dl>
  <dt>This version:
    <dd><a
      href="[VERSION]">[VERSION]</a>
  <dt>Latest version:
    <dd><a
      href="http://www.w3.org/TR/css3-background">[LATEST]</a>
  <dt>Previous versions:
    <dd><a
      href="http://www.w3.org/TR/2005/WD-css3-background-20050216">http://www.w3.org/TR/2005/WD-css3-background-20050216</a>
    <dd><a href="http://www.w3.org/TR/2002/WD-css3-border-20021107">http://www.w3.org/TR/2002/WD-css3-border-20021107</a>
  <dt id="editors-list">Editors:
    <dd><a href="mailto:frederick.boland@nist.gov">Tim Boland</a> (<a
      href="http://www.nist.gov/">NIST</a>)
    <dd><a href="mailto:bert@w3.org">Bert Bos</a> (<a
      href="http://www.w3.org/">W3C</a>)
    <dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a>
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>



<h2 class="no-num no-toc" id="abstract">Abstract</h2>

<p>CSS is a language for describing the rendering of structured
documents (such as HTML and XML) on screen, on paper, in speech, etc.
This draft contains the features of CSS level&nbsp;3 relating to
borders and backgrounds. It includes and extends the functionality of
CSS level&nbsp;2 [[!CSS21]], which builds on CSS level&nbsp;1
[[CSS1]]. The main extensions compared to level&nbsp;2 are borders
consisting of images, boxes with multiple backgrounds, boxes with
rounded corners and boxes with shadows.

<p>This module replaces two earlier drafts: CSS3 Backgrounds and CSS3
Border.



<h2 class="no-num no-toc" id="status">Status of this document</h2>
<!--status-->

<p><strong>Not all the corrections and clarifications in the revised
edition of CSS2 [[!CSS21]] have been applied to this draft yet. In
case of conflict (other than on properties and values that are clearly
new to CSS3), CSS&nbsp;2.1 probably represents the intention of the
CSS WG better than this draft.</strong>


<h2 class="no-num no-toc" id="contents">Table of contents</h2>
<!--toc-->



<h2 id="dependencies">Dependencies with other CSS 3 Modules</h2>
<ul>
  <!--<li>General Syntax [!CSS3SYN]-->
  <li>Values and Units [[!CSS3VAL]] (in particular the types
    <dfn><var>&lt;length&gt;</var></dfn>,
    <dfn><var>&lt;uri&gt;</var></dfn> and
    <dfn><var>&lt;percentage&gt;</var></dfn>)
  <!--<li>Cascading and Inheritance [!CSS3CASCADE]-->
  <!--<li>Box Model [!CSS3BOX]-->
  <li>CSS&nbsp;2.1 [[!CSS21]] (in particular the box model of
    section&nbsp;8.1)
  <li>Color module [[!CSS3COLOR]] (in particular the
<dfn><var>&lt;color&gt;</var></dfn> type)
  <!--<li>User Interface [? check]-->
  <!--<li>Absolute Positioning Module [!CSS3POS]] (in particular the
    section &#8220;Elaborate
    description of Stacking Contexts&#8221;)-->
  <!--<li>Paged Media [!CSS3PAGE] (breaking elements across
    pages)-->
</ul>



<h2 id="context">Context</h2>

<h3>Modularization of CSS</h3>

<p>The members of the Cascading Style Sheets (CSS) Working Group
proposed during the Clamart meeting to modularize the CSS
specification.

<p>This modularization, and the externalization of the general syntax,
of CSS reduces the size of the specification and allows new types of
specifications to use selectors and/or CSS general syntax.

<p>This module will have its own test suite (on the <a
href="/Style/CSS/Test/">CSS test suites page</a>) with several tests
per concept introduced in this document, as well as tests for multiple
concepts used together. This test suite will not consist of full
conformance tests, but is intended to ensure interoperability between
implementations and forms part of the CR exit criteria.

<p>See the section on <a href="#conformance">Conformance</a> for the
role of modules in the implementation requirements for <span
title=UA>UAs</span>.



<h3 id="changesFromCSS2">Changes from CSS 2.1</h3>

<p class=issue>[This section needs to be revised.]

<p>'Background-clip',
'background-break', and
'background-origin' are new. Also there are
changes to the 'background' shorthand property.

<p>'Background-attachment' has a new
value ''local''.

<p>The background can now have multiple images. As a consequence,
several properties now accept a comma-separated list of values.

<p>'Box-shadow',
'border-image',
'border-break' and
'border-radius' are new.



<h2>The layout model of backgrounds and borders</h2>

<p>(This section is not normative.)

<p>When elements are rendered according to the CSS box model
[[CSS3BOX]], each element is either not displayed at all, or formatted
as one or more rectangular boxes. Each box has a rectangular content
area, a band of padding around the content, a border around the
padding, and a margin outside the border. (The margin may actually be
negative, but margins have no influence on the background and border.)

<div class="figure">
  <p><img src="box" alt="Diagram of a typical box, showing the
  content, padding, border and margin areas">

  <p class="caption">The various areas and edges of a typical box.
  (This diagram is explained in the CSS3 Box Module [[CSS3BOX]].)
</div>

<p>The child elements of an element usually create boxes of their own,
that are placed inside the content area of their parent, although they
may also be placed outside it.

<p>The reason an element may result in more than one box, is that
elements may be broken at the end of a line (for inline elements), at
the end of a column or at the end of a page and create further boxes
in the next line, column or page.

<p>The properties of this module deal with the contents of the border
area and with the background of the content, padding and border areas.

<p>That background may be fully transparent (the default), or it may
be filled with a color, one or more images, or both images and color.
The background properties specify what color (
'background-color') and images (
'background-image') to use, where they are
placed ( 'background-position'), whether
they are repeated or scaled (
'background-repeat',
'background-size'), etc.

<p>The 'border-image' property can also
define a background image, which, if present, is added on top of that
of the background properties.

<p>The border can either be a predefined style (solid line, double
line, dotted line, pseudo-3D border, etc.) or it can be an image. In
the former case, three properties define the style of the four border
sides ( 'border-style'), color (
'border-color') and thickness (
'border-width'). In the latter case, the sides
and corners are taken from the sides and corners of an image specified
with 'border-image'. The image can be
sliced, scaled and stretched in various ways to fit the size of the
border.

<p>If an element is broken into multiple boxes,
'border-break' and
'background-break' define how the borders
and background are divided over the various boxes.

<p>There is also another kind of decoration that can be
added to an element: a drop shadow, via the
'box-shadow' property.



<h2>Background properties</h2>

<h3>The 'background-color' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-color</dfn>
    <tr>
      <th>Value:
      <th>&lt;color&gt;
    <tr>
      <th>Initial:
      <td>transparent
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>as specified
</table>

<p>This property sets the background color of an element. Valid color
values are defined in the Color Module [[!CSS3COLOR]].

<div class="example">
<p style="display:none">Example(s):
<pre>h1 { background-color: #F00 }</pre>
</div>

<p class=issue>Some people (e.g., Emrah Baskaya and <a
href="http://lists.w3.org/Archives/Public/www-style/2006Aug/0001.html">
Simon Pieters</a>) have argued that there is a need for a fallback
color, which is only shown when any specified image(s) cannot be
loaded.


<h3>The 'background-image' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-image</dfn>
    <tr>
      <th>Value:
      <td>[ <var>&lt;uri&gt;</var> | none ]
        [ , [ <var>&lt;uri&gt;</var> | none ] ]*
    <tr>
      <th>Initial:
      <td>none
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>as specified, but with URIs made absolute
</table>

<p>This property sets the background image(s) of an element. Images
are drawn with the first specified one on top (closest to the user)
and each subsequent image behind the previous one. The
'background-color' is painted below all the
images.

<p>A value of <span class=css title="bg-none">'none'</span> counts as
an image but draws nothing. An image that is empty (zero width or zero
height), that fails to download, or that cannot be displayed (e.g.,
because it is not in a supported image format) has the same effect as
<span class=css title="bg-image-none">'none'</span>.

<p>See the section <a href="#layering">&#8220;Layering multiple
background images&#8221;</a> for how each image is tiled or stretched.

<div class="example">
<p style="display:none">Example:
<pre>
body { background-image: url("marble.svg") }
p { background-image: none }
div { background-image: url(tl.png), url(tr.png) }
</pre>
</div>

<p class=note>Implementations may optimize by not downloading and
drawing images that are not visible (e.g., because they are behind
other, fully opaque images).

<p class=issue>Some interoperability in the supported formats would be
nice. Should we say that UAs should support PNG, JPEG and SVG here and
then change the &#8220;should&#8221; to a &#8220;must&#8221; in some
of the profiles?



<h3>The 'background-repeat' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-repeat</dfn>
    <tr>
      <th>Value:
      <td><var>&lt;repeat&gt;</var> [ , <var>&lt;repeat&gt;</var> ]*
    <tr>
      <th>Initial:
      <td>repeat
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>as specified
</table>

<p>Specifies how images are tiled. The type
<dfn><var>&lt;repeat&gt;</var></dfn> stands for: repeat-x | repeat-y |
[repeat | space | round | no-repeat]{1,2}.

<p>See the section <a href="#layering">&#8220;Layering multiple
background images&#8221;</a> for how each comma-separated value is
applied to each image of the
'background-image' property.

<p>The tiling and positioning of the background image on inline
elements is described under the
'background-break' property.

<p class=issue>Should there also be values of
'repeat-up', 'repeat-down', 'repeat-right', and 'repeat-left' for this
property?

<p>Single values for <var>&lt;repeat&gt;</var> have the following
meanings:

<dl>
  <dt><dfn>repeat-x</dfn>
  <dd>
  Equivalent to ''repeat no-repeat''.

  <dt><dfn>repeat-y</dfn>
  <dd>
  Equivalent to ''no-repeat repeat''

  <dt><span class=css>repeat</span>
  <dd>
  Equivalent to ''repeat repeat''

  <dt><span class=css>no-repeat</span>
  <dd>
  Equivalent to ''no-repeat no-repeat''

  <dt><span class=css>space</span>
  <dd>
  Equivalent to ''space space''

  <dt><span class=css>round</span>
  <dd>
  Equivalent to ''round round''
</dl>

<p>If a <var>&lt;repeat&gt;</var> value has two keywords, the first
one is for the horizontal direction, the second for the vertical one,
as follows:

<dl>
  <dt><dfn>repeat</dfn>
  <dd>
  The image is repeated in this direction as often as needed to cover
  the area. The image is clipped at the border or padding edge
  (depending on 'background-clip').

  <dt><dfn>no-repeat</dfn>
  <dd>
  The image is not repeated in this direction. If it is too large, the
  image is clipped at the border or padding edge (depending on
  'background-clip').

  <dt><dfn>space</dfn>
  <dd>
  The image is repeated as often as it will fit without being clipped
  and then the images are spaced out to fill the area. The space
  between the edge and the first image is half the space between each
  pair of images. The value of
  'background-position' for this direction is
  ignored. <span class=issue>Or is the space at the edge the same as
  between the images? Is there no space at the edge?</span> If the
  image is too big to fit, one image is placed in the center and
  clipped.

  <dt><dfn>round</dfn>
  <dd>
  The image is repeated as often as it will fit. If it doesn't fit a
  whole number of times, it is reduced in size until it does. See
  explanation under 'background-size'.
</dl>

<p>Unless one of the two keywords is
''no-repeat'', the whole background will be tiled,
i.e., not just one vertical strip and one horizontal strip.

<div class="example">
<p style="display:none">Example(s):
<pre>
body {
  background: white url("pendant.png");
  background-repeat: repeat-y;
  background-position: center;
}
</pre>

<div class="figure">
  <p><img src="bg-repeat" alt="A centered background image, with
  copies repeated up and down the border, padding and content
  areas."><!--<SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A
  name="img-bg-repeat" href="images/longdesc/bg-repeat-desc.html"
  title="Long description for background pattern">[D]</A></SPAN>-->

  <p class="caption">The effect of 'repeat-y': One copy of the
  background image is centered, and other copies are put above and
  below it to make a vertical band behind the element.
</div>
</div>

<div class=example>
  <p style="display:none">Example(s):
  <pre>
body {
  background-image: url(dot.png) white;
  background-repeat: space
}
</pre>

  <div class=figure>
    <p><img src="bg-space" alt="Image of an element with a dotted background">

    <p class=caption>The effect of 'space': the image of a dot is
    tiled to cover the whole background and the images are equally
    spaced.
  </div>
</div>



<h3>The 'background-attachment' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-attachment</dfn>
    <tr>
      <th>Value:
      <td><dfn>scroll</dfn> | <dfn>fixed</dfn> | <dfn>local</dfn>
        [, scroll | fixed | local]*
    <tr>
      <th>Initial:
      <td>scroll
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>as specified
</table>

<p>If background images are specified, this property specifies whether
they are fixed with regard to the <em class="index">viewport</em>
( ''fixed'') or scroll along with the element
( ''scroll'' and ''local'').

<p>See the section <a href="#layering">&#8220;Layering multiple
background images&#8221;</a> for how each comma-separated value is
applied to each image of the
'background-image' property.

<p>The difference between ''scroll'' and
''local'' is only visible when the element has a
scrolling mechanism (see 'overflow'): in
the case of ''scroll'', the background does not
scroll with the element's content. (It is attached to the element's
border, as it were.) In the case of ''local'',
the background scrolls along with the element's content. In this case,
the background behind the element's border (if any) scrolls as well,
even though the border itself does not scroll with the contents.

<p>Even if the image is fixed, it is still only visible when it is in
the content, padding, or border area of the element. Thus, unless the
image is tiled, it may be invisible.

<div class="example">
<p style="display:none">Example(s):

<p>This example creates an infinite vertical band that remains
&#8220;glued&#8221; to the viewport when the element is scrolled.

<pre>
body {
  background: red url("pendant.gif");
  background-repeat: repeat-y;
  background-attachment: fixed;
}
</pre>
</div>

<p>User agents that do not support ''fixed''
backgrounds (for example due to limitations of the hardware platform)
should ignore declarations with the keyword 'fixed'. For example:

<pre class=example>
body {
   /* For all UAs: */
   background: white url(paper.png) scroll;
   /* For UAs that do fixed backgrounds: */
   background: white url(ledger.png) fixed;
}
h1 {
   /* For all UAs: */
   background: silver;
   /* For UAs that do fixed backgrounds: */
   background: url(stripe.png) fixed, white url(ledger.png) fixed;
}
</pre>



<h3>The 'background-position' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-position</dfn>
    <tr>
      <th>Value:

      <td><var>&lt;bg-position&gt;</var>
        [ , <var>&lt;bg-position&gt;</var> ]*
    <tr>
      <th>Initial:
      <td>0% 0%
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>refer to size of element's box <em>minus</em> size of background
        image; see text
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>for &lt;length&gt; the absolute value, otherwise a percentage
</table>

<p>If background images have been specified, this property specifies
their initial position. The section <a
href="#layering">&#8220;Layering multiple background images&#8221;</a>
defines to which image of
'background-image' each of the comma-separated
values applies.

<p>The <dfn><var>&lt;bg-position&gt;</var></dfn> stands for: [ [
<var>&lt;percentage&gt;</var> | <var>&lt;length&gt;</var> | left |
center | right ] [ <var>&lt;percentage&gt;</var> |
<var>&lt;length&gt;</var> | top | center | bottom ]? ] | [ [ left |
center | right ] || [ top | center | bottom ] ]

<p id=bg-area-edge>Each <var>&lt;bg-position&gt;</var> specifies an
offset from the top left corner of either the viewport (if
'background-attachment' is ''fixed'' for this image) or the box given
by 'background-origin' (if 'background-attachment' is not ''fixed'').

<p>If only one percentage or length value is given, it sets the
horizontal offset only, and the vertical offset will be 50%. If two
values are given, the horizontal offset comes first. Combinations of
keyword, length and percentage values are allowed, (e.g., ''50% 2cm''
or ''center 2cm'' or ''center 10%''). For pairs of keyword and
non-keyword values, 'left' and 'right' may only be used as the first
value, and 'top' and 'bottom' may only be used as the second value. 
Negative positions are allowed.

<p>The keywords are equivalent to percentages, as follows:

<dl>
  <dt>top left,
  <dt>left top
  <dd>
  Same as ''0% 0%''.

  <dt>top,
  <dt>top center,
  <dt>center top
  <dd>
  Same as ''50% 0%''.

  <dt>right top,
  <dt>top right
  <dd>
  Same as ''100% 0%''.

  <dt>left,
  <dt>left center,
  <dt>center left
  <dd>
  Same as ''0% 50%''.

  <dt>center,
  <dt>center center
  <dd>
  Same as ''50% 50%''.

  <dt>right,
  <dt>right center,
  <dt>center right
  <dd>
  Same as ''100% 50%''.

  <dt>bottom left,
  <dt>left bottom
  <dd>
  Same as ''0% 100%''.

  <dt>bottom,
  <dt>bottom center,
  <dt>center bottom
  <dd>
  Same as ''50% 100%''.

  <dt>bottom right,
  <dt>right bottom
  <dd>
  Same as ''100% 100%''.
</dl>

<p>A percentage for the horizontal offset is relative to (<var>width
of element</var> - <var>width of background image</var>). A percentage
for the vertical offset is relative to (<var>height of element</var> -
<var>height of background image</var>), where the size of the image is
the size given by 'background-size' and the size of the element is the
size of the box given by 'background-origin'.

<p>If the element is rendered as multiple boxes (e.g., inline boxes on
several lines, boxes on several pages), the 'background-break'
property determines which box(es) to use.

<div class=example>
<p>For example, with a value pair of ''0% 0%'', the upper left corner
of the image is aligned with the upper left corner of, usually, the
box's <em>padding edge</em>. A value pair of ''100% 100%'' places the
lower right corner of the image in the lower right corner of the area. 
With a value pair of ''14% 84%'', the point 14% across and 84% down
the image is to be placed at the point 14% across and 84% down the
area.
</div>

<div class="example">
<p style="display:none">Example:
<pre>
body { background: url("banner.jpeg") right top }    /* 100%   0% */
body { background: url("banner.jpeg") top center }   /*  50%   0% */
body { background: url("banner.jpeg") center }       /*  50%  50% */
body { background: url("banner.jpeg") bottom }       /*  50% 100% */
</pre>
</div>

<div class="example">
<p style="display:none">Example:
<pre>
body {
  background-image: url("logo.png");
  background-attachment: fixed;
  background-position: 100% 100%;
  background-repeat: no-repeat;
}
</pre>

<p>In the example above, the (single) image is placed in the
lower-right corner of the viewport.
</div>

<div class="figure">
  <p><img alt="Diagram of image position within element"
  src="bg-pos.png">

  <p class="caption">Diagram of the meaning of 'background-position:
  75% 50%'.
</div>

<p class=issue>Anne van Kesteren gave a <a
href="http://lists.w3.org/Archives/Public/www-style/2004Aug/0185">use
case</a> for splitting the property into 'background-position-x' and
'background-position-y'. The use case is to have a single background
image with several columns and rows of slightly different tiles and
move it up or down to the correct tile on each :hover or :active. Only
the y-coordinate changes. [My opinion: it's a rare case and repeating
the x-coordinate three times isn't that onerous. BB]

<p class=issue>Anne van Kesteren also asked for a way to place an
image a fixed distance from the right or bottom edge. This could be
done, e.g., with expr
essions: 'expr(100% - 10px)' or extra keywords:
'10px 10px from-top-right' or '10px/top 10px/right'.

<p class=issue id=bg-inset-rect><a
href="mailto:lightsolphoenix@gmail.com">Kelly
Miller</a> suggested <a
href="http://lists.w3.org/Archives/Public/www-style/2005Aug/0030.html">
on www-style</a> to use 'rect()' and 'inset-rect()' notations instead
of positions. Images are placed in the top left corner of that
rectangle and if they are tiled, they are tiled only within that
rectangle. Example: 'background: url(tl) no-repeat, url(middle)
inset-rect(20px, 20px, 20px, 20px) space' puts a single
&ldquo;tl&rdquo; image in the top left and tiles the
&ldquo;middle&rdquo; image, but leaves 20px on each side untiled.
Questions: are images clipped to the given rectangle? If so, how about
removing 'background-clip' and allowing 'inset-rect(padding)'?


<h3>The 'background-clip' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-clip</dfn>
    <tr>
      <th>Value:
      <td>[<dfn title="clip-padding">border</dfn> | <dfn
        title="clip-border">padding</dfn>]
        [, [border | padding]]*
    <tr>
      <th>Initial:
      <td>border
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>same as specified value
</table>

<p>Determines whether the background extends into the border area or
not. If the value is '''padding'', the background
is clipped to the padding edge and the background of the border is
transparent. If the value is <span class=css
title="clip-border">'border'</span>, the background extends into the
border area.

<p class=note>Note that the background is drawn <em>behind</em> the
border, if any. See &#8220;Elaborate description of Stacking
Contexts&#8221; in [CSS3POS].

<p>Each comma-separated value applies to one image of
'background-image'. See the section <a
href="#layering">&#8220;Layering multiple background images&#8221;</a>
for how clip values and images are paired.

<p class=issue>The current definition doesn't allow to clip the
background color, only the background images. It seems more useful to
have just one clip value and apply it equally to all images and the
background color.



<h3>The 'background-origin' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-origin</dfn>
    <tr>
      <th>Value:
      <td>[<dfn title="origin-border">border</dfn> | <dfn
        title="origin-padding">padding</dfn> | <dfn
        title="origin-content">content</dfn>]
        [, [border | padding | content]]*
    <tr>
      <th>Initial:
      <td>padding
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>same as specified value
</table>

<p>Determines how the
'background-position' is calculated. With a
value of <span class=css title="origin-padding">'padding'</span>, the
position is relative to the padding edge ( ''0 0''
is the upper left corner of the padding edge,  ''100%
100%'' is the lower right corner). <span class=css
title="origin-border">'Border'</span> means the position is relative
to the border edge, and <span class=css
title="origin-content">'content'</span> means relative to the content
edge.

<p>Each comma-separated value applies to one image of
'background-image'. See the section <a
href="#layering">&#8220;Layering multiple background images&#8221;</a>
for how origin values and images are paired.

<p class="note">Note that if ''background-clip''
is <span title="clip-padding" class=css>'padding'</span>,
''background-origin'' is <span title="origin-border"
class=css>'border'</span>, and
''background-position'' is ''top
left'' (the initial value), then the top left of the background
image will be clipped.



<h3>The 'background-size' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-size</dfn>
    <tr>
      <th>Value:
      <td>[ [ <var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var>
        | <var>&lt;non-negative-number&gt</var> | auto ]{1,2} ]
        [ [ , [ <var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var>
        | <var>&lt;non-negative-number&gt</var> | auto ]{1,2} ] ]*
    <tr>
      <th>Initial:
      <td>auto
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>see text
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>for &lt;length&gt; the absolute value, otherwise as specified
</table>

<p class=issue>Is 'background-stretch' a better name? People also
suggested to use 'background-stretch: none' instead of 'auto' in that
case.

<p>Specifies the size of the background images. The section <a
href="#layering">&#8220;Layering multiple background images&#8221;</a>
defines to which image of the
'background-image' property each of the
comma-separated values applies.

<p>The <var>&lt;length&gt;</var> must be &ge; 0.

<p>If a comma-separated value has only one part, the second part is
set to ''auto''. Of the two parts, the first one
refers to the width, the second to the height of the corresponding
background image.

<div class="example">
<p>Here are some examples. The first example stretches the background
image independently in both directions to completely cover the content
area:

<pre>
div {
    background-image: url(plasma.png);
    background-size: 100% 100%;
    background-origin: content}
</pre>

<p>The second example stretches the image so that exactly two copies
fit horizontally. The aspect ratio is preserved:

<pre>
p {
    background-image: url(tubes.png);
    background-size: 50% auto;
    background-origin: border}
</pre>

<p>This example forces the background image to be 15 by 15 pixels:

<pre>
para {
    background-size: 15px 15px;
    background-image: url(tile.png)}
</pre>

<p>This example uses the image's intrinsic size. Note that this is the
only possible behavior in CSS level&nbsp;1 and 2.

<pre>
body {
    background-size: auto;            /* default */
    background-image: url(flower.png) }
</pre>

<p>The following example rounds the height of the image to 25%, down
from the specified value of 30%. At 30%, three images would fit
entirely and a fourth only partially. After rounding, four images
fit. The width of the image is 20% of the background area width and is
not rounded.

<pre>
p {
    background-image: url(chain.png);
    background-repeat: no-repeat round;
    background-size: 20% 30% }
</pre>
</div>

<p>The size of an image is established in three steps. The first step
derives sizes as follows:

<dl>
  <dt><span class=css>auto</span>

    <dd>The size that keeps the background image's original aspect
    ratio. Additionally, if the other part of the value is also
    ''auto'', the image has its intrinsic size.

  <dt><var>&lt;length&gt;</var>

    <dd>A specific size.

  <dt><var>&lt;percentage&gt;</var>

    <dd>The percentage is relative to the width or height of the area
    given by 'background-origin', except when the image's
    'background-attachment' is ''fixed'', in which case it is relative
    to the viewport.

  <dt><var>&lt;non-negative-number&gt;</var>

    <dd>The given number times the intrinsic size. <span
    class=note>Note that ''1'' is not always the same as ''auto''. 
    'background-size: 1' is equivalent to 'background-size: auto', but
    'background-size: 1 2' is not the same as 'background-size: auto
    2'. However, the latter <em>is</em> equivalent to
    'background-size: 2 2'.</span>
</dl>

<p class=issue>Is <var>&lt;non-negative-number&gt;</var> needed?

<p>Negative values are not allowed. A size of zero is allowed, but
causes the image not to be displayed. (The effect is the same as if it
had been a transparent image.)

<p>If 'background-repeat' is
''round'' for one (or both) directions, there is a
second step. The UA must reduce the size in that direction (or both
directions) so that the image fits a whole number of times in the
background area. In the case of the width:

<blockquote>
  <p>If <var>X</var> &ne; 0 is the width of the image after step one
  and <var>W</var> is the width of the background area, then the
  rounded width <var>X'</var> = <var>W</var> / ceil(<var>W</var> /
  <var>X</var>)
</blockquote>

<p>The height is analogous. ceil() is a function that returns its
argument if it is a whole number, otherwise the next bigger whole
number.

<p>If 'background-repeat' is
''round'' for one direction only and if
'background-size' is
''auto'' for the other direction, then there is a third
step: that other direction is scaled so that the original aspect ratio
is restored.

<div class=example>
<p>In this example the background image is shown at its intrinsic size:

<pre>
div {
  background-image: url(image1.png);
  background-repeat: repeat;         /* default */
  background-size: auto }            /* default */
</pre>

<p>In the following example, the background is shown with a width of
3em and its height is scaled proportionally to keep the original
aspect ratio:

<pre>
div {
  background-image: url(image2.png);
  background-repeat: repeat;         /* default */
  background-size: 3em }             /* = '3em auto' */
</pre>

<p>In the following example, the background is shown with a width of
3em or slightly smaller, so that it fits a whole number of times in
the width of the background. The height is scaled proportionally to
keep the original aspect ratio:

<pre>
div {
  background-image: url(image3.png);
  background-repeat: round repeat;
  background-size: 3em auto }
</pre>

<p>In the following example, the background image is shown with a
width of 3em and a height that is either the height corresponding to
that width at the original aspect ratio or slightly less:

<pre>
div {
  background-image: url(image4.png);
  background-repeat: repeat round;
  background-size: 3em auto }
</pre>
<p>In the following example, the background image is shown with a
height of 4em or slightly less, so that it fits a whole number of
times in the background height. The width is the width that correspond
to a 4em height at the original aspect ratio or slightly less:

<pre>
div {
  background-image: url(image5.png);
  background-repeat: round;
  background-size: auto 4em }
</pre>
</div>

<p class=issue>Is it better to allow the size of the image to be
rounded up as well as down?

<p class=issue>Alan Gresley <a
href="http://lists.w3.org/Archives/Public/www-style/2007Nov/0255.html">
suggested</a> dropping 'background-size' altogether and instead add
optional bottom right coordinates to 'background-position':
'background-position: 0 0 0 0' is the same as 'background-size: 100%'
and 'background-position: 0 0' is the same as 'background-size: auto'.




<h3>The 'background-break' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background-break</dfn>
    <tr>
      <th>Value:
      <td>bounding-box | each-box | continuous
    <tr>
      <th>Initial:
      <td>continuous
    <tr>
      <th>Applies to:
      <td>inline elements and block-level elements (see text)
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>N/A
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>same as specified value
</table>

<p>This property applies to inline flow elements (specifically, it
does not apply to elements that are inline-block or inline-table), and
to block-level elements when they are broken into several boxes (for
example, across pages [[!CSS3PAGE]]). The property does different
things for different types of boxes.

<p>For inline flow elements, values have the following meanings:

<dl>
  <dt>bounding-box

    <dd>The background is drawn in a rectangle which is the smallest
    rectangle that encloses all inline boxes of the element. It is
    only visible within the padding (or border, depending on the
    'background-clip' property) area of the
    inline boxes. If the boxes are on different pages, the pages are
    treated as one continuous page, glued together at their top and
    bottom (after stripping away the top and bottom page margins) and
    the rectangle is drawn on this continuous page. <span
    class=issue>Still an issue if the pages aren't the same width,
    e.g., one is in landscape.</span>

  <dt>each-box <span class=issue>(or discontinuous?)</span>

    <dd>The background is drawn in each inline box of the element. A
    no-repeat background image will thus be rendered once in each
    inline box of the element.

  <dt>continuous

    <dd>The effect is as if, after the element has been laid out
    (including any justification, bidi reordering, page breaks, etc.),
    all the element's boxes are taken and put one after the other in
    one long row; the background is applied to the bounding box of
    this row and then the boxes are put back, with their share of the
    background. The order in the row is the visual order of the boxes,
    not the logical order of the source. I.e., in a right-to-left
    containing block ( 'direction' is
    ''ltr''), the first box is the leftmost box on the
    first line and subsequent boxes are put to the right of it. In a
    right-to-left containing block, the first box is the rightmost on
    the first line and subsequent boxes are put to the left of it.
    <span class=issue>Is this true? or the direction of the element
    itself?</span>
</dl>

<p>For block-level elements, values have the following meanings: <span
class=issue>(EDITOR'S NOTE: following needs to be checked against what
was in old "background-break (open|close)" property)</span>

<dl>
  <dt>bounding-box

    <dd>The background is tiled in a rectangle which is the smallest
    rectangle that encloses all boxes of the block-level element.

  <dt>each-box

    <dd><span class=issue>(or 'discontinuous'?)</span> Each box of the
    block-level element is treated separately for background
    rendering.

  <dt>continuous

    <dd>For block-level elements,  ''continuous''
    works identical to ''bounding-box''
</dl>


<h3 id="layering">Layering multiple background images</h3>

<p>The properties 'background-image',
 'background-origin',
'background-clip',
'background-repeat',
'background-size', and
'background-position' may have multiple
comma-separated values. If the values are specified as follows:

<blockquote>
<p>background-image: <var>w</var><sub>1</sub>,
<var>w</var><sub>2</sub>, <var>w</var><sub>3</sub>,&hellip;,
<var>w</var><sub><var>M</var></sub><br>

background-repeat: <var>x</var><sub>1</sub>, <var>x</var><sub>2</sub>,
<var>x</var><sub>3</sub>,&hellip;,
<var>x</var><sub><var>R</var></sub><br>

background-size: <var>y</var><sub>1</sub>, <var>y</var><sub>2</sub>,
<var>y</var><sub>3</sub>,&hellip;,
<var>y</var><sub><var>S</var></sub><br>

background-position: <var>s</var><sub>1</sub>,
<var>s</var><sub>2</sub>, <var>s</var><sub>3</sub>,&hellip;,
<var>s</var><sub><var>P</var></sub>
</blockquote>

<p>then the number of layers is <var>N</var> = max(<var>M</var>,
<var>R</var>, <var>S</var>, <var>P</var>)

<p class=issue>It seems more intuitive to let
'background-image' determine the number of
layers and truncate or extend
'background-repeat' and
'background-position' accordingly (i.e.,
<var>N</var> = <var>M</var>). Also because only
'background-image' has the value
''none''.

<p>Each of the properties is interpreted as if it had
<var>N</var> values, by repeating the specified values like this:

<blockquote>
<p>background-image:
<var>w</var><sub>1</sub>,&hellip;<var>w</var><sub><var>M</var></sub>,
<var>w</var><sub>1</sub>,&hellip;<var>w</var><sub><var>M</var></sub>,
<var>w</var><sub>1</sub>,&hellip; /* <var>N</var> values */<br>

background-repeat:
<var>x</var><sub>1</sub>,&hellip;<var>x</var><sub><var>R</var></sub>,
<var>x</var><sub>1</sub>,&hellip;<var>x</var><sub><var>R</var></sub>,
<var>x</var><sub>1</sub>,&hellip; /* <var>N</var> values */<br>

background-size:
<var>y</var><sub>1</sub>,&hellip;<var>y</var><sub><var>S</var></sub>,
<var>y</var><sub>1</sub>,&hellip;<var>y</var><sub><var>S</var></sub>,
<var>y</var><sub>1</sub>,&hellip; /* <var>N</var> values */<br>

background-position:
<var>s</var><sub>1</sub>,&hellip;<var>r</var><sub><var>P</var></sub>,
<var>s</var><sub>1</sub>,&hellip;<var>r</var><sub><var>P</var></sub>,
<var>s</var><sub>1</sub>,&hellip; /* <var>N</var> values */
</blockquote>

<div class=example>
<p>This set of declarations:
<pre>
background-image: url(flower.png), url(ball.png), url(grass.png);
background-position: center center, 20% 80%, top left;
background-origin: border, content;
</pre>
<p>has exactly the same effect as this set with the origin values
repeated (displayed in bold for clarity):
<pre>
background-image: url(flower.png), url(ball.png), url(grass1.png);
background-position: center center, 20% 80%, top left;
background-origin: border, content<b>, border</b>;
</pre>

<p>Likewise, this set of declarations:
<pre>
background-image: url(red.png), url(blue.png);
background-repeat: repeat-x, repeat-y, repeat-y;
background-position: 20% 25%, 40% 10%, 50% 15%, 70% 40%, 90% 35%;
</pre>
<p>has the same effect as:
<pre>
background-image: url(red.png), url(blue.png)<b>, url(red.png),</b>
    <b>url(blue.png), url(red.png)</b>;
background-repeat: repeat-x, repeat-y, repeat-y<b>, repeat-x, repeat-y</b>;
background-position: 20% 25%, 40% 10%, 50% 15%, 70% 40%, 90% 35%;
</pre>
</div>

<p class=issue>There are other ways to add missing values: repeat the
last value at the end, repeat the first value at the start, fill
either at the end or at the start with the initial value&hellip;

<p>Each of the images is repeated, sized, and positioned according to
the corresponding value in the other properties. The first image in
the list is the layer closest to the user, the next one is painted
behind the first, and so on.

<h3>The 'background' property</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>background</dfn>
    <tr>
      <th>Value:
      <td>[ <var>&lt;bg-layer&gt;</var> , ]* <var>&lt;final-bg-layer&gt;</var>
    <tr>
      <th>Initial:
      <td>see individual properties
    <tr>
      <th>Applies to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>see individual properties
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed value:
      <td>see individual properties
</table>

<p><dfn><var>&lt;bg-layer&gt;</var></dfn> stands for:
   <var>&lt; 'background-image'&gt;</var>
|| <var>&lt; 'background-position'&gt;</var>
|| / <var>&lt; 'background-size'&gt;</var>
|| <var>&lt; 'background-repeat'&gt;</var>
|| <var>&lt; 'background-attachment'&gt;</var>
|| <var>&lt; 'background-clip'&gt;</var>
   <var>&lt; 'background-origin'&gt;</var>?
where ''/ <var>&lt; 'background-size'&gt;</var>'' must occur after
''<var>&lt;'background-position'&gt;</var>'' if both are present.

<p><dfn><var>&lt;final-bg-layer&gt;</var></dfn> stands for:
   <var>&lt; 'background-image'&gt;</var>
|| <var>&lt; 'background-position'&gt;</var>
|| / <var>&lt; 'background-size'&gt;</var>
|| <var>&lt; 'background-repeat'&gt;</var>
|| <var>&lt; 'background-attachment'&gt;</var>
|| [ <var>&lt; 'background-clip'&gt;</var>
     <var>&lt; 'background-origin'&gt;</var>? ]
|| <var>&lt; 'background-color'&gt;</var>
where ''/ <var>&lt; 'background-size'&gt;</var>'' must occur after
''<var>&lt;'background-position'&gt;</var>'' if both are present.

<p class=note>Note that a color is permitted in
<var>&lt;final-bg-layer&gt;</var>, but not in <var>&lt;bg-layer&gt;</var>.

<p>The 'background' property is a
shorthand property for setting most background properties at the same
place in the style sheet. It sets each of
'background-color',
'background-position',
'background-size',
'background-repeat',
'background-clip',
'background-origin',
'background-attachment' and
'background-image' to the value given, or to its
initial value, if no explicit value was specified. (It does not set
 'background-break'.)

<p>The ''::first-line'' pseudo-element is like an
inline-level element for the purposes of the background (see section
5.12.1 of [[!CSS21]]). That means, e.g., that in a left-justified
first line, the background does not necessarily extend all the way to
the right margin.

<div class="example">
<p style="display:none">Examples:

<p>In the first rule of the following example, only a value for
'background-color' has been given and the
other individual properties are set to their initial values. In the
second rule, many individual properties have been specified.

<pre>
body { background: red }
p { background: url("chess.png") (10em) gray
       40% round fixed border border}
</pre>

<p>The first rule is equivalent to:

<pre>
body {
    background-color: red;
    background-position: 0% 0%;
    background-size: auto auto;
    background-repeat: repeat repeat;
    background-clip: border;
    background-origin: padding;
    background-attachment: scroll;
    background-image: none }
</pre>

<p>The second is equivalent to:

<pre>
p {
    background-color: gray;
    background-position: 40% 50%;
    background-size: 10em 10em;
    background-repeat: round round;
    background-clip: border;
    background-origin: border;
    background-attachment: fixed;
    background-image: url(chess.png) }
</pre>
</div>

<div class=example>
<p>The following example shows how a both a background color (<span
class=css>#CCC</span>) and a background image (<span
class=css>url(metal.jpg)</span>) are set. The image is stretched to
the full width of the element:

<pre>
E { background: #CCC url("metal.jpg") (100% auto) no-repeat top left }
</pre>
</div>

<div class=example>
<p>Another example shows equivalence:

<pre>
div { background: padding url(paper.jpg) white center }
div {
    background-color: white;
    background-image: url(paper.jpg);
    background-repeat: repeat;
    background-attachment: scroll;
    background-position: center;
    background-clip: padding;
    background-origin: padding;
    background-size: auto auto }
</pre>
</div>

<div class=example>
<p>The following declaration with multiple, comma-separated values

<pre>
background: url(a.png) top left no-repeat,
            url(b.png) center (100% 100%) no-repeat,
            url(c.png) white;
</pre>

<p>is equivalent to

<pre>
background-image:      url(a.png), url(b.png),        url(c.png);
background-position:   top left,   center,            top left;
background-repeat:     no-repeat,  stretch no-repeat, repeat;
background-clip:       border,     border,            border;
background-origin:     padding,    padding,           padding;
background-size:       auto auto,  100% 100%,         auto auto;
background-attachment: scroll,     scroll,            scroll;
background-color:      white;
</pre>
</div>

<p class=note>Note that ''background: url(foo)
white'' and ''background: url(foo), white''
have the same effect.

<p class=issue>Having both clip and origin in the shorthand may be
confusing, since they use the same keywords and their order is thus
important. Maybe a simplification (due to Fantasai) is to allow
'[border | padding | content]?' only once and use it to set clip and
origin to the same value (or to their defaults, if absent).



<h3>The background of the canvas</h3>

<p>The background of the <em>root element</em> becomes the background
of the <em>canvas</em> and extends to cover the entire canvas,
although any images are positioned and stretched relative to the root
element as if they were painted for that element alone. If the root's
background-color value is ''transparent'', the
color is UA dependent. The root element does not paint this
background again.

<p>For <em>HTML documents,</em> however, it is recommended that
authors specify the background for the <code class=html>BODY</code>
element rather than the <code class=html>HTML</code> element. User
agents must observe the following precedence rules to fill in the
background of the canvas of HTML documents: if either or both of the
 'background-image' and
'background-color' properties on the <code
class=html>HTML</code> element is different from their initial values,
then use the background of the <code class=html>HTML</code> element,
else use the background of the <code class=html>BODY</code> element.
This does <em>not</em> apply to <span>XHTML documents.</span>

<div class="example">
<p>According to these rules, the canvas underlying the following HTML
document will have a &#8220;marble&#8221; background:

<pre>
&lt;!DOCTYPE html PUBLIC '-//W3C//DTD HTML 4.0//EN'
  &gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Setting the canvas background&lt;/title&gt;
    &lt;style type="text/css"&gt;
       body { background: url("http://example.org/marble.png") }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;My background is marble.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
</div>



<h2>Border properties</h2>

<h3 id="the-border-color">The 'border-color' properties</h3>

<table class="propdef">
  <tr>
    <th>Name:
    <td><dfn>border-top-color</dfn> ,
        <dfn>border-right-color</dfn>,
        <dfn>border-bottom-color</dfn>,
        <dfn>border-left-color</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;color&gt;</var>
  <tr>
    <th>Initial:
    <td>currentcolor
  <tr>
    <th>Applies to:
    <td>all elements
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>in the case of 'currentcolor', the computed value of the 'color'
      property; otherwise, as specified
</table>

<table class="propdef">
  <tr>
    <th>Name:
    <td><dfn id="border-color">border-color</dfn>
  <tr>
    <th>Value:
    <td>&lt;color&gt;{1,4}
  <tr>
    <th>Initial:
    <td>(see individual properties)
  <tr>
    <th>Applies to:
    <td>all elements
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>see individual properties
</table>

<p>These properties set the foreground color of the border specified
by the <span class=property>border-style</span> properties.

<p>'Border-color' is a shorthand for the
four 'border-*-color' properties. The four values set the top, right,
bottom and left border, respectively. A missing left is the same as
right, a missing bottom is the same as top, and a missing right is
also the same as top.



<h3 id="the-border-style">The 'border-style' properties</h3>

<table class="propdef">
  <tr>
    <th>Name:
    <td><dfn>border-top-style</dfn>,
        <dfn>border-right-style</dfn>,
        <dfn>border-bottom-style</dfn>,
        <dfn>border-left-style</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;border-style&gt;</var>
  <tr>
    <th>Initial:
    <td>none
  <tr>
    <th>Applies to:
    <td>all elements
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>specified value
</table>

<table class="propdef">
  <tr>
    <th>Name:
    <td><dfn>border-style</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;border-style&gt;</var>{1,4}
  <tr>
    <th>Initial:
    <td>(see individual properties)
  <tr>
    <th>Applies to:
    <td>all elements
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>see individual properties
</table>

<p>These properties set the style of the border, unless there is a
border image (see 'border-image').

<p>'Border-style' is a shorthand for the
other four. Its four values set the top, right, bottom and left border
respectively. A missing left is the same as right, a missing bottom is
the same as top, and a missing right is also the same as top.

<p><var><dfn>&lt;border-style&gt;</dfn></var> is: none | hidden |
dotted | dashed | solid | double |
groove | ridge | inset | outset. Values have the following meanings:

<dl>
  <dt><dfn title="border-style-none">none</dfn>
  <dd>
  No border. Color and width are ignored (i.e., the border has width
  0, unless the border is an image, see
  'background-image'

  <dt><dfn>hidden</dfn>
  <dd>
  Same as 'none', but has different behavior in the conflict
  resolution rules for tables [[CSS3TBL]].

  <dt><dfn>dotted</dfn>
  <dd>
  A series of dots.

  <dt><dfn>dashed</dfn>
  <dd>
  A series of dashes.

  <dt><dfn>solid</dfn>
  <dd>
  A single line segment.

  <dt><dfn>double</dfn>
  <dd>
  Two parallel solid lines with some space between them. (The
  thickness of the lines is not specified, but the sum of the lines
  and the space must equal
  'border-width'.)

  <dt><dfn>groove</dfn>
  <dd>
  Looks as if it were carved in the canvas. (This is typically
  achieved by creating a &#8220;shadow&#8221; from two colors that are
  slightly lighter and darker than the
  'border-color'.)

  <dt><dfn>ridge</dfn>
  <dd>
  Looks as if it were coming out of the canvas.

  <dt><dfn>inset</dfn>
  <dd>
  Looks as if the content on inside of the border is sunken into the
  canvas. Different meaning on table[ref] elements.

  <dt><dfn>outset</dfn>
  <dd>
  Looks as if the content on the inside of the border is coming out of
  the canvas. Different meaning for table[ref] elements.
</dl>

<p>Borders are drawn in front of the element's background, but behind
the element's content (in case it overlaps).

<div class="figure">
  <p><img alt="Examples of border styles" src="borderstyles.png">

  <p class=caption>Example renderings of the predefined border styles.
</div>

<p class="note">Note: There is no control over the spacing of the dots
and dashes, nor over the length of the dashes. Implementations are
encouraged to choose a spacing that makes the corners symmetrical.

<p class="note">Note: This specification does not define how borders
of different styles should be joined in the corner. Also note that
rounded corners may cause the corners and the contents to overlap, if
the padding is less than the radius of the corner.



<h3>The 'border-width' properties</h3>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>border-top-width</dfn>, <dfn>border-right-width</dfn>,
        <dfn>border-bottom-width</dfn>, <dfn>border-left-width</dfn>
    <tr>
      <th>Value:
      <td><var>&lt;border-width&gt;</var>
    <tr>
      <th>Initial:
      <td>medium
    <tr>
      <th>Applies&nbsp;to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>width* of containing block
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>absolute length; '0' if the border style is 'none' or 'hidden'
    <tr>
      <td colspan="2" class="footnote">*) if the containing block has
        a horizontal writing mode, otherwise the height
</table>

<table class="propdef">
    <tr>
      <th>Name:
      <td><dfn>border-width</dfn>
    <tr>
      <th>Value:</td>
      <td><var>&lt;border-width&gt;</var>{1,4}
    <tr>
      <th>Initial:
      <td>(see individual properties)
    <tr>
      <th>Applies&nbsp;to:
      <td>all elements
    <tr>
      <th>Inherited:
      <td>no
    <tr>
      <th>Percentages:
      <td>see individual properties
    <tr>
      <th>Media:
      <td>visual
    <tr>
      <th>Computed&nbsp;value:
      <td>see individual properties
</table>

<p class="issue">[Border-width doesn't allow percentages in CSS2;
should we allow percentages (of the containing block's width) in
CSS3?]

<p>These properties set the thickness of the border.

<p>The <dfn><var>&lt;border-width&gt;</var></dfn> is
'<var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var> | thin |
medium | thick'. The <var>&lt;length&gt;</var> and
<var>&lt;percentage&gt;</var> may not be negative. The lengths
corresponding to 'thin', 'medium' and 'thick' are not specified, but
the values are constant throughout a <span>document</span> and thin
&le; medium &le; thick. A UA could, e.g., make the thickness depend on
the 'medium' font size: one choice might be 1, 3 &amp; 5px when the
'medium' font size is 17px or less.

<p>'Border-width' is a shorthand that sets the
four 'border-*-width' properties. If it has four values, they set top, right,
bottom and left in that order. If left is missing, it is the same as right;
if bottom is missing, it is the same as top; if right is missing, it is the
same as top.

<p class="note">Note that the initial width is 'medium', but the initial
style is 'none' and therefore the used width is 0.

<p>When the used width of the border is 0, we say that the border is
absent.



<h3>The 'border-image' property</h3>

<table class=propdef>
  <tr>
    <th>Name:
    <td><dfn>border-image</dfn>
  <tr>
    <th>Value:
    <td>none | <var>&lt;uri&gt;</var>
               [ <var>&lt;number&gt;</var> | <var>&lt;percentage&gt;</var>]{1,4}
               [ / <var>&lt;border-width&gt;</var>{1,4} ]?
               [ stretch | repeat | round ]{0,2}
  <tr>
    <th>Initial:
    <td>none
  <tr>
    <th>Applies to:
    <td>All elements, except table element when
    'border-collapse' is
    ''collapse''
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>any URI made absolute, any &lt;length&gt; made absolute,
      other parts as specified
</table>

<p>Specifies an image to use instead of the border styles given by the
 'border-style' properties and an
additional background image for the element. If the value is
''none'' or if the image cannot be displayed, the
border styles will be used.

<p>The up to four numbers or percentages immediately following the
<var>&lt;uri&gt;</var> specify which part of that image is used for
which part of the border. They divide the image into nine parts: four
corners, four edges and a middle part. The middle part is used as an
extra background image.

<p>The first of the four values is the height of the top edge and of
the two top corners. The second is the width of the right edge and the
two right corners. The third is the height of the bottom edge and the
two bottom corners. The fourth is the width of the left edge and the
two left corners.

<p>If the fourth number/percentage is absent, it is the same as the
second. If the third one is also absent, it is the same as the first. 
If the second one is also absent, it is the same as the first.

<p>Percentages are relative to the size of the image. Numbers
represent pixels in the image (if the image is a raster image) or CSS
px units (if not). Negative values are not allowed and values bigger
than the size of the image are interpreted as 100%.

<p class=issue>The <var>&lt;number&gt;</var>s are slightly
confusing. People may be tempted to write 5px instead of 5, since on
most screens, 5px is the same size as 5 image pixels.

<div class=figure>
  <p><img src="slice" alt="Diagram: two horizontal cuts and two
  vertical cuts through an image">

  <p class=caption>Diagram illustrating the cuts corresponding to the
  value ''url("foo") 25% 30% 12% 20%''
</div>

<p>If the sum of the right and left widths is equal to
or greater than the width of the image, the images for the top and
bottom edge and the middle part are empty, which has the same effect
as if a nonempty transparent image had been specified for those
parts. Analogously for the top and bottom values.

<p>If the slash is present in the property value, the one to four
values after it are used for the width of the border
instead of the 'border-width' properties
(but only if the specified image can be displayed). The order of the
values is the same as for 'border-width'.

<div class=issue id=border-width-override>
  <p>Another option is to let the values after the slash only set the
  size of the images, but not the border width. This allows the
  element's content to overlap the image border. In this example, the
  border image is wider than the border:

  <pre>border: 2px dotted;
border-image: url(coffeestain.png) 10 / 20px</pre>

  <p>In this example, the border image is the same width as the
  border:

  <pre>border: 2px dotted;
border-image: url(spickles.png) 10</pre>

  <p>Another advantage (or disadvantage?) is that the size of the
  element is the same, whether or not the UA supports 'border-image'.

</div>

<p>At the end of the value, there may be up to two keywords, that
specify how the images for the sides and the middle part are scaled
and tiled. If the second is absent, it is assumed to be the same as
the first. If both are absent, the effect is the same as
''stretch stretch''.

<p class=issue>Dave Hyatt suggested allowing a keyword 'transparent'
to force the middle part of the image to be treated as transparent
(effectively not using it). This may be easier than actually making
the image transparent and it may save the UA some work trying to
overlay an image that doesn't actually contain anything.

<p>The nine images are scaled and tiled in four steps:

<dl>
<dt>step&nbsp;1
<dd>
  <ul>
  <li><p>The two images for the top and bottom edges are made as tall
  as the top and bottom borders, respectively, (either using
  'border-width' or the values specified after
  the slash) and their width is scaled proportionally.

  <li><p>The images for the left and right edge are made as wide as the
  left and right borders, respectively, and their height is scaled
  proportionally.

  <li><p>The corner images are scaled to be as wide and as tall as the two
  borders they are part of.

  <li><p>The middle part is not scaled.
  </ul>
<dt>step&nbsp;2
<dd>
  <ul>
  <li><p>If the first keyword is ''stretch'', the
  top, middle and bottom images are further scaled to be as wide as
  the element's padding box. The height is not changed any further.

  <li><p>If the first keyword is ''round'', the top,
  middle and bottom images are reduced in width, so that exactly a
  whole number of them fit in the width of the padding box, as
  follows:

  <blockquote>
    <p>If <var>X</var> &ne; 0 is the width of the image and
    <var>W</var> is the width of the padding area, then the rounded
    width <var>X'</var> = <var>W</var> / ceil(<var>W</var> /
    <var>X</var>)
  </blockquote>

  <li><p>If the first keyword is 'repeat', the top, middle, and bottom
    images are not changed any further.


  <li><p>The effects of ''stretch'', ''round'', and ''repeat'' for the
    second keyword are analogous, acting on the height of the left,
    middle and right images.
  </ul>

<dt>step&nbsp;3
<dd>
  <ul>
  <li><p>If the first keyword is ''round'', the top, middle, and bottom
    images are placed at the left edge of their respective parts of the
    border (the middle image is put in the padding area). Otherwise the
    images centered horizontally in their respective areas.
  <li><p>If the second keyword is ''round'', the left, middle, and right
    images are placed at the top edge of their respective parts of the
    border/padding area. Otherwise the images are centered vertically
    in their respective areas.

<dt>step&nbsp;4
<dd>
  <ul>
  <li><p>The images are then tiled within their respective areas. All
    images are drawn behind the element's content, in front of the
     element's background.

</dl>

<div class=example>
<p>This example creates a top and bottom border consisting of a whole
number of orange diamonds and a left and right border of a single,
stretched diamond. The corners are diamonds of a different color. The
image to tile is as follows. Apart from the diamonds, it is
transparent:

<p><img src="border.png" alt="Tile for border">

<p>The image is 81 by 81 pixels and has to be divided into 9 equal
parts. The style rules could thus be as follows:

<pre>
DIV {
  border-image: url("border.png") 27 round stretch;
  border: double orange 1em }
</pre>

<p>The result, when applied to a DIV of 12 by 5em, will be similar to
this:

<p><img src="borderresult.png" alt="element with a diamond border">
</div>

<p>The 'border-image' property does not
apply to table elements in a table with
'border-collapse' set to
''collapse''.



<h3 id="the-border-radius">The 'border-radius' properties</h3>

<table class=propdef>
  <tr>
    <th>Name:
    <td><dfn>border-top-right-radius</dfn>,
        <dfn>border-bottom-right-radius</dfn>,
        <dfn>border-bottom-left-radius</dfn>,
        <dfn>border-top-left-radius</dfn>
  <tr>
    <th>Value: 
    <td><var>&lt;length&gt;</var> <var>&lt;length&gt;</var>?
  <tr>
    <th>Initial:
    <td>0
  <tr>
    <th>Applies to:
    <td>all elements, except table element when 'border-collapse' is
        ''collapse''
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>two absolute &lt;length&gt;s
</table>

<table class=propdef>
  <tr>
    <th>Name:
    <td><dfn>border-radius</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;length&gt;</var>{1,4}
        [ / <var>&lt;length&gt;</var>{1,4} ]?
  <tr>
    <th>Initial:
    <td>0
  <tr>
    <th>Applies to:
     <td>all elements, except table element when 'border-collapse' is
       ''collapse''
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>see individual properties
</table>

<p>The two length values of the 'border-*-radius' properties define
the radii of a quarter ellipse that defines the shape of the corner
of the outer border edge (see the diagram below).
The first value is the horizontal radius. If the
second length is omitted it is equal to the first (and the corner is
thus a quarter circle). If either length is zero, the corner is
square, not rounded. The border radius also causes the element's
background to be rounded, even if the border is
''none''. Negative values are not allowed.

<p>The 'border-radius' shorthand sets all four 'border-*-radius'
properties. If values are given before and after the slash, then
the values before the slash set the horizontal radius and the values
after the slash set the vertical radius. If there is no slash, then the
values set both radii equally. The four values for each radii are
given in the order top-left, top-right, bottom-right, bottom-left.
If bottom-left is omitted it is the same as top-right. If
bottom-right is omitted it is the same as top-left. If top-right is
omitted it is the same as top-left.</p>

<div class="example">
<pre>
border-radius: 4em;
</pre>
would be equivalent to
<pre>
border-top-left-radius:     4em;
border-top-right-radius:    4em;
border-bottom-right-radius: 4em;
border-bottom-left-radius:  4em;
</pre>
and
<pre>
border-radius: 2em 1em 4em / 0.5em 3em;
</pre>
would be equivalent to
<pre>
border-top-left-radius:     2em 0.5em;
border-top-right-radius:    1em 3em;
border-bottom-right-radius: 4em 0.5em;
border-bottom-left-radius:  1em 3em;
</pre>
</div>

<p>The padding edge (inner border) radius is the outer border radius
minus the corresponding border thickness. In the case where this results
in a negative value, the inner radius is zero. (In such cases its center
might not coincide with that of the outer border curve.) Backgrounds,
but not the <a href="#the-border-image">border-image</a>, are clipped to
the curve of the border. Other effects that clip to the border or padding
edge (such as <a href="http://www.w3.org/TR/CSS21/visufx.html#overflow">overflow</a>)
also must clip to the curve.

<p class=note>Note that this means that when two adjoining borders are
of different thicknesses the corner will show a smooth transition
between the thicker and thinner borders. One of the borders may even
have zero width.

<p>The center of color and style transitions between adjoining borders
is at the point on the curve that is at an angle that is proportional
to the ratio of the border widths. For example, if the two widths are
equal, that point is at a 45&deg; angle, and if one is twice the width
of the other the point is at a 30&deg; angle. The line demarcating this
transition is drawn between the point at that angle on the outer curve
and the point at that angle on the inner curve. The transition must be
contained within the segment of the border where the tangent of the
inner curve either not defined or is not parallel with the sides of the
box. It is not defined what the transition looks like, but a gradient
is recommended for color transitions.

<div class="figure">
  <p><img alt="Diagram of the inscribed ellips" src="corner.png">

  <p class=caption>The two values of
  ''border-top-left-radius: 55pt 25pt'' define the
  curvature of the corner.
</div>

<div class="figure">
  <p><img alt="The effect of rounded corners on unequal borders"
  src="smooth-radius.png">

  <p class=caption>The effect of a rounded corner when the two borders
  it connects are of unequal thickness (left) and the effect of a
  rounded corner on borders that are thicker than the radius of the
  corner (right).
</div>

<p>All border styles ( ''solid'', ''dotted'',  ''inset'', etc.)
follow the curve of the border.

<p>Corners do not overlap: When the sum of two adjacent corner radii
exceeds the size of the border box, UAs must reduce one or more of the
radii. The algorithm for reducing radii is as follows:

<p class=issue>We need some graphics to find out what method is
visually most pleasing. Here is one: the used value of each radius is
<var>f</var> times the computed value of the radius, where
<var>f</var> is the largest number &le; 1 (the same number for all
eight radii), such that no corners overlap.

<div class=example>
<p>For example, the borders A and D of the figure below might be the
result of
<pre>
box-width: border-box;
width: 6em;
height: 2.5em;
border-radius: 0.5em 2em 0.5em 2em
</pre>
<p>The height (2.5em) is enough for the specified radii (0.5em plus
2.5em). However, if the height is only 2em,
<pre>
box-width: border-box;
width: 6em;
height: 2em;
border-radius: 0.5em 2em 0.5em 2em
</pre>
<p class=issue>all corners need to be reduced by a factor 0.8 to make
them fit. The used border radii thus are 0.4em (instead of 0.5em) and
1.6em (instead of 2em). See borders B and C in the figure.
</div>

<div class=figure>
  <p><img src="corner-large-mix" alt="[image: rectangle with two tiny
  rounded corners and two very large ones, on opposite corners]">

  <p class=caption>These rounded corner might be the result of 'width:
  6em; height: 2.5em; border-radius: 0.5em 2em 0.5em 2em' (for A and
  D) and ditto but with 'height: 2em' for (B and C).
</div>

<div class=example>
<p>This example draws ovals of 15em wide and 10em high:

<pre>
DIV.standout {
    width: 13em;
    height: 8em;
    border: solid black 1em;
    border-radius: 7.5em 5em }
</pre>
</div>

<div class=example>
<p>This example adds appropriate padding, so that the
contents do not overflow the corners. Note that there is no border,
but the background will still have rounded corners.

<pre>
DIV {
    background: black;
    color: white;
    border-radius: 1em;
    padding: 1em }
</pre>
</div>

<p class=issue>Allow percentages as well as lengths?

<p class=issue>[Ben Stucki] Is there a need for a property to allow
the designer to select between smooth color gradient and cut off at 45
degree? The latter would also cut off a rounded corner of which one
side has zero thickness.


<h3 id="the-border-break">The 'border-break' property</h3>

<table class=propdef>
  <tr>
    <th>Name:
    <td><dfn>border-break</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;border-width&gt;</var> ||
        <var>&lt;border-style&gt;</var> ||
        <var>&lt;color&gt;</var>
  <tr>
    <th>Initial:
    <td>none
  <tr>
    <th>Applies to:
    <td>elements with a border
  <tr>
    <th>Inherited:
    <td>yes
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>any &lt;length;&gt; made absolute;
       in the case of 'currentcolor', the computed value of
       'color'; otherwise the color as specified
</table>

<p>When a box that has a border is broken at a page break, column
break, or, for inline elements, at a line break, a border and some
padding can be inserted at the break, or the border can be left open.

<p>If the style is set to ''none'', no border
and no padding are inserted.

<p>Otherwise, padding is added as wide as the corresponding side of
the 'padding' property and a border is
added. If borders on that side would get an image, the image is used,
scaled to the given width, otherwise the border gets the given style
and color.

<p class=note>Note that, unlike for the other borders of the element,
a value of ''none'' suppresses any image border
as well. If you want an image or nothing, use
''hidden'' instead.

<p class=issue>Is this asymmetry in the meaning of 'none' a problem?
Another possibility is to have a simple on/off switch for the border
at the break: 'border-break: show | hide'.

<div class="figure">
  <p><img alt="Illustration of border-break" src="border-break.png">

  <p class=caption>Two possibilities for
  'border-break': on the left, the value
  ''none'', on the right the value
  ''solid''.
</div>



<h3 id="the-border-shorthands">The
'border-top', 'border-bottom', 'border-right', 'border-left', and
'border' properties</h3>

<table class=propdef>
  <tr>
    <th>Name:
    <td><dfn>border-top</dfn>,
        <dfn>border-right</dfn>,
        <dfn>border-bottom</dfn>,
        <dfn>border-left</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;border-width&gt;</var> ||
        <var>&lt;border-style&gt;</var> ||
        <var>&lt;color&gt;</var>
  <tr>
    <th>Initial:
    <td>See individual properties
  <tr>
    <th>Applies to:
    <td>all elements
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>see individual properties
</table>

<p>This is a shorthand property for setting the width, style, and
color of the top, right, bottom, and left border of a box. Omitted
values are set to their initial values.

<table class=propdef>
  <tr>
    <th>Name:
    <td><dfn>border</dfn>
  <tr>
    <th>Value:
    <td><var>&lt;border-width&gt;</var> ||
        <var>&lt;border-style&gt;</var> ||
        <var>&lt;color&gt;</var>
  <tr>
    <th>Initial:
    <td>See individual properties
  <tr>
    <th>Applies to:
    <td>all elements
  <tr>
    <th>Inherited:
    <td>no
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>visual
  <tr>
    <th>Computed value:
    <td>see individual properties
</table>

<p>The 'border' property is a shorthand
property for setting the same width, color, and style for all
four borders of a box. Unlike the shorthand
'margin' and
'padding' properties, the
'border' property cannot set different values
on the four borders. To do so, one or more of the other border
properties must be used.

<div class="example">
<p>For example, the first rule below is equivalent to the set of four
rules shown after it:

<pre>
p { border: solid red }
p {
  border-top: solid red;
  border-right: solid red;
  border-bottom: solid red;
  border-left: solid red;
}
</pre>
</div>

<p>Since, to some extent, the properties have overlapping
functionality, the order in which the rules are specified is
important.

<div class="example">
<p>Consider this example:
<pre>
blockquote {
  border-color: red;
  border-left: double;
  color: black
}
</pre>

<p>In the above example, the color of the left border is black, while
the other borders are red. This is due to
'border-left' setting the width, style, and
color. Since the color value is not given by the
'border-left' property, it will be taken from
the 'color' property. The fact that the
'color' property is set after the
'border-left' property is not relevant.
</div>

<h3 id="the-box-shadow">The 'box-shadow' property</h3>

<table class=propdef>
  <tr><td><em>Name:</em> <td><dfn>box-shadow</dfn>
  <tr><td><em>Value:</em> <td>none | [ <var>&lt;length&gt;</var>

    <var>&lt;length&gt;</var>
    <var>&lt;length&gt;</var>? || <var>&lt;color&gt;</var> ] [ ,
    <var>&lt;length&gt;</var> <var>&lt;length&gt;</var>
    <var>&lt;length&gt;</var>? || <var>&lt;color&gt;</var> ]+
  <tr><td><em>Initial:</em> <td>none
  <tr><td><em>Applies to:</em> <td>all elements
  <tr><td><em>Inherited:</em> <td>no
  <tr><td><em>Percentages:</em> <td>N/A
  <tr><td><em>Media:</em> <td>visual
  <tr><td><em>Computed value:</em> <td>any &lt;length&gt; made
    absolute; in the case of 'currentcolor', the computed value of
    'color'; otherwise as specified

</table>

<p class=issue>Multiple shadows may be overkill and hard to implement.
What are the use cases?

<p>One or more drop-shadows can be attached to a box. They are drawn
just outside the border edge. The property is a comma-separated list
of shadows, each specified by 3 length values and a color. Omitted
lengths are 0, omitted colors are equal to the computed value of the
 'color' property.

<p>Shadows do not influence the layout: they may overlap with other
boxes. Like backgrounds and borders, if they overlap other boxes, they
are drawn behind any text or replaced element. In terms of the
<em>stacking context,</em> the shadow of an element is drawn
immediately below the background of that element.

<p>The 3 lengths and the color of each shadow are interpreted as
follows:

<ul>
  <li>The first length is the horizontal offset of the shadow. A
  positive value draws a shadow that is offset to the right of the
  box, a negative length to the left.

  <li>The second length is the vertical offset. A positive value
  offsets the shadow down, a negative one up.

  <li>The third length is a blur radius. Negative values are not
  allowed. If it is 0, the shadow is sharp, otherwise the larger the
  value, the more the shadow is blurred. The exact algorithm is not
  specified.

  <li>The color is the color of the shadow.
</ul>

<p>If an element has multiple boxes, all of them get drop shadows, but
shadows are only drawn where borders would also be drawn, see
'border-break'. If the box has a nonzero
<span class="property">border-radius'</span>, the shadow is rounded in
the same way.

<div class="example">
<p>Here is an example of single words with a drop shadow. Assume the
words were enclosed in <span class="html">&lt;span&gt;</span> and the
style rule was

<pre>span {border: thin solid; box-shadow: 0.2em 0.2em #CCC}</pre>

<p>The result might look like this:

<div class=figure>
  <p><img alt="He will be put on b_r_e_a_d_| and w_a_t_e_r_|"
  src="box-shadow.png">
</div>
</div>

<p class=issue>This example shows a shadow on the bottom right only,
even though the box is transparent. Shouldn't we see a
&#8220;real&#8221; shadow, projecting exactly the opaque parts of the
box? What if the opaque parts are actually semi-opaque? Will the
shadow be less intense there?

<div class=example>
<p>If the background of the parent element is a pattern, it might be
useful to specify that the shadow is semi-transparent:

<pre>
P { box-shadow: 0.2em 0.2em rgba(212, 212, 212, 0.7) }
</pre>
</div>


<h2>Definitions</h2>

<h3>Profiles</h3>

<p class=issue>(NOTE: Check profiles because of changes made!)

<p>CSS1 Profile:
<ul>
  <li>'background-color'
  <li>'background-image'
  <li>'background-repeat': only repeat, repeat-x, repeat-y, no-repeat
  <li>'background-attachment'
  <li>'background-position'
  <li>'background': only color, image, repeat, attachment and position
  <li>'background-origin' always has value ''content''
  <li>'background-clip' always has value ''border''
  <li>'background-break' always has value ''continuous''
</ul>

<p>CSS2 Profile:
<ul>
  <li>'background-color'
  <li>'background-image'
  <li>'background-repeat': only repeat,
repeat-x, repeat-y, no-repeat
  <li>'background-attachment'
  <li>'background-position'
  <li>'background': only color, image, repeat, attachment and position
  <li>'background-origin' always has value ''padding''
  <li>'background-clip' always has value ''border''
  <li>'background-break' always has value ''continuous''
</ul>

<p>Mobile and TV Profiles (informative, see their specifications):
<ul>
  <li>'background-color'
  <li>'background-image'
  <li>'background-repeat': only repeat,
repeat-x, repeat-y, no-repeat
  <li>'background-position'
  <li>'background': only color, image, repeat and position
  <li>'background-attachment': always has value ''scroll''
  <li>'background-origin' always has value ''padding''
  <li>'background-clip' always has value ''border''
  <li>'background-break' always has value ''continuous''
</ul>

<p>CSS3 Profile:
<ul>
  <li>Everything (as described in this specification)
</ul>



<h3 id=conformance>Conformance</h3>

<p>A <span>UA</span> conforms to this module if it satisfies the rules
given next. However, it is recommended that UAs try to conform to one
of the levels (1, 2 or 3) or profiles ([[CSS-MOBILE]], [[CSS-PRINT]],
etc.) of CSS, rather than to individual modules.

<p>A UA that renders <span title=document>documents</span> must
interpret CSS style sheets according to the generic CSS grammar
[[!CSS3SYN]] and the individual grammars of each property in this
module, it must understand at least type selectors [[!SELECT]], it
must apply the rules of cascading and inheritance [[!CSS3CASCADE]],
and it must render documents as defined for each property in this
module.

<p>A UA that writes style sheets, must write syntactically correct
style sheets, according to the generic CSS grammar [[!CSS3SYN]] and
the individual grammars of each property in this module.

<p>The inability of a UA to correctly render a document due to
limitations of the device does not make the UA non-conformant. (For
example, a UA cannot render color on a monochrome monitor.)



<h3>Glossary</h3>

<p>The following terms and abbreviations are used in this
module.

<dl>
<dt><dfn>UA</dfn>
<dt><dfn>User Agent</dfn>
<dd>
<p>A program that reads and/or writes CSS style sheets on behalf of a
user in either or both of these categories: programs whose purpose is
to render <span title=document>documents</span> (e.g., browsers) and
programs whose purpose is to create style sheets (e.g., editors). A UA
may fall into both categories. (There are other programs that read or
write style sheets, but this module gives no rules for them.)

<dt><dfn>document</dfn>
<dt><dfn>source document</dfn>
<dd>
<p>A tree-structured document with elements and attributes, such as an
SGML or XML document [[XML11]].

<dt><dfn>HTML document</dfn>
<dd>
<p>A document that has the MIME type text/html [[RFC2854]] and
conforms to that type.

<dt><dfn>XHTML document</dfn>
<dd>
<p>A document that has the MIME type text/xhtml+xml or
application/xhtml+xml [[RFC3236]] and conforms to either type.

<dt><dfn>style sheet</dfn>
<dd>
<p>A document conforming to the generic CSS grammar [[!CSS3SYN]].
</dl>



<h3 id="exit">CR exit criteria</h3>

<p>As described in the W3C process document, a <a
href="/Consortium/Process/Process-19991111/tr.html#RecsCR">Candidate
Recommendation</a> (CR) is a specification that W3C recommends for use
on the Web. The next stage is &#8220;Recommendation,&#8221; when the
specification is sufficiently implemented.

<p>For this specification to be proposed as a W3C Recommendation, the
following conditions shall be met:
<ol>
  <li><p>There must be at least two interoperable implementations for
  every feature in the Module. For the purposes of this criterion, we
  define the following terms:
  <dl>
    <dt>feature

      <dd><p>a section or subsection of the specification

    <dt>interoperable

      <dd><p>passing the respective test case(s) in the CSS test
      suite, or, if the implementation is not a web browser, an
      equivalent test. Every relevant test in the test suite should
      have an equivalent test created if such a UA is to be used to
      claim interoperability. In addition if such a UA is to be used
      to claim interoperability, then there must one or more
      additional UAs which can also pass those equivalent tests in the
      same way for the purpose of interoperability. The equivalent
      tests must be made publicly available for the purposes of peer
      review.

    <dt>implementation

      <dd><p>a user agent which:
      <ol>
        <li>implements the feature.

        <li>is available (i.e. publicly downloadable or available
        through some other public point of sale mechanism). This is
        the "show me" requirement.

        <li>is shipping (i.e. development, private or unofficial
        versions are insufficient).

        <li>is not experimental (i.e. is intended for a wide audience
        and could be used on a daily basis.)
      </ol>
  </dl>

  <li><p>A minimum of sixth months of the CR period must have elapsed.
  This is to ensure that enough time is given for any remaining major
  errors to be caught.

  <li><p>Features will be dropped if two or more interoperable
  implementations are not found by the end of the CR period.

  <li><p>Features may/will also be dropped if adequate/sufficient (by
  judgment of CSS WG) tests have not been produced for those
  feature(s) by the end of the CR period.
</ol>



<h2>Acknowledgments</h2>

<p>Tapas Roy was editor of the Border Module, before it was merged
with the Background Module.

<p>A set of properties for border images was initially proposed by
<em>fantasai.</em> The current simplification (one image cut into nine
parts) is due to Ian Hickson. (Though the original idea seems to
originate with some anonymous Microsoft engineers.)

<p>Thanks to Ben Stucki for defining what happens with rounded corners
if the two adjoining borders are of unequal thickness or one of them
is zero; to Arjan Eising and Anne van Kesteren for the
<code>border-radius</code> syntax.

<!--
<p class=issue>Editor's Note: This list needs to be updated (or
dropped).

<p>This specification is the product of the W3C Working Group on
Cascading Style Sheets and Formatting Properties. In addition to the
editor of this specification, the members of the Working Group
are:
<ul>
  <li>Marc Attinasi (Netscape/AOL)
  <li>Bert Bos (W3C)
  <li>Tantek &Ccedil;elik (Microsoft Corp.)
  <li>Don Day (IBM)
  <li>Martin D&uuml;rst (W3C)
  <li>Angel Diaz (IBM)
  <li>Daniel Glazman (Netscape/AOL from nov. 2000, and Electricit&eacute; de France
    until feb. 2000)
  <li>H&aring;kon W. Lie (Opera Software from April 1999, and W3C until April
  1999)
  <li>Chris Lilley (W3C)
  <li>Dave Raggett (W3C/Openwave Systems Inc.)
  <li>Pierre Saslawsky (Netscape/AOL)
  <li>Michel Suignard (Microsoft Corp.)
  <li>Ted Wugofski (Openwave Systems Inc.)
  <li>Steve Zilles (Adobe)
</ul>

<p>A number of invited experts to the Working Group have significantly
contributed to CSS 3 : David. L Baron, Todd Fahrner, Daniel Glazman,
Ian Hickson, Eric Meyer (The OPAL Group), Jeff Veen.

<p>Former members of the Working Group:
<ul>
  <li>Chris Brichford (Adobe)
  <li>Troy Chevalier (Netscape/AOL)
  <li>Dwayne Dicks (Softquad)
  <li>Ian Jacobs (W3C)
  <li>Lorin Jurow (Quark)
  <li>Sho Kuwamoto (Macromedia)
  <li>Peter Linss (Netscape/AOL)
  <li>Steven Pemberton (W3C/CWI)
  <li>Robert Pernett (Lotus)
  <li>Douglas Rand (SGI)
  <li>Nisheeth Ranjan (Netscape/AOL)
  <li>Ed Tecot (Microsoft Corp.)
  <li>Jared Sorensen (Novell)
  <li>Robert Stevahn (Hewlett-Packard)
  <li>Mike Wexler (Adobe)
  <li>John Williams (Quark)
  <li>Chris Wilson (Microsoft Corp.)
</ul>
-->


<h2>References</h2>

<h3 class="no-num">Normative references</h3>
<!--normative-->

<h3 class="no-num">Other references</h3>
<!--informative-->



<h2 class="no-num">Property index</h2>
<!-- properties -->

<p>The following properties are defined in other modules:

<ul>
  <li><dfn>'color'</dfn>, see [[!CSS3COLOR]]

  <li><dfn>'margin'</dfn>, <dfn>'padding'</dfn>, see [[CSS3BOX]]

  <li><dfn>'overflow'</dfn>, see [[CSS3BOX]]

  <li><dfn>'z-index'</dfn>, see [[CSS3POS]]

  <li><dfn>'border-collapse'</dfn>, see [[CSS3TBL]]

  <li><dfn>'direction'</dfn>, see [[CSS3TEXT]]
</ul>

<p>The following data types are defined in [[!CSS3VAL]]:

<!-- Types should be linked directly to the Values module,
     and this list should be removed... Maybe later. -->
<ul>
  <li><dfn>&lt;percentage&gt;</dfn>
  <li><dfn>&lt;length&gt;</dfn>
  <li><dfn>&lt;uri&gt;</dfn>
  <li><dfn>&lt;color&gt;</dfn>
  <li><dfn>&lt;non-negative-number&gt</dfn>
</ul>



<h2 class="no-num" id="index">Index</h2>
<!--index-->

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
End:
-->
